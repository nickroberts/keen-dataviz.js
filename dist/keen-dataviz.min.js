(function e(b,g,d){function c(m,j){if(!g[m]){if(!b[m]){var i=typeof require=="function"&&require;if(!j&&i){return i(m,!0)}if(a){return a(m,!0)}var k=new Error("Cannot find module '"+m+"'");throw k.code="MODULE_NOT_FOUND",k}var h=g[m]={exports:{}};b[m][0].call(h.exports,function(l){var o=b[m][1][l];return c(o?o:l)},h,h.exports,e,b,g,d)}return g[m].exports}var a=typeof require=="function"&&require;for(var f=0;f<d.length;f++){c(d[f])}return c})({1:[function(d,f,b){var g=d("./dataset");var i=d("./utils/extend");f.exports=function(j){if(!arguments.length){return this.dataset.data()}if(j instanceof g){this.dataset=j;return this}else{return h.call(this,j)}};function h(k){var l,m,r,j,s=[],o,q,p,n;m=this.indexBy()?this.indexBy():"timestamp.start";r=k.metadata||{};o=(typeof k.query!=="undefined")?k.query:{};o=i({analysis_type:null,event_collection:null,filters:[],group_by:null,interval:null,timeframe:null,timezone:null},o);if(o.analysis_type==="funnel"){j="funnel"}else{if(o.analysis_type==="extraction"){j="extraction"}else{if(o.analysis_type==="select_unique"){if(!o.group_by&&!o.interval){j="list"}}else{if(o.analysis_type){if(!o.group_by&&!o.interval){j="metric"}else{if(o.group_by&&!o.interval){if(o.group_by instanceof Array&&o.group_by.length>1){j="double-grouped-metric";s.push(o.group_by)}else{j="grouped-metric"}}else{if(o.interval&&!o.group_by){j="interval";s.push(m)}else{if(o.group_by&&o.interval){if(o.group_by instanceof Array&&o.group_by.length>1){j="double-grouped-interval";s.push(o.group_by);s.push(m)}else{j="grouped-interval";s.push(m)}}}}}}}}}if(!j){if(typeof k.result==="number"){j="metric"}if(k.result instanceof Array&&k.result.length>0){if(k.result[0].timeframe&&(typeof k.result[0].value=="number"||k.result[0].value==null)){j="interval";s.push(m)}if(typeof k.result[0].result=="number"){j="grouped-metric"}if(k.result[0].value instanceof Array){j="grouped-interval";s.push(m)}if(typeof k.result[0]==="number"&&typeof k.steps!=="undefined"){j="funnel";o.steps=k.steps}if((typeof k.result[0]==="string"||typeof k.result[0]=="number")&&typeof k.steps==="undefined"){j="list"}if(!j){j="extraction"}}}if(!this.title()){if(r.display_name){p=r.display_name}else{p=c(o)}this.title(p)}if(!this.type()){if(r.visualization&&r.visualization.chart_type){n=r.visualization.chart_type}else{n=a(j)}this.type(n)}q=g.parser.apply(this,[j].concat(s));l=q(i(k,{query:o}));if(j.indexOf("interval")>-1){l.updateColumn(0,function(u,t){return new Date(u)})}this.dataset=l;return this}function c(j){var l=j.analysis_type?j.analysis_type.replace("_"," "):"",k;k=l.replace(/\b./g,function(m){return m.toUpperCase()});if(j.event_collection){k+=" - "+j.event_collection}return k}function a(k){var j;switch(k){case"metric":j="metric";break;case"interval":j="area";break;case"grouped-metric":case"double-grouped-metric":j="bar";break;case"grouped-interval":case"double-grouped-interval":j="line";break;case"funnel":j="horizontal-bar";break;case"list":case"extraction":default:j="table"}return j}},{"./dataset":2,"./utils/extend":27}],2:[function(b,c,a){(function(d){(function(k){var h=b("./modifiers/append"),q=b("./modifiers/delete"),g=b("./modifiers/filter"),p=b("./modifiers/insert"),m=b("./modifiers/select"),j=b("./modifiers/sort"),i=b("./modifiers/update");var o=b("./utils/analyses"),l=b("../utils/extend"),n=b("./utils/parsers");function f(){if(this instanceof f===false){return new f()}this.matrix=[["Index"]];this.meta={type:undefined}}f.prototype.data=function(r){if(!arguments.length){return this.matrix}this.matrix=(r instanceof Array?r:null);return this};f.prototype.set=function(v,u){if(arguments.length<2||v.length<2){throw Error("Incorrect arguments provided for #set method")}var r="number"===typeof v[0]?v[0]:this.matrix[0].indexOf(v[0]),w="number"===typeof v[1]?v[1]:m.selectColumn.call(this,0).indexOf(v[1]);var t=m.selectColumn.call(this,v[0]),s=m.selectRow.call(this,v[1]);if(t.length<1){h.appendColumn.call(this,String(v[0]));r=this.matrix[0].length-1}if(s.length<1){h.appendRow.call(this,String(v[1]));w=this.matrix.length-1}this.matrix[w][r]=u;return this};f.prototype.type=function(r){if(!arguments.length){return this.meta.type}this.meta.type=(r?String(r):undefined);return this};l(f.prototype,h);l(f.prototype,q);l(f.prototype,g);l(f.prototype,p);l(f.prototype,m);l(f.prototype,j);l(f.prototype,i);l(f.prototype,o);f.parser=n(f);if(typeof c!=="undefined"&&c.exports){c.exports=f}if(typeof define!=="undefined"&&define.amd){define("keen-dataset",[],function(){return f})}k.Keen=k.Keen||{};k.Keen.Dataset=f;k.Dataset=f}).call(this,typeof window!=="undefined"?window:typeof d!=="undefined"?d:typeof self!=="undefined"?self:{})}).call(this,typeof global!=="undefined"?global:typeof self!=="undefined"?self:typeof window!=="undefined"?window:{})},{"../utils/extend":27,"./modifiers/append":3,"./modifiers/delete":4,"./modifiers/filter":5,"./modifiers/insert":6,"./modifiers/select":7,"./modifiers/sort":8,"./modifiers/update":9,"./utils/analyses":10,"./utils/parsers":13}],3:[function(d,f,c){var b=d("../utils/create-null-list"),h=d("../../utils/each");f.exports={appendColumn:g,appendRow:a};function g(m,j){var i=this,l=Array.prototype.slice.call(arguments,2),k=(m!==undefined)?m:null;if(typeof j==="function"){i.matrix[0].push(k);h(i.matrix,function(p,o){var n;if(o>0){n=j.call(i,p,o);if(typeof n==="undefined"){n=null}i.matrix[o].push(n)}})}else{if(!j||j instanceof Array){j=j||[];if(j.length<=i.matrix.length-1){j=j.concat(b(i.matrix.length-1-j.length))}else{h(j,function(o,n){if(i.matrix.length-1<j.length){a.call(i,String(i.matrix.length))}})}i.matrix[0].push(k);h(j,function(o,n){i.matrix[n+1][i.matrix[0].length-1]=o})}}return i}function a(n,j){var i=this,m=Array.prototype.slice.call(arguments,2),l=(n!==undefined)?n:null,k=[];k.push(l);if(typeof j==="function"){h(i.matrix[0],function(q,r){var p,o;if(r>0){p=i.selectColumn(r);o=j.call(i,p,r);if(typeof o==="undefined"){o=null}k.push(o)}});i.matrix.push(k)}else{if(!j||j instanceof Array){j=j||[];if(j.length<=i.matrix[0].length-1){j=j.concat(b(i.matrix[0].length-1-j.length))}else{h(j,function(p,o){if(i.matrix[0].length-1<j.length){g.call(i,String(i.matrix[0].length))}})}i.matrix.push(k.concat(j))}}return i}},{"../../utils/each":24,"../utils/create-null-list":11}],4:[function(d,f,c){var g=d("../../utils/each");f.exports={deleteColumn:a,deleteRow:b};function a(j){var h=this,i=(typeof j==="number")?j:this.matrix[0].indexOf(j);if(i>-1){g(h.matrix,function(l,k){h.matrix[k].splice(i,1)})}return h}function b(i){var h=(typeof i==="number")?i:this.selectColumn(0).indexOf(i);if(h>-1){this.matrix.splice(h,1)}return this}},{"../../utils/each":24}],5:[function(c,d,b){var f=c("../../utils/each");d.exports={filterColumns:a,filterRows:g};function a(i){var h=this,j=new Array();f(h.matrix,function(l,k){j.push([])});f(h.matrix[0],function(k,l){var m=h.selectColumn(l);if(l==0||i.call(h,m,l)){f(m,function(n,o){j[o].push(n)})}});h.data(j);return h}function g(i){var h=this,j=[];f(h.matrix,function(l,k){if(k==0||i.call(h,l,k)){j.push(l)}});h.data(j);return h}},{"../../utils/each":24}],6:[function(f,b,g){var i=f("../../utils/each");var h=f("../utils/create-null-list");var c=f("./append");var k=c.appendRow,d=c.appendColumn;b.exports={insertColumn:a,insertRow:j};function a(o,p,m){var l=this,n;n=(p!==undefined)?p:null;if(typeof m==="function"){l.matrix[0].splice(o,0,n);i(l.matrix,function(s,r){var q;if(r>0){q=m.call(l,s,r);if(typeof q==="undefined"){q=null}l.matrix[r].splice(o,0,q)}})}else{if(!m||m instanceof Array){m=m||[];if(m.length<=l.matrix.length-1){m=m.concat(h(l.matrix.length-1-m.length))}else{i(m,function(r,q){if(l.matrix.length-1<m.length){k.call(l,String(l.matrix.length))}})}l.matrix[0].splice(o,0,n);i(m,function(r,q){l.matrix[q+1].splice(o,0,r)})}}return l}function j(p,q,m){var l=this,o,n=[];o=(q!==undefined)?q:null;n.push(o);if(typeof m==="function"){i(l.matrix[0],function(t,u){var s,r;if(u>0){s=l.selectColumn(u);r=m.call(l,s,u);if(typeof r==="undefined"){r=null}n.push(r)}});l.matrix.splice(p,0,n)}else{if(!m||m instanceof Array){m=m||[];if(m.length<=l.matrix[0].length-1){m=m.concat(h(l.matrix[0].length-1-m.length))}else{i(m,function(s,r){if(l.matrix[0].length-1<m.length){d.call(l,String(l.matrix[0].length))}})}l.matrix.splice(p,0,n.concat(m))}}return l}},{"../../utils/each":24,"../utils/create-null-list":11,"./append":3}],7:[function(d,f,c){var g=d("../../utils/each");f.exports={selectColumn:b,selectRow:a};function b(j){var h=new Array(),i=(typeof j==="number")?j:this.matrix[0].indexOf(j);if(i>-1&&"undefined"!==typeof this.matrix[0][i]){g(this.matrix,function(l,k){h.push(l[i])})}return h}function a(j){var h=new Array(),i=(typeof j==="number")?j:this.selectColumn(0).indexOf(j);if(i>-1&&"undefined"!==typeof this.matrix[i]){h=this.matrix[i]}return h}},{"../../utils/each":24}],8:[function(d,f,c){var g=d("../../utils/each");f.exports={sortColumns:b,sortRows:a};function b(m,i){var h=this,j=this.matrix[0].slice(1),l=[],n=[],k=i||this.getColumnLabel;g(j,function(o,p){l.push(h.selectColumn(p+1).slice(0))});l.sort(function(p,o){var q=k.call(h,p)>k.call(h,o);if(q){return(m==="asc"?1:-1)}else{if(!q){return(m==="asc"?-1:1)}else{return 0}}});g(l,function(o,p){h.deleteColumn(p+1).insertColumn(p+1,o[0],o.slice(1))});return h}function a(m,j){var i=this,k=this.matrix.slice(0,1),h=this.matrix.slice(1),l=j||this.getRowIndex;h.sort(function(o,n){var p=l.call(i,o)>l.call(i,n);if(p){return(m==="asc"?1:-1)}else{if(!p){return(m==="asc"?-1:1)}else{return 0}}});i.data(k.concat(h));return i}},{"../../utils/each":24}],9:[function(f,a,g){var j=f("../../utils/each");var h=f("../utils/create-null-list");var b=f("./append");var k=b.appendRow,d=b.appendColumn;a.exports={updateColumn:i,updateRow:c};function i(o,m){var l=this,n=(typeof o==="number")?o:this.matrix[0].indexOf(o);if(n>-1){if(typeof m==="function"){j(l.data(),function(r,q){var p;if(q>0){p=m.call(l,r[n],q,r);if(typeof p!=="undefined"){l.matrix[q][n]=p}}})}else{if(!m||m instanceof Array){m=m||[];if(m.length<=l.data().length-1){m=m.concat(h(l.data().length-1-m.length))}else{j(m,function(q,p){if(l.matrix.length-1<m.length){k.call(l,String(l.matrix.length))}})}j(m,function(q,p){l.matrix[p+1][n]=q})}}}return l}function c(o,m){var l=this,n=(typeof o==="number")?o:this.selectColumn(0).indexOf(o);if(n>-1){if(typeof m==="function"){j(l.data()[n],function(s,r){var q=l.selectColumn(r),p=m.call(l,s,r,q);if(typeof p!=="undefined"){l.matrix[n][r]=p}})}else{if(!m||m instanceof Array){m=m||[];if(m.length<=l.matrix[0].length-1){m=m.concat(h(l.matrix[0].length-1-m.length))}else{j(m,function(q,p){if(l.matrix[0].length-1<m.length){d.call(l,String(l.matrix[0].length))}})}j(m,function(q,p){l.matrix[n][p+1]=q})}}}return l}},{"../../utils/each":24,"../utils/create-null-list":11,"./append":3}],10:[function(d,c,h){var l=d("../../utils/each"),k=d("../../utils/extend");var a={};var f={average:b,maximum:g,minimum:j,sum:i};function b(m,r,n){var q=m.slice(r||0,(n?n+1:m.length)),o=0,p=null;l(q,function(t,s){if(typeof t==="number"&&!isNaN(parseFloat(t))){o+=parseFloat(t)}});return o/q.length}function g(m,q,n){var p=m.slice(q||0,(n?n+1:m.length)),o=[];l(p,function(s,r){if(typeof s==="number"&&!isNaN(parseFloat(s))){o.push(parseFloat(s))}});return Math.max.apply(Math,o)}function j(m,q,n){var p=m.slice(q||0,(n?n+1:m.length)),o=[];l(p,function(s,r){if(typeof s==="number"&&!isNaN(parseFloat(s))){o.push(parseFloat(s))}});return Math.min.apply(Math,o)}function i(m,q,n){var p=m.slice(q||0,(n?n+1:m.length)),o=0;l(p,function(s,r){if(typeof s==="number"&&!isNaN(parseFloat(s))){o+=parseFloat(s)}});return o}l(f,function(o,m){var n=m.charAt(0).toUpperCase()+m.slice(1);a["getColumn"+n]=a["getRow"+n]=function(p){return this[m](p,1)}});a.getColumnLabel=a.getRowIndex=function(m){return m[0]};k(f,a);c.exports=f},{"../../utils/each":24,"../../utils/extend":27}],11:[function(b,c,a){c.exports=function(d){var g=new Array();for(var f=0;f<d;f++){g.push(null)}return g}},{}],12:[function(b,c,a){c.exports=d;function d(g){var k={};for(var h in g){if(!g.hasOwnProperty(h)){continue}if((typeof g[h])=="object"&&g[h]!==null){var j=d(g[h]);for(var f in j){if(!j.hasOwnProperty(f)){continue}k[h+"."+f]=j[f]}}else{k[h]=g[h]}}return k}},{}],13:[function(f,c,j){var b;var p=f("../../utils/each"),a=f("../utils/flatten");var q={metric:m,interval:i,"grouped-metric":o,"grouped-interval":r,"double-grouped-metric":h,"double-grouped-interval":g,funnel:n,list:k,extraction:d};c.exports=l;function l(s){b=s;return function(u){var t=Array.prototype.slice.call(arguments,1);if(!q[u]){throw"Requested parser does not exist"}else{return q[u].apply(this,t)}}}function m(){return function(s){return new b().set(["Value","Result"],s.result).type("metric")}}function i(){var s=Array.prototype.slice.call(arguments);return function(t){var u=new b().type("interval");p(t.result,function(v,x){var w=s[0]&&s[0]==="timeframe.end"?v.timeframe.end:v.timeframe.start;u.set(["Result",w],v.value)});return u}}function o(){return function(s){var t=new b().type("grouped-metric");p(s.result,function(u,w){var v;p(u,function(y,x){if(x!=="result"){v=x}});t.set(["Result",String(u[v])],u.result)});return t}}function r(){var s=Array.prototype.slice.call(arguments);return function(t){var u=new b().type("grouped-interval");p(t.result,function(v,x){var w=s[0]&&s[0]==="timeframe.end"?v.timeframe.end:v.timeframe.start;if(v.value.length){p(v.value,function(A,z){var y;p(A,function(C,B){if(B!=="result"){y=B}});u.set([String(A[y]),w],A.result)})}else{u.appendRow(w)}});return u}}function h(){var s=Array.prototype.slice.call(arguments);if(!s[0]){throw"Requested parser requires a sequential list (array) of properties to target as a second argument"}return function(t){var u=new b().type("double-grouped-metric");p(t.result,function(v,w){var x=v[s[0][0]]+" "+v[s[0][1]];u.set(["Result",x],v.result)});return u}}function g(){var s=Array.prototype.slice.call(arguments);if(!s[0]){throw"Requested parser requires a sequential list (array) of properties to target as a second argument"}return function(t){var u=new b().type("double-grouped-interval");p(t.result,function(v,x){var w=s[1]&&s[1]==="timeframe.end"?v.timeframe.end:v.timeframe.start;p(v.value,function(A,z){var y=A[s[0][0]]+" "+A[s[0][1]];u.set([y,w],A.result)})});return u}}function n(){return function(u){var s,t,v;if(typeof u.steps!=="undefined"&&typeof u.result!=="undefined"&&u.result instanceof Array){s=u.result;t=u.steps}else{if(typeof u.result.steps!=="undefined"&&typeof u.result.result!=="undefined"&&u.result.result instanceof Array){s=u.result.result;t=u.result.steps}}v=new b().type("funnel");v.appendColumn("Step Value");p(s,function(x,w){if(typeof t!=="undefined"&&t[w]){v.appendRow(String(t[w].event_collection),[x])}});return v}}function k(){return function(s){var t=new b().type("list");p(s.result,function(v,u){t.set(["Result",String(u+1)],v)});return t}}function d(){return function(s){var t=new b().type("extraction");p(s.result,function(u,v){p(a(u),function(x,w){t.set([w,String(v+1)],x)})});t.deleteColumn(0);return t}}},{"../../utils/each":24,"../utils/flatten":12}],14:[function(b,c,a){(function(d){(function(o){var g=b("./dataset"),l=b("./data");var q=b("./utils/each"),p=b("./utils/extend"),m=b("./utils/assert-date-string"),k=b("./utils/escape-html");function f(){if(this instanceof f===false){return new f()}this.dataset=new g();this.view={_prepared:false,_rendered:false,_artifacts:{},chartOptions:{},colors:["#00bbde","#fe6672","#eeb058","#8a8ad6","#ff855c","#00cfbb","#5a9eed","#73d483","#c879bb","#0099b6","#d74d58","#cb9141","#6b6bb6","#d86945","#00aa99","#4281c9","#57b566","#ac5c9e","#27cceb","#ff818b","#f6bf71","#9b9be1","#ff9b79","#26dfcd","#73aff4","#87e096","#d88bcb"],colorMapping:{},dateFormat:undefined,el:undefined,height:undefined,indexBy:"timeframe.start",labels:[],labelMapping:{},library:"default",notes:undefined,sortGroups:undefined,sortIntervals:undefined,stacked:false,theme:"keen-dataviz",title:undefined,type:undefined,width:undefined};f.visuals.push(this)}f.libraries={"default":{}};if("undefined"!==typeof window){f.libraries["default"]=b("./libraries")(f)}f.visuals=[];f.register=function(r,s){f.libraries[r]=f.libraries[r]||{};q(s,function(u,t){f.libraries[r][t]=u})};f.find=function(t){if(!arguments.length){return f.visuals}var s=t.nodeName?t:document.querySelector(t),r=null;q(f.visuals,function(u){if(s==u.el()){r=u;return false}});return r};f.prototype.attributes=function(s){if(!arguments.length){return this.view}var r=this.view;q(s,function(u,t){if(t==="chartType"){t="type"}r[t]=u});return this};f.prototype.call=function(r){r.call(this);return this};f.prototype.chartOptions=function(s){var r=this;if(!arguments.length){return this.view.chartOptions}if(s===null){this.view.chartOptions={}}else{if(typeof s==="object"){q(s,function(u,t){r.view.chartOptions[t]=(u?u:null)})}}return this};f.prototype.colors=function(r){if(!arguments.length){return this.view.colors}this.view.colors=(r instanceof Array?r:[]);return this};f.prototype.colorMapping=function(s){var r=this;if(!arguments.length){return this.view.colorMapping}if(s===null){this.view.colorMapping={}}else{if(typeof s==="object"){q(s,function(u,t){r.view.colorMapping[t]=(u?u:null)})}}return this};f.prototype.data=l;f.prototype.dateFormat=function(r){if(!arguments.length){return this.view.dateFormat}if(typeof r==="string"||typeof r==="function"){this.view.dateFormat=r}else{this.view.dateFormat=undefined}return this};f.prototype.destroy=function(){var r=this.library(),t=this.type(),s=this.el();if(f.libraries[r]&&f.libraries[r][t]){f.libraries[r][t].destroy.call(this)}if(s){s.innerHTML=""}this.view._prepared=false;this.view._rendered=false;this.view._artifacts={};return this};f.prototype.el=function(s){var r=this;if(!arguments.length){return this.view.el}j(function(){if(s&&s!==null){if(s.nodeName){r.view.el=s}else{if(document.querySelector){r.view.el=document.querySelector(s)}}}else{r.view.el=undefined}});return this};f.prototype.height=function(r){if(!arguments.length){return this.view.height}this.view.height=(!isNaN(parseInt(r))?parseInt(r):null);return this};f.prototype.indexBy=function(r){if(!arguments.length){return this.view.indexBy}this.view.indexBy=(r?String(r):"timeframe.start");return this};f.prototype.labels=function(r){if(!arguments.length){return this.view.labels}this.view.labels=(r instanceof Array?r:[]);if(this.data()[0].length===2&&!m(this.data()[1][0])){this.dataset.updateColumn(0,function(t,s){if(this.view.labels[s-1]){return String(this.view.labels[s-1])}else{return t}}.bind(this))}else{this.dataset.updateRow(0,function(t,s){if(s>0&&this.view.labels[s-1]){return String(this.view.labels[s-1])}else{return t}}.bind(this))}return this};f.prototype.labelMapping=function(r){if(!arguments.length){return this.view.labelMapping}if(r===null){this.view.labelMapping={}}else{if(typeof r==="object"){q(r,function(t,s){this.view.labelMapping[s]=(t?t:null)}.bind(this))}}if(this.data()[0].length===2&&!m(this.data()[1][0])){this.dataset.updateColumn(0,function(s){if(this.view.labelMapping[s]){return k(String(this.view.labelMapping[s]))}else{return k(s)}}.bind(this))}else{this.dataset.updateRow(0,function(s){if(this.view.labelMapping[s]){return k(String(this.view.labelMapping[s]))}else{return k(s)}}.bind(this))}return this};f.prototype.library=function(r){if(!arguments.length){return this.view.library}this.view.library=(r?String(r):null);return this};f.prototype.message=function(){var r;if(this.view._rendered){this.destroy()}if(this.el()){this.el().innerHTML="";var s=f.libraries["default"].message;if(s.render){s.render.apply(this,arguments)}}return this};f.prototype.notes=function(r){if(!arguments.length){return this.view.notes}this.view.notes=(r?String(r):null);return this};f.prototype.prepare=function(){var s=this,r;if(!this.el()){throw"A DOM element is required. Check out the .el() method.";return}j(function(){if(s.view._rendered){s.destroy()}if(s.el()){s.el().innerHTML="";r=f.libraries["default"].spinner;if(r.render){r.render.call(s)}s.view._prepared=true}});return this};f.prototype.render=function(){var t=this,r=f.libraries["default"].spinner,s=this.library(),v=this.type(),u=this.el();if(!this.el()){this.message("A DOM element is required. Check out the .el() method.");throw"A DOM element is required. Check out the .el() method.";return}if(!this.type()){this.message("A chart type is required. Check out the .type() method.");throw"A chart type is required. Check out the .type() method.";return}j(function(){if(t.view._prepared&&r.destroy){r.destroy.apply(t,arguments)}t.el().innerHTML="";if(f.libraries[s]==="undefined"){t.message("Incorrect library");throw"Incorrect library";return}else{if(typeof f.libraries[s][v]==="undefined"){this.message("Incorrect chart type");throw"Incorrect chart type";return}else{n(t.el(),{notes:t.notes(),theme:t.theme(),title:t.title()});f.libraries[s][v].render.call(t);t.view._rendered=true}}});return this};f.prototype.sortGroups=function(r){if(!arguments.length){return this.view.sortGroups}this.view.sortGroups=(r?String(r):null);if(this.view.sortGroups&&this.data().length>1){if(m(this.data()[1][0])){this.dataset.sortColumns(this.view.sortGroups,this.dataset.getColumnSum)}else{this.dataset.sortRows(this.view.sortGroups,this.dataset.getRowSum)}}return this};f.prototype.sortIntervals=function(r){if(!arguments.length){return this.view.sortInterval}this.view.sortIntervals=(r?String(r):null);if(this.view.sortIntervals){this.dataset.sortRows(this.view.sortIntervals)}return this};f.prototype.stacked=function(r){if(!arguments.length){return this.view.stacked}this.view.stacked=r?true:false;return this};f.prototype.theme=function(r){if(!arguments.length){return this.view.theme}this.view.theme=(r?String(r):null);return this};f.prototype.title=function(r){if(!arguments.length){return this.view.title}this.view.title=(r?String(r):null);return this};f.prototype.type=function(r){if(!arguments.length){return this.view.type}this.view.type=(r?i(r):null);return this};f.prototype.update=function(){var r=this.library(),t=this.type(),s=this.el();if(r&&t&&s&&f.libraries[r][t].update){f.libraries[r][t].update.apply(this,arguments)}return this};f.prototype.width=function(r){if(!arguments.length){return this.view.width}this.view.width=(!isNaN(parseInt(r))?parseInt(r):null);return this};f.prototype.chartType=f.prototype.type;f.prototype.error=f.prototype.message;f.prototype.parseRawData=f.prototype.data;f.prototype.parseRequest=function(){return this};f.prototype.initialize=function(){return this};function n(t,r){var s="";s+='<div class="'+r.theme+'">';if(r.title){s+='<div class="'+r.theme+'-title">'+k(r.title)+"</div>"}s+='<div class="'+r.theme+'-stage"><div class="'+r.theme+'-rendering"></div></div>';if(r.notes){s+='<div class="'+r.theme+'-notes">'+k(r.notes)+"</div>"}s+="</div>";t.innerHTML=s}function i(s){var r={areachart:"area",barchart:"horizontal-bar",columnchart:"bar",linechart:"line",piechart:"pie"};return r[s]||s}function j(s){if("undefined"!==typeof document||"undefined"===typeof window){s();return}if(document.readyState==null&&document.addEventListener){document.addEventListener("DOMContentLoaded",function r(){document.removeEventListener("DOMContentLoaded",r,false);document.readyState="complete"},false);document.readyState="loading"}h(s)}function h(r){if(/in/.test(document.readyState)){setTimeout(function(){h(r)},9)}else{r()}}if(typeof c!=="undefined"&&c.exports){c.exports=f}if(typeof define!=="undefined"&&define.amd){define("keen-dataviz",[],function(){return f})}o.Keen=o.Keen||{};o.Keen.Dataviz=f;o.Dataviz=f}).call(this,typeof window!=="undefined"?window:typeof d!=="undefined"?d:typeof self!=="undefined"?self:{})}).call(this,typeof global!=="undefined"?global:typeof self!=="undefined"?self:typeof window!=="undefined"?window:{})},{"./data":1,"./dataset":2,"./libraries":22,"./utils/assert-date-string":23,"./utils/each":24,"./utils/escape-html":25,"./utils/extend":27}],15:[function(b,c,a){c.exports=function(f,g){var h=Math.abs(new Date(f).getTime()-new Date(g).getTime());var d=["Jan","Feb","Mar","Apr","May","June","July","Aug","Sept","Oct","Nov","Dec"];if(h>=2419200000){return function(j){var i=new Date(j);return d[i.getMonth()]+" "+i.getFullYear()}}else{if(h>=86400000){return function(j){var i=new Date(j);return d[i.getMonth()]+" "+i.getDate()}}else{if(h>=3600000){return"%I:%M %p"}else{return"%I:%M:%S %p"}}}}},{}],16:[function(c,d,a){var f=c("d3");var b=c("../../../utils/assert-date-string");d.exports=function(q){var w=this,o=this.view._artifacts.c3,h=[],j=this.el().querySelector("."+this.theme()+"-rendering"),t=120;var u=this.view._artifacts.pagination={hidden:[],labels:[],position:0,range:Math.round((j.offsetHeight-78)/20),total:0};if(this.type()==="donut"||this.type()==="pie"){u.range=u.range>=5?5:u.range}for(var l=0;l<q.length;l++){if(q[l][0]!=="x"&&!b(q[l][1])){h.push(q[l][0])}}var m=f.select(j).append("svg").attr({"class":"keen-c3-legend",height:j.offsetHeight-10,width:t}).style({right:-t+"px",top:"10px"});var k=m.append("g").attr("class","keen-c3-legend-items");var g=20*u.range;var p=m.append("g").attr({"class":"keen-c3-legend-pagination",transform:function(){return"translate(2, "+g+")"}});s();function s(){u.labels=h.slice(u.position,u.position+u.range);u.total=h.length;v.call(w,u.labels);if(u.total>u.range){r.call(w)}o.resize()}function v(){k.selectAll("g").remove();var i=k.selectAll("g").data(u.labels);i.enter().append("g").attr("transform",function(y,x){return"translate(0, "+(20*x)+")"}).attr("data-id",function(x){return x}).style("opacity",function(y){var x=u.hidden.indexOf(y);return x<0?1:0.35}).each(function(x){f.select(this).append("text").attr({"font-size":12,"pointer-events":"none",x:15,y:9}).text(x).text(function(y){if(f.select(this).node().getBBox().width>105){return y.length<=15?y:y.substring(0,12)+"..."}else{return y}});f.select(this).append("rect").attr({height:14,width:110,x:0,y:0}).style({cursor:"pointer","fill-opacity":0});f.select(this).append("rect").attr({fill:o.color(x),height:10,"pointer-events":"none",rx:5,ry:5,width:10,x:0,y:0})}).on("mouseover",function(y,x){o.focus(y);if(y.length>15){f.select(j).append("div").attr("class","keen-c3-legend-label-overlay").style({"max-width":"75%",right:-t+"px",top:(5+(x+1)*20)+"px"}).html(y).append("div").attr("class","keen-c3-legend-label-overlay-pointer")}}).on("mouseout",function(x){o.revert();f.select(w.el().querySelector("."+w.theme()+"-rendering .keen-c3-legend-label-overlay")).remove()}).on("click",function(x){f.select(this).style("opacity",function(){var y=u.hidden.indexOf(x);if(y<0){u.hidden.push(x);return 0.35}else{u.hidden.splice(y,1);return 1}});o.toggle(x)});i.exit().remove()}function r(){p.selectAll("g").remove();p.selectAll("g").data([{direction:"reverse",path_d:"M0 10 L10 0 L20 10 Z"},{direction:"forward",path_d:"M0 0 L10 10 L20 0 Z"}]).enter().append("g").attr("transform",function(y,x){return"translate("+(x*20)+", 0)"}).each(function(i){f.select(this).append("path").attr("d",function(x){return x.path_d}).style({cursor:"pointer",fill:"#D7D7D7",stroke:"none"}).on("mouseover",function(x){f.select(this).style("fill","#4D4D4D")}).on("mouseout",function(x){f.select(this).style("fill","#D7D7D7")}).on("click",function(x){if(x.direction==="forward"){if(u.position+u.range<u.total){u.position=u.position+u.range}}else{if(u.position-u.range>=0){u.position=u.position-u.range}}s();n()})})}function n(){var i;if(document.selection&&document.selection.empty){i=document.selection;i.empty()}else{if(window.getSelection){i=window.getSelection();i.removeAllRanges()}}}}},{"../../../utils/assert-date-string":23,d3:30}],17:[function(c,d,b){var a=c("../../../utils/escape-html");d.exports=function(o,g,h,k){var s,f,j,r,p,m,q,n;j=this.config.tooltip_format_name||function(i){return i};m=this.config.tooltip_format_title||g;n=this.config.tooltip_format_value||h;for(var l=0;l<o.length;l++){if(!(o[l]&&(o[l].value||o[l].value===0))){continue}if(!r){p=m?m(o[l].x):o[l].x;r="<table class='"+this.CLASS.tooltip+"'>"+(p||p===0?"<tr><th colspan='2'>"+a(p)+"</th></tr>":"")}f=j(o[l].name);q=n(o[l].value,o[l].ratio,o[l].id,o[l].index);s=this.levelColor?this.levelColor(o[l].value):k(o[l].id);if(q){r+="<tr class='"+this.CLASS.tooltipName+"-"+o[l].id+"'>";r+="<td class='name'><span style='background-color:"+s+"'></span>"+a(f)+"</td>";r+="<td class='value'>"+a(q)+"</td>";r+="</tr>"}}return r+"</table>"}},{"../../../utils/escape-html":25}],18:[function(c,d,b){var a=c("../../utils/escape-html");d.exports={render:function(m){var j=document.createElement("div");var h=document.createElement("div");var l=document.createElement("span");var g=this.height()||140;var f=document.createElement("div");var k=document.createElement("div");j.className=this.theme();h.className=this.theme()+"-message";h.style.width=this.width()+"px";f.className=this.theme()+"-title";f.innerHTML=a(this.title()||"");k.className=this.theme()+"-notes";k.innerHTML=a(this.notes()||"");l.innerHTML=a(m)||"";h.appendChild(l);j.appendChild(f);j.appendChild(h);j.appendChild(k);this.el().innerHTML="";this.el().appendChild(j);var i=g-f.offsetHeight-k.offsetHeight;h.style.height=i+"px";h.style.paddingTop=(i/2-12)+"px"},update:function(){this.render()},destroy:function(){}}},{"../../utils/escape-html":25}],19:[function(d,f,c){var b=d("../../utils/pretty-number");var a=d("../../utils/escape-html");f.exports={render:function(){var k=this.colors()[0],l=this.theme(),o=this.title(),p="-",r=this.height()||140,i=this.width(),h=this.chartOptions(),m="",n="",q="",g,j;if(typeof this.data()[1][1]==="number"){p=this.data()[1][1]}g=p;if((typeof h.prettyNumber==="undefined"||h.prettyNumber===true)&&!isNaN(parseInt(p))){g=b(p)}if(h.prefix){n='<span class="'+l+'-metric-prefix">'+h.prefix+"</span>"}if(h.suffix){q='<span class="'+l+'-metric-suffix">'+h.suffix+"</span>"}m+='<div class="'+l+'">';m+='<div class="'+l+'-metric" style="background-color: '+k+"; width: "+(i?i+"px":"auto")+';" title="'+a(p)+'">';m+='<span class="'+l+'-metric-value">'+n+a(g)+q+"</span>";if(o){m+='<span class="'+l+'-metric-title">'+a(o)+"</span>"}m+="</div>";m+="</div>";this.el().innerHTML=m;j=this.el().querySelector("."+l+"-metric-value");j.style.paddingTop=((r-this.el().offsetHeight)/2)+"px";this.el().querySelector("."+l+"-metric").style.height=r+"px"},update:function(){this.render()},destroy:function(){}}},{"../../utils/escape-html":25,"../../utils/pretty-number":28}],20:[function(b,c,a){c.exports={render:function(){var h="",g=this.view._artifacts.spinner={},f=this.height()||35,j=(f-35)/2,i=["webkit","Moz","ms","O"],d=this.view._artifacts.radius=0,k;h+='<div class="'+this.theme()+'">';h+='<div class="keen-spinner-container" style="height: '+f+"px; padding-top: "+j+'px;">';h+='<div class="keen-spinner-indicator"></div>';h+="</div>";h+="</div>";this.el().innerHTML=h;k=this.el().querySelector(".keen-spinner-indicator");if(k.style.animationName===undefined){d=0;g.interval=setInterval(function(){d=(d===350)?0:d+10;for(var l=0;l<i.length;l++){k.style[i[l]]="rotate("+g.radius+"deg)"}},15)}},update:function(){this.render()},destroy:function(){if(this.view._artifacts.spinner){if(this.view._artifacts.spinner.interval){clearInterval(this.view._artifacts.spinner.interval)}this.view._artifacts.spinner.radius=0;try{delete this.view._artifacts.spinner}catch(d){this.view._artifacts.spinner=undefined}}this.el().innerHTML=""}}},{}],21:[function(d,f,b){var g=d("../../utils/each");var a=d("../../utils/escape-html");var h={height:undefined,width:undefined,stickyHeader:true,stickyFooter:false};function c(p,k,m){var o="";for(var n=0;n<p.length;n++){if(n>0){o+="<tr>";for(var l=0;l<p[n].length;l++){o+='<td style="min-width: '+(10*k[l])+"px; text-align: "+m[l]+';">'+a(p[n][l])+"</td>"}o+="</tr>"}}return o}f.exports={render:function(){var m=this.data(),l=this.el(),s=(this.height()||h.height)-this.el().offsetHeight,p=this.theme(),k=this.width()||h.width;var q="",r=new Array(m[0].length),t=new Array(m[0].length),j;var o=m.length===1&&m[0].length===0;if(o){this.message("No data to display");return}g(m,function(i){g(i,function(u,v){if(!t[v]){t[v]=0}r[v]=(typeof u==="number")?"right":"left";t[v]=(String(u).length>t[v])?String(u).length:t[v]})});q+='<div class="'+p+'-table" style="height: '+(s?s+"px":"auto")+"; width: "+(k?k+"px":"auto")+';">';q+='<table class="'+p+'-table-dataset">';q+="<thead>";q+="<tr>";for(var n=0;n<m[0].length;n++){q+='<th style="width: '+(10*t[n])+"px; text-align: "+r[n]+';">'+a(m[0][n])+"</th>"}q+="</tr>";q+="</thead>";q+="<tbody>";q+=c.bind(this,m,t,r)();q+="</tbody>";q+="</table>";q+='<table class="'+p+'-table-fixed-header">';q+="<thead>";q+="<tr>";for(var n=0;n<m[0].length;n++){q+='<th style="min-width: '+(10*t[n])+"px; text-align: "+r[n]+';">'+a(m[0][n])+"</th>"}q+="</tr>";q+="</thead>";q+="</table>";q+="</div>";l.querySelector("."+p+"-rendering").innerHTML=q;j=l.querySelector("."+p+"-table-fixed-header");l.querySelector("."+p+"-table").onscroll=function(i){j.style.top=i.target.scrollTop+"px"}},update:function(){this.render()},destroy:function(){var i=this.el().querySelector("."+this.theme()+"-table");if(i&&i.onscroll){i.onscroll=undefined}}}},{"../../utils/each":24,"../../utils/escape-html":25}],22:[function(d,c,h){var g=d("c3"),r=d("d3");var q=d("../utils/each"),n=d("../utils/extend"),o=d("../utils/extend-deep"),j=d("../utils/assert-date-string");var k=d("./c3/extensions/default-date-format");var i=d("./c3/extensions/paginating-legend");var m=d("./c3/extensions/tooltip-contents");var l={message:d("./default/message"),metric:d("./default/metric"),table:d("./default/table"),spinner:d("./default/spinner")};c.exports=function(t){var u,s;f(function(){if(u){clearTimeout(u)}s=(t.visuals.length>12)?1000:250;u=setTimeout(function(){q(t.visuals,function(v){if(v.view._artifacts.c3){v.view._artifacts.c3.resize()}})},s)});p();return l};function p(){var t=["area","area-spline","area-step","bar","donut","gauge","line","pie","step","spline","horizontal-area","horizontal-area-spline","horizontal-area-step","horizontal-bar","horizontal-line","horizontal-step","horizontal-spline"];function s(){var w,u,v;w={axis:{},color:{},data:{order:null},legend:{position:"right",show:true},padding:{},point:{focus:{expand:{enabled:false}},r:2,show:true},tooltip:{}};u={bindto:this.el().querySelector("."+this.theme()+"-rendering"),color:{pattern:this.colors()},data:{colors:n({},this.colorMapping()),columns:[],type:this.type().replace("horizontal-","")},size:{height:this.height()?this.height()-this.el().offsetHeight:400,width:this.width()},tooltip:{},transition:{duration:0}};v=o({},w,this.chartOptions());v=o(v,u);v.color.pattern=u.color.pattern;v.data.colors=u.data.colors;v.data.columns=u.data.columns;return v}q(t,function(v,u){l[v]={render:function(){var w=s.call(this);if(this.data()[0].length===1||this.data().length===1){this.message("No data to display");return}if(v==="gauge"){w.legend.position="bottom";w.data.columns=[[this.title()||this.data()[1][0],this.data()[1][1]]]}else{if(v==="pie"||v==="donut"){w.data.columns=this.data().slice(1)}else{if(v.indexOf("horizontal-")>-1){w.axis.rotated=v.indexOf("horizontal-")>-1}if(j(this.data()[1][0])){w.axis.x=w.axis.x||{};w.axis.x.type="timeseries";w.axis.x.tick=w.axis.x.tick||{format:this.dateFormat()||k(this.data()[1][0],this.data()[2]?this.data()[2][0]:this.data()[1][0]),culling:{max:5}};w.data.columns[0]=[];q(this.dataset.selectColumn(0),function(y,z){if(z>0){y=new Date(y)}w.data.columns[0][z]=y});w.data.columns[0][0]="x";w.data.x="x";if(this.stacked()&&this.data()[0].length>2){w.data.groups=[this.dataset.selectRow(0).slice(1)]}}else{w.axis.x=w.axis.x||{};w.axis.x.type="category";w.axis.x.categories=this.dataset.selectColumn(0).slice(1);if(this.stacked()&&this.data()[0].length>2){w.data.groups=[this.dataset.selectRow(0).slice(1)]}}if(this.data()[0].length===2){w.legend.show=false}q(this.data()[0],function(y,z){if(z>0){w.data.columns.push(this.dataset.selectColumn(z))}}.bind(this))}}if(w.legend.show===true&&w.legend.position==="right"&&["gauge"].indexOf(v.replace("horizontal-",""))){w.data.color=b.bind(this);w.tooltip={contents:m,format:{value:a.bind(this)}};w.legend.show=false;var x=this.el().querySelector("."+this.theme()+"-rendering").offsetWidth-100;w.size.width=w.size.width||x;this.el().querySelector("."+this.theme()+"-rendering").setAttribute("style","margin-right: 120px;");this.view._artifacts.c3=g.generate(w);i.call(this,w.data.columns)}else{this.view._artifacts.c3=g.generate(w)}},update:function(){this.render()},destroy:function(){if(this.view._artifacts.c3){this.view._artifacts.c3.destroy();this.view._artifacts.c3=null}}}})}function b(s,u){var t;if(this.view._artifacts.pagination&&this.type()!=="gauge"){t=this.view._artifacts.pagination.labels;if((u.id&&t.indexOf(u.id)>-1)||(u&&!u.id&&t.indexOf(u)>-1)){return s}else{if(this.type()==="donut"||this.type()==="pie"){return"rgba(0,0,0,.1)"}else{return"rgba(0,0,0,.07)"}}}else{return s}}function a(v,u,w,s){var t;if(this.view._artifacts.pagination&&this.type()!=="gauge"){t=this.view._artifacts.pagination.labels;if(t.indexOf(w)>-1){return v}}else{return v}}function f(s){if("undefined"===typeof window){return}window.onresize=window.resize=function(){};if(window.addEventListener){window.addEventListener("resize",s,true)}else{if(window.attachEvent){window.attachEvent("onresize",s)}}}},{"../utils/assert-date-string":23,"../utils/each":24,"../utils/extend":27,"../utils/extend-deep":26,"./c3/extensions/default-date-format":15,"./c3/extensions/paginating-legend":16,"./c3/extensions/tooltip-contents":17,"./default/message":18,"./default/metric":19,"./default/spinner":20,"./default/table":21,c3:29,d3:30}],23:[function(d,f,a){f.exports=function(g){if(typeof g==="object"){return c(g)}else{if(typeof g==="string"){return b(g)}}return false};function c(g){if(g!==null&&typeof g.getTime==="function"&&!isNaN(g.getTime())){return true}return false}function b(g){var h=/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(\.\d+)?(([+-]\d\d:\d\d)|Z)?$/i;return h.test(g)}},{}],24:[function(b,c,a){c.exports=d;function d(h,f,g){var i;if(!h){return 0}g=!g?h:g;if(h instanceof Array){for(i=0;i<h.length;i++){if(f.call(g,h[i],i,h)===false){return 0}}}else{for(i in h){if(h.hasOwnProperty(i)){if(f.call(g,h[i],i,h)===false){return 0}}}}return 1}},{}],25:[function(c,d,b){var f=/["'&<>]/;d.exports=a;function a(i){var l=""+i;var h=f.exec(l);if(!h){return l}var k;var j="";var g=0;var m=0;for(g=h.index;g<l.length;g++){switch(l.charCodeAt(g)){case 34:k="&quot;";break;case 38:k="&amp;";break;case 39:k="&#39;";break;case 60:k="&lt;";break;case 62:k="&gt;";break;default:continue}if(m!==g){j+=l.substring(m,g)}m=g+1;j+=k}return m!==g?j+l.substring(m,g):j}},{}],26:[function(b,c,a){var f=b("./each");c.exports=d;function d(h){for(var g=1;g<arguments.length;g++){f(arguments[g],function(j,i){if((typeof h[i]!=="undefined"&&typeof j!=="undefined")&&(typeof h[i]==="object"&&typeof j==="object")&&(h[i]!==null&&j!==null)){d(h[i],j)}else{h[i]=j}})}return h}},{"./each":24}],27:[function(b,c,a){c.exports=d;function d(g){for(var f=1;f<arguments.length;f++){for(var h in arguments[f]){g[h]=arguments[f][h]}}return g}},{}],28:[function(c,d,b){d.exports=a;function a(f){var f=Number(f),i=f.toPrecision(3),j="",g=["","k","M","B","T"];if(Number(i)==f&&String(f).length<=4){return String(f)}if(Math.abs(f)>=1000000000000000){return i}if(f>=1||f<=-1){if(f<0){f=-f;j="-"}return j+h(f,0)}else{return f.toPrecision(3)}function h(k,m){var k=String(k);var l=k.split(".");if(l.length>1){k=l[0];var o=l[1];if(k.length==2&&o.length>0){if(o.length>0){k=k+"."+o.charAt(0)}else{k+="0"}}else{if(k.length==1&&o.length>0){k=k+"."+o.charAt(0);if(o.length>1){k+=o.charAt(1)}else{k+="0"}}}}var n=k.length;if(k.split(".").length>1){n--}if(n<=3){return String(k)+g[m]}else{return h(Number(k)/1000,m+1)}}}},{}],29:[function(b,c,a){(function(f,d){typeof a==="object"&&typeof c!=="undefined"?c.exports=d():typeof define==="function"&&define.amd?define(d):(f.c3=d())}(this,(function(){var D={target:"c3-target",chart:"c3-chart",chartLine:"c3-chart-line",chartLines:"c3-chart-lines",chartBar:"c3-chart-bar",chartBars:"c3-chart-bars",chartText:"c3-chart-text",chartTexts:"c3-chart-texts",chartArc:"c3-chart-arc",chartArcs:"c3-chart-arcs",chartArcsTitle:"c3-chart-arcs-title",chartArcsBackground:"c3-chart-arcs-background",chartArcsGaugeUnit:"c3-chart-arcs-gauge-unit",chartArcsGaugeMax:"c3-chart-arcs-gauge-max",chartArcsGaugeMin:"c3-chart-arcs-gauge-min",selectedCircle:"c3-selected-circle",selectedCircles:"c3-selected-circles",eventRect:"c3-event-rect",eventRects:"c3-event-rects",eventRectsSingle:"c3-event-rects-single",eventRectsMultiple:"c3-event-rects-multiple",zoomRect:"c3-zoom-rect",brush:"c3-brush",focused:"c3-focused",defocused:"c3-defocused",region:"c3-region",regions:"c3-regions",title:"c3-title",tooltipContainer:"c3-tooltip-container",tooltip:"c3-tooltip",tooltipName:"c3-tooltip-name",shape:"c3-shape",shapes:"c3-shapes",line:"c3-line",lines:"c3-lines",bar:"c3-bar",bars:"c3-bars",circle:"c3-circle",circles:"c3-circles",arc:"c3-arc",arcs:"c3-arcs",area:"c3-area",areas:"c3-areas",empty:"c3-empty",text:"c3-text",texts:"c3-texts",gaugeValue:"c3-gauge-value",grid:"c3-grid",gridLines:"c3-grid-lines",xgrid:"c3-xgrid",xgrids:"c3-xgrids",xgridLine:"c3-xgrid-line",xgridLines:"c3-xgrid-lines",xgridFocus:"c3-xgrid-focus",ygrid:"c3-ygrid",ygrids:"c3-ygrids",ygridLine:"c3-ygrid-line",ygridLines:"c3-ygrid-lines",axis:"c3-axis",axisX:"c3-axis-x",axisXLabel:"c3-axis-x-label",axisY:"c3-axis-y",axisYLabel:"c3-axis-y-label",axisY2:"c3-axis-y2",axisY2Label:"c3-axis-y2-label",legendBackground:"c3-legend-background",legendItem:"c3-legend-item",legendItemEvent:"c3-legend-item-event",legendItemTile:"c3-legend-item-tile",legendItemHidden:"c3-legend-item-hidden",legendItemFocused:"c3-legend-item-focused",dragarea:"c3-dragarea",EXPANDED:"_expanded_",SELECTED:"_selected_",INCLUDED:"_included_"};var at=typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"?function(ay){return typeof ay}:function(ay){return ay&&typeof Symbol==="function"&&ay.constructor===Symbol&&ay!==Symbol.prototype?"symbol":typeof ay};var k=function k(ay){return ay||ay===0};var z=function z(ay){return typeof ay==="function"};var K=function K(ay){return Array.isArray(ay)};var r=function r(ay){return typeof ay==="string"};var F=function F(ay){return typeof ay==="undefined"};var J=function J(ay){return typeof ay!=="undefined"};var Q=function Q(ay){return Math.ceil(ay/10)*10};var Z=function Z(ay){return Math.ceil(ay)+0.5};var P=function P(ay){return ay[1]-ay[0]};var C=function C(ay){return typeof ay==="undefined"||ay===null||r(ay)&&ay.length===0||(typeof ay==="undefined"?"undefined":at(ay))==="object"&&Object.keys(ay).length===0};var N=function N(ay){return !E.isEmpty(ay)};var t=function t(az,aA,ay){return J(az[aA])?az[aA]:ay};var u=function u(aA,az){var ay=false;Object.keys(aA).forEach(function(aB){if(aA[aB]===az){ay=true}});return ay};var j=function j(ay){return typeof ay==="string"?ay.replace(/</g,"&lt;").replace(/>/g,"&gt;"):ay};var U=function U(aB){var aA=aB.getBoundingClientRect(),az=[aB.pathSegList.getItem(0),aB.pathSegList.getItem(1)],ay=az[0].x,aC=Math.min(az[0].y,az[1].y);return{x:ay,y:aC,width:aA.width,height:aA.height}};var aw;function d(aS,aP){var aT=aS.scale.linear(),aJ="bottom",aH=6,aF,aN=3,ay=null,aM,aD;var aE=0,aO=true,aG;aP=aP||{};aF=aP.withOuterTick?6:0;function aB(aV,aU){aV.attr("transform",function(aW){return"translate("+Math.ceil(aU(aW)+aE)+", 0)"})}function aA(aU,aV){aU.attr("transform",function(aW){return"translate(0,"+Math.ceil(aV(aW))+")"})}function az(aV){var aW=aV[0],aU=aV[aV.length-1];return aW<aU?[aW,aU]:[aU,aW]}function aR(aX){var aU,aW,aV=[];if(aX.ticks){return aX.ticks.apply(aX,aD)}aW=aX.domain();for(aU=Math.ceil(aW[0]);aU<aW[1];aU++){aV.push(aU)}if(aV.length>0&&aV[0]>0){aV.unshift(aV[0]-(aV[1]-aV[0]))}return aV}function aI(){var aV=aT.copy(),aU;if(aP.isCategory){aU=aT.domain();aV.domain([aU[0],aU[1]-1])}return aV}function aL(aU){var aV=aM?aM(aU):aU;return typeof aV!=="undefined"?aV:""}function aK(aV){if(aw){return aw}var aU={h:11.5,w:5.5};aV.select("text").text(aL).each(function(a0){var aY=this.getBoundingClientRect(),aZ=aL(a0),aX=aY.height,aW=aZ?aY.width/aZ.length:undefined;if(aX&&aW){aU.h=aX;aU.w=aW}}).text("");aw=aU;return aU}function aQ(aU){return aP.withoutTransition?aU:aS.transition(aU)}function aC(aU){aU.each(function(){var bm=aC.g=aS.select(this);var bi=this.__chart__||aT,bg=this.__chart__=aI();var bq=ay?ay:aR(bg),bj=bm.selectAll(".tick").data(bq,bg),ba=bj.enter().insert("g",".domain").attr("class","tick").style("opacity",0.000001),bf=bj.exit().remove(),a0=aQ(bj).style("opacity",1),aV,a8,a6;var a9=aT.rangeExtent?aT.rangeExtent():az(aT.range()),bd=bm.selectAll(".domain").data([0]),bs=(bd.enter().append("path").attr("class","domain"),aQ(bd));ba.append("line");ba.append("text");var aY=ba.select("line"),bo=a0.select("line"),a1=ba.select("text"),bl=a0.select("text");if(aP.isCategory){aE=Math.ceil((bg(1)-bg(0))/2);a8=aG?0:aE;a6=aG?aE:0}else{aE=a8=0}var a7,a2,br=aK(bm.select(".tick")),bn=[];var aW=Math.max(aH,0)+aN,a3=aJ==="left"||aJ==="right";function aX(bz,bx){var bt=aL(bz),bv,bw,by,bA=[];if(Object.prototype.toString.call(bt)==="[object Array]"){return bt}if(!bx||bx<=0){bx=a3?95:aP.isCategory?Math.ceil(bg(bq[1])-bg(bq[0]))-12:110}function bu(bD,bC){bw=undefined;for(var bB=1;bB<bC.length;bB++){if(bC.charAt(bB)===" "){bw=bB}bv=bC.substr(0,bB+1);by=br.w*bv.length;if(bx<by){return bu(bD.concat(bC.substr(0,bw?bw:bB)),bC.slice(bw?bw+1:bB))}}return bD.concat(bC)}return bu(bA,bt+"")}function bc(bv,bu){var bt=br.h;if(bu===0){if(aJ==="left"||aJ==="right"){bt=-((bn[bv.index]-1)*(br.h/2)-3)}else{bt=".71em"}}return bt}function bb(bu){var bt=aT(bu)+(aG?0:aE);return a9[0]<bt&&bt<a9[1]?aH:0}a7=bj.select("text");a2=a7.selectAll("tspan").data(function(bu,bt){var bv=aP.tickMultiline?aX(bu,aP.tickWidth):[].concat(aL(bu));bn[bt]=bv.length;return bv.map(function(bw){return{index:bt,splitted:bw}})});a2.enter().append("tspan");a2.exit().remove();a2.text(function(bt){return bt.splitted});var bh=aP.tickTextRotate;function bk(bt){if(!bt){return"middle"}return bt>0?"start":"end"}function bp(bt){if(!bt){return""}return"rotate("+bt+")"}function aZ(bt){if(!bt){return 0}return 8*Math.sin(Math.PI*(bt/180))}function be(bt){if(!bt){return aW}return 11.5-2.5*(bt/15)*(bt>0?1:-1)}switch(aJ){case"bottom":aV=aB;aY.attr("y2",aH);a1.attr("y",aW);bo.attr("x1",a8).attr("x2",a8).attr("y2",bb);bl.attr("x",0).attr("y",be(bh)).style("text-anchor",bk(bh)).attr("transform",bp(bh));a2.attr("x",0).attr("dy",bc).attr("dx",aZ(bh));bs.attr("d","M"+a9[0]+","+aF+"V0H"+a9[1]+"V"+aF);break;case"top":aV=aB;aY.attr("y2",-aH);a1.attr("y",-aW);bo.attr("x2",0).attr("y2",-aH);bl.attr("x",0).attr("y",-aW);a7.style("text-anchor","middle");a2.attr("x",0).attr("dy","0em");bs.attr("d","M"+a9[0]+","+-aF+"V0H"+a9[1]+"V"+-aF);break;case"left":aV=aA;aY.attr("x2",-aH);a1.attr("x",-aW);bo.attr("x2",-aH).attr("y1",a6).attr("y2",a6);bl.attr("x",-aW).attr("y",aE);a7.style("text-anchor","end");a2.attr("x",-aW).attr("dy",bc);bs.attr("d","M"+-aF+","+a9[0]+"H0V"+a9[1]+"H"+-aF);break;case"right":aV=aA;aY.attr("x2",aH);a1.attr("x",aW);bo.attr("x2",aH).attr("y2",0);bl.attr("x",aW).attr("y",0);a7.style("text-anchor","start");a2.attr("x",aW).attr("dy",bc);bs.attr("d","M"+aF+","+a9[0]+"H0V"+a9[1]+"H"+aF);break}if(bg.rangeBand){var a4=bg,a5=a4.rangeBand()/2;bi=bg=function bg(bt){return a4(bt)+a5}}else{if(bi.rangeBand){bi=bg}else{bf.call(aV,bg)}}ba.call(aV,bi);a0.call(aV,bg)})}aC.scale=function(aU){if(!arguments.length){return aT}aT=aU;return aC};aC.orient=function(aU){if(!arguments.length){return aJ}aJ=aU in {top:1,right:1,bottom:1,left:1}?aU+"":"bottom";return aC};aC.tickFormat=function(aU){if(!arguments.length){return aM}aM=aU;return aC};aC.tickCentered=function(aU){if(!arguments.length){return aG}aG=aU;return aC};aC.tickOffset=function(){return aE};aC.tickInterval=function(){var aU,aV;if(aP.isCategory){aU=aE*2}else{aV=aC.g.select("path.domain").node().getTotalLength()-aF*2;aU=aV/aC.g.selectAll("line").size()}return aU===Infinity?0:aU};aC.ticks=function(){if(!arguments.length){return aD}aD=arguments;return aC};aC.tickCulling=function(aU){if(!arguments.length){return aO}aO=aU;return aC};aC.tickValues=function(aU){if(typeof aU==="function"){aV=function aV(){return aU(aT.domain())}}else{if(!arguments.length){return aV}aV=aU}return aC};return aC}function x(ay){V.call(this,ay)}y(V,x);x.prototype.init=function aj(){var az=this.owner,aA=az.config,ay=az.main;az.axes.x=ay.append("g").attr("class",D.axis+" "+D.axisX).attr("clip-path",az.clipPathForXAxis).attr("transform",az.getTranslate("x")).style("visibility",aA.axis_x_show?"visible":"hidden");az.axes.x.append("text").attr("class",D.axisXLabel).attr("transform",aA.axis_rotated?"rotate(-90)":"").style("text-anchor",this.textAnchorForXAxisLabel.bind(this));az.axes.y=ay.append("g").attr("class",D.axis+" "+D.axisY).attr("clip-path",aA.axis_y_inner?"":az.clipPathForYAxis).attr("transform",az.getTranslate("y")).style("visibility",aA.axis_y_show?"visible":"hidden");az.axes.y.append("text").attr("class",D.axisYLabel).attr("transform",aA.axis_rotated?"":"rotate(-90)").style("text-anchor",this.textAnchorForYAxisLabel.bind(this));az.axes.y2=ay.append("g").attr("class",D.axis+" "+D.axisY2).attr("transform",az.getTranslate("y2")).style("visibility",aA.axis_y2_show?"visible":"hidden");az.axes.y2.append("text").attr("class",D.axisY2Label).attr("transform",aA.axis_rotated?"":"rotate(-90)").style("text-anchor",this.textAnchorForY2AxisLabel.bind(this))};x.prototype.getXAxis=function G(aB,aE,aC,aD,ay,aG,aF){var aI=this.owner,az=aI.config,aH={isCategory:aI.isCategorized(),withOuterTick:ay,tickMultiline:az.axis_x_tick_multiline,tickWidth:az.axis_x_tick_width,tickTextRotate:aF?0:az.axis_x_tick_rotate,withoutTransition:aG},aA=d(aI.d3,aH).scale(aB).orient(aE);if(aI.isTimeSeries()&&aD&&typeof aD!=="function"){aD=aD.map(function(aJ){return aI.parseDate(aJ)})}aA.tickFormat(aC).tickValues(aD);if(aI.isCategorized()){aA.tickCentered(az.axis_x_tick_centered);if(C(az.axis_x_tick_culling)){az.axis_x_tick_culling=false}}return aA};x.prototype.updateXAxisTickValues=function H(ay,aC){var aA=this.owner,aB=aA.config,az;if(aB.axis_x_tick_fit||aB.axis_x_tick_count){az=this.generateTickValues(aA.mapTargetsToUniqueXs(ay),aB.axis_x_tick_count,aA.isTimeSeries())}if(aC){aC.tickValues(az)}else{aA.xAxis.tickValues(az);aA.subXAxis.tickValues(az)}return az};x.prototype.getYAxis=function h(aB,aE,aC,aD,ay,aG,aF){var aI=this.owner,az=aI.config,aH={withOuterTick:ay,withoutTransition:aG,tickTextRotate:aF?0:az.axis_y_tick_rotate},aA=d(aI.d3,aH).scale(aB).orient(aE).tickFormat(aC);if(aI.isTimeSeriesY()){aA.ticks(aI.d3.time[az.axis_y_tick_time_value],az.axis_y_tick_time_interval)}else{aA.tickValues(aD)}return aA};x.prototype.getId=function ar(az){var ay=this.owner.config;return az in ay.data_axes?ay.data_axes[az]:"y"};x.prototype.getXAxisTickFormat=function R(){var ay=this.owner,az=ay.config,aA=ay.isTimeSeries()?ay.defaultAxisTimeFormat:ay.isCategorized()?ay.categoryName:function(aB){return aB<0?aB.toFixed(0):aB};if(az.axis_x_tick_format){if(z(az.axis_x_tick_format)){aA=az.axis_x_tick_format}else{if(ay.isTimeSeries()){aA=function aA(aB){return aB?ay.axisTimeFormat(az.axis_x_tick_format)(aB):""}}}}return z(aA)?function(aB){return aA.call(ay,aB)}:aA};x.prototype.getTickValues=function an(ay,az){return ay?ay:az?az.tickValues():undefined};x.prototype.getXAxisTickValues=function ax(){return this.getTickValues(this.owner.config.axis_x_tick_values,this.owner.xAxis)};x.prototype.getYAxisTickValues=function T(){return this.getTickValues(this.owner.config.axis_y_tick_values,this.owner.yAxis)};x.prototype.getY2AxisTickValues=function n(){return this.getTickValues(this.owner.config.axis_y2_tick_values,this.owner.y2Axis)};x.prototype.getLabelOptionByAxisId=function O(aB){var ay=this.owner,az=ay.config,aA;if(aB==="y"){aA=az.axis_y_label}else{if(aB==="y2"){aA=az.axis_y2_label}else{if(aB==="x"){aA=az.axis_x_label}}}return aA};x.prototype.getLabelText=function ai(az){var ay=this.getLabelOptionByAxisId(az);return r(ay)?ay:ay?ay.text:null};x.prototype.setLabelText=function A(aB,aC){var ay=this.owner,az=ay.config,aA=this.getLabelOptionByAxisId(aB);if(r(aA)){if(aB==="y"){az.axis_y_label=aC}else{if(aB==="y2"){az.axis_y2_label=aC}else{if(aB==="x"){az.axis_x_label=aC}}}}else{if(aA){aA.text=aC}}};x.prototype.getLabelPosition=function am(aB,az){var aA=this.getLabelOptionByAxisId(aB),ay=aA&&(typeof aA==="undefined"?"undefined":at(aA))==="object"&&aA.position?aA.position:az;return{isInner:ay.indexOf("inner")>=0,isOuter:ay.indexOf("outer")>=0,isLeft:ay.indexOf("left")>=0,isCenter:ay.indexOf("center")>=0,isRight:ay.indexOf("right")>=0,isTop:ay.indexOf("top")>=0,isMiddle:ay.indexOf("middle")>=0,isBottom:ay.indexOf("bottom")>=0}};x.prototype.getXAxisLabelPosition=function m(){return this.getLabelPosition("x",this.owner.config.axis_rotated?"inner-top":"inner-right")};x.prototype.getYAxisLabelPosition=function S(){return this.getLabelPosition("y",this.owner.config.axis_rotated?"inner-right":"inner-top")};x.prototype.getY2AxisLabelPosition=function ah(){return this.getLabelPosition("y2",this.owner.config.axis_rotated?"inner-right":"inner-top")};x.prototype.getLabelPositionById=function av(ay){return ay==="y2"?this.getY2AxisLabelPosition():ay==="y"?this.getYAxisLabelPosition():this.getXAxisLabelPosition()};x.prototype.textForXAxisLabel=function ad(){return this.getLabelText("x")};x.prototype.textForYAxisLabel=function ap(){return this.getLabelText("y")};x.prototype.textForY2AxisLabel=function L(){return this.getLabelText("y2")};x.prototype.xForAxisLabel=function s(az,ay){var aA=this.owner;if(az){return ay.isLeft?0:ay.isCenter?aA.width/2:aA.width}else{return ay.isBottom?-aA.height:ay.isMiddle?-aA.height/2:0}};x.prototype.dxForAxisLabel=function o(az,ay){if(az){return ay.isLeft?"0.5em":ay.isRight?"-0.5em":"0"}else{return ay.isTop?"-0.5em":ay.isBottom?"0.5em":"0"}};x.prototype.textAnchorForAxisLabel=function X(az,ay){if(az){return ay.isLeft?"start":ay.isCenter?"middle":"end"}else{return ay.isBottom?"start":ay.isMiddle?"middle":"end"}};x.prototype.xForXAxisLabel=function ae(){return this.xForAxisLabel(!this.owner.config.axis_rotated,this.getXAxisLabelPosition())};x.prototype.xForYAxisLabel=function ao(){return this.xForAxisLabel(this.owner.config.axis_rotated,this.getYAxisLabelPosition())};x.prototype.xForY2AxisLabel=function q(){return this.xForAxisLabel(this.owner.config.axis_rotated,this.getY2AxisLabelPosition())};x.prototype.dxForXAxisLabel=function al(){return this.dxForAxisLabel(!this.owner.config.axis_rotated,this.getXAxisLabelPosition())};x.prototype.dxForYAxisLabel=function f(){return this.dxForAxisLabel(this.owner.config.axis_rotated,this.getYAxisLabelPosition())};x.prototype.dxForY2AxisLabel=function v(){return this.dxForAxisLabel(this.owner.config.axis_rotated,this.getY2AxisLabelPosition())};x.prototype.dyForXAxisLabel=function Y(){var az=this.owner,aA=az.config,ay=this.getXAxisLabelPosition();if(aA.axis_rotated){return ay.isInner?"1.2em":-25-this.getMaxTickWidth("x")}else{return ay.isInner?"-0.5em":aA.axis_x_height?aA.axis_x_height-10:"3em"}};x.prototype.dyForYAxisLabel=function ag(){var az=this.owner,ay=this.getYAxisLabelPosition();if(az.config.axis_rotated){return ay.isInner?"-0.5em":"3em"}else{return ay.isInner?"1.2em":-10-(az.config.axis_y_inner?0:this.getMaxTickWidth("y")+10)}};x.prototype.dyForY2AxisLabel=function ak(){var az=this.owner,ay=this.getY2AxisLabelPosition();if(az.config.axis_rotated){return ay.isInner?"1.2em":"-2.2em"}else{return ay.isInner?"-0.5em":15+(az.config.axis_y2_inner?0:this.getMaxTickWidth("y2")+15)}};x.prototype.textAnchorForXAxisLabel=function M(){var ay=this.owner;return this.textAnchorForAxisLabel(!ay.config.axis_rotated,this.getXAxisLabelPosition())};x.prototype.textAnchorForYAxisLabel=function ac(){var ay=this.owner;return this.textAnchorForAxisLabel(ay.config.axis_rotated,this.getYAxisLabelPosition())};x.prototype.textAnchorForY2AxisLabel=function l(){var ay=this.owner;return this.textAnchorForAxisLabel(ay.config.axis_rotated,this.getY2AxisLabelPosition())};x.prototype.getMaxTickWidth=function au(az,aF){var aH=this.owner,aA=aH.config,aG=0,ay,aD,aB,aC,aE;if(aF&&aH.currentMaxTickWidths[az]){return aH.currentMaxTickWidths[az]}if(aH.svg){ay=aH.filterTargetsToShow(aH.data.targets);if(az==="y"){aD=aH.y.copy().domain(aH.getYDomain(ay,"y"));aB=this.getYAxis(aD,aH.yOrient,aA.axis_y_tick_format,aH.yAxisTickValues,false,true,true)}else{if(az==="y2"){aD=aH.y2.copy().domain(aH.getYDomain(ay,"y2"));aB=this.getYAxis(aD,aH.y2Orient,aA.axis_y2_tick_format,aH.y2AxisTickValues,false,true,true)}else{aD=aH.x.copy().domain(aH.getXDomain(ay));aB=this.getXAxis(aD,aH.xOrient,aH.xAxisTickFormat,aH.xAxisTickValues,false,true,true);this.updateXAxisTickValues(ay,aB)}}aC=aH.d3.select("body").append("div").classed("c3",true);aE=aC.append("svg").style("visibility","hidden").style("position","fixed").style("top",0).style("left",0),aE.append("g").call(aB).each(function(){aH.d3.select(this).selectAll("text").each(function(){var aI=this.getBoundingClientRect();if(aG<aI.width){aG=aI.width}});aC.remove()})}aH.currentMaxTickWidths[az]=aG<=0?aH.currentMaxTickWidths[az]:aG;return aH.currentMaxTickWidths[az]};x.prototype.updateLabels=function g(aA){var az=this.owner;var aC=az.main.select("."+D.axisX+" ."+D.axisXLabel),aB=az.main.select("."+D.axisY+" ."+D.axisYLabel),ay=az.main.select("."+D.axisY2+" ."+D.axisY2Label);(aA?aC.transition():aC).attr("x",this.xForXAxisLabel.bind(this)).attr("dx",this.dxForXAxisLabel.bind(this)).attr("dy",this.dyForXAxisLabel.bind(this)).text(this.textForXAxisLabel.bind(this));(aA?aB.transition():aB).attr("x",this.xForYAxisLabel.bind(this)).attr("dx",this.dxForYAxisLabel.bind(this)).attr("dy",this.dyForYAxisLabel.bind(this)).text(this.textForYAxisLabel.bind(this));(aA?ay.transition():ay).attr("x",this.xForY2AxisLabel.bind(this)).attr("dx",this.dxForY2AxisLabel.bind(this)).attr("dy",this.dyForY2AxisLabel.bind(this)).text(this.textForY2AxisLabel.bind(this))};x.prototype.getPadding=function w(aC,aA,ay,az){var aB=typeof aC==="number"?aC:aC[aA];if(!k(aB)){return ay}if(aC.unit==="ratio"){return aC[aA]*az}return this.convertPixelsToAxisPadding(aB,az)};x.prototype.convertPixelsToAxisPadding=function aa(aB,az){var ay=this.owner,aA=ay.config.axis_rotated?ay.width:ay.height;return az*(aB/aA)};x.prototype.generateTickValues=function W(aI,ay,aC){var aE=aI,aB,az,aF,aH,aA,aG,aD;if(ay){aB=z(ay)?ay():ay;if(aB===1){aE=[aI[0]]}else{if(aB===2){aE=[aI[0],aI[aI.length-1]]}else{if(aB>2){aH=aB-2;az=aI[0];aF=aI[aI.length-1];aA=(aF-az)/(aH+1);aE=[az];for(aG=0;aG<aH;aG++){aD=+az+aA*(aG+1);aE.push(aC?new Date(aD):aD)}aE.push(aF)}}}}if(!aC){aE=aE.sort(function(aK,aJ){return aK-aJ})}return aE};x.prototype.generateTransitions=function af(aA){var ay=this.owner,az=ay.axes;return{axisX:aA?az.x.transition().duration(aA):az.x,axisY:aA?az.y.transition().duration(aA):az.y,axisY2:aA?az.y2.transition().duration(aA):az.y2,axisSubX:aA?az.subx.transition().duration(aA):az.subx}};x.prototype.redraw=function i(aA,az){var ay=this.owner;ay.axes.x.style("opacity",az?0:1);ay.axes.y.style("opacity",az?0:1);ay.axes.y2.style("opacity",az?0:1);ay.axes.subx.style("opacity",az?0:1);aA.axisX.call(ay.xAxis);aA.axisY.call(ay.yAxis);aA.axisY2.call(ay.y2Axis);aA.axisSubX.call(ay.subXAxis)};var I={version:"0.4.15"};var B;var E;var p;function V(ay){this.owner=ay}function y(aA,ay){if(Object.create){ay.prototype=Object.create(aA.prototype)}else{var az=function az(){};az.prototype=aA.prototype;ay.prototype=new az()}ay.prototype.constructor=ay;return ay}function ab(aA){var az=this.internal=new aq(this);az.loadConfig(aA);az.beforeInit(aA);az.init();az.afterInit(aA);(function ay(aB,aD,aC){Object.keys(aB).forEach(function(aE){aD[aE]=aB[aE].bind(aC);if(Object.keys(aB[aE]).length>0){ay(aB[aE],aD[aE],aC)}})})(B,this,this)}function aq(az){var ay=this;ay.d3=window.d3?window.d3:typeof b!=="undefined"?b("d3"):undefined;ay.api=az;ay.config=ay.getDefaultConfig();ay.data={};ay.cache={};ay.axes={}}I.generate=function(ay){return new ab(ay)};I.chart={fn:ab.prototype,internal:{fn:aq.prototype,axis:{fn:x.prototype}}};B=I.chart.fn;E=I.chart.internal.fn;p=I.chart.internal.axis.fn;E.beforeInit=function(){};E.afterInit=function(){};E.init=function(){var ay=this,az=ay.config;ay.initParams();if(az.data_url){ay.convertUrlToData(az.data_url,az.data_mimeType,az.data_headers,az.data_keys,ay.initWithData)}else{if(az.data_json){ay.initWithData(ay.convertJsonToData(az.data_json,az.data_keys))}else{if(az.data_rows){ay.initWithData(ay.convertRowsToData(az.data_rows))}else{if(az.data_columns){ay.initWithData(ay.convertColumnsToData(az.data_columns))}else{throw Error("url or json or rows or columns is required.")}}}}};E.initParams=function(){var ay=this,aA=ay.d3,az=ay.config;ay.clipId="c3-"+ +new Date()+"-clip",ay.clipIdForXAxis=ay.clipId+"-xaxis",ay.clipIdForYAxis=ay.clipId+"-yaxis",ay.clipIdForGrid=ay.clipId+"-grid",ay.clipIdForSubchart=ay.clipId+"-subchart",ay.clipPath=ay.getClipPath(ay.clipId),ay.clipPathForXAxis=ay.getClipPath(ay.clipIdForXAxis),ay.clipPathForYAxis=ay.getClipPath(ay.clipIdForYAxis);ay.clipPathForGrid=ay.getClipPath(ay.clipIdForGrid),ay.clipPathForSubchart=ay.getClipPath(ay.clipIdForSubchart),ay.dragStart=null;ay.dragging=false;ay.flowing=false;ay.cancelClick=false;ay.mouseover=false;ay.transiting=false;ay.color=ay.generateColor();ay.levelColor=ay.generateLevelColor();ay.dataTimeFormat=az.data_xLocaltime?aA.time.format:aA.time.format.utc;ay.axisTimeFormat=az.axis_x_localtime?aA.time.format:aA.time.format.utc;ay.defaultAxisTimeFormat=ay.axisTimeFormat.multi([[".%L",function(aB){return aB.getMilliseconds()}],[":%S",function(aB){return aB.getSeconds()}],["%I:%M",function(aB){return aB.getMinutes()}],["%I %p",function(aB){return aB.getHours()}],["%-m/%-d",function(aB){return aB.getDay()&&aB.getDate()!==1}],["%-m/%-d",function(aB){return aB.getDate()!==1}],["%-m/%-d",function(aB){return aB.getMonth()}],["%Y/%-m/%-d",function(){return true}]]);ay.hiddenTargetIds=[];ay.hiddenLegendIds=[];ay.focusedTargetIds=[];ay.defocusedTargetIds=[];ay.xOrient=az.axis_rotated?"left":"bottom";ay.yOrient=az.axis_rotated?az.axis_y_inner?"top":"bottom":az.axis_y_inner?"right":"left";ay.y2Orient=az.axis_rotated?az.axis_y2_inner?"bottom":"top":az.axis_y2_inner?"left":"right";ay.subXOrient=az.axis_rotated?"left":"bottom";ay.isLegendRight=az.legend_position==="right";ay.isLegendInset=az.legend_position==="inset";ay.isLegendTop=az.legend_inset_anchor==="top-left"||az.legend_inset_anchor==="top-right";ay.isLegendLeft=az.legend_inset_anchor==="top-left"||az.legend_inset_anchor==="bottom-left";ay.legendStep=0;ay.legendItemWidth=0;ay.legendItemHeight=0;ay.currentMaxTickWidths={x:0,y:0,y2:0};ay.rotated_padding_left=30;ay.rotated_padding_right=az.axis_rotated&&!az.axis_x_show?0:30;ay.rotated_padding_top=5;ay.withoutFadeIn={};ay.intervalForObserveInserted=undefined;ay.axes.subx=aA.selectAll([])};E.initChartElements=function(){if(this.initBar){this.initBar()}if(this.initLine){this.initLine()}if(this.initArc){this.initArc()}if(this.initGauge){this.initGauge()}if(this.initText){this.initText()}};E.initWithData=function(aD){var aA=this,aC=aA.d3,aB=aA.config;var az,ay,aE=true;aA.axis=new x(aA);if(aA.initPie){aA.initPie()}if(aA.initBrush){aA.initBrush()}if(aA.initZoom){aA.initZoom()}if(!aB.bindto){aA.selectChart=aC.selectAll([])}else{if(typeof aB.bindto.node==="function"){aA.selectChart=aB.bindto}else{aA.selectChart=aC.select(aB.bindto)}}if(aA.selectChart.empty()){aA.selectChart=aC.select(document.createElement("div")).style("opacity",0);aA.observeInserted(aA.selectChart);aE=false}aA.selectChart.html("").classed("c3",true);aA.data.xs={};aA.data.targets=aA.convertDataToTargets(aD);if(aB.data_filter){aA.data.targets=aA.data.targets.filter(aB.data_filter)}if(aB.data_hide){aA.addHiddenTargetIds(aB.data_hide===true?aA.mapToIds(aA.data.targets):aB.data_hide)}if(aB.legend_hide){aA.addHiddenLegendIds(aB.legend_hide===true?aA.mapToIds(aA.data.targets):aB.legend_hide)}if(aA.hasType("gauge")){aB.legend_show=false}aA.updateSizes();aA.updateScales();aA.x.domain(aC.extent(aA.getXDomain(aA.data.targets)));aA.y.domain(aA.getYDomain(aA.data.targets,"y"));aA.y2.domain(aA.getYDomain(aA.data.targets,"y2"));aA.subX.domain(aA.x.domain());aA.subY.domain(aA.y.domain());aA.subY2.domain(aA.y2.domain());aA.orgXDomain=aA.x.domain();if(aA.brush){aA.brush.scale(aA.subX)}if(aB.zoom_enabled){aA.zoom.scale(aA.x)}aA.svg=aA.selectChart.append("svg").style("overflow","hidden").on("mouseenter",function(){return aB.onmouseover.call(aA)}).on("mouseleave",function(){return aB.onmouseout.call(aA)});if(aA.config.svg_classname){aA.svg.attr("class",aA.config.svg_classname)}az=aA.svg.append("defs");aA.clipChart=aA.appendClip(az,aA.clipId);aA.clipXAxis=aA.appendClip(az,aA.clipIdForXAxis);aA.clipYAxis=aA.appendClip(az,aA.clipIdForYAxis);aA.clipGrid=aA.appendClip(az,aA.clipIdForGrid);aA.clipSubchart=aA.appendClip(az,aA.clipIdForSubchart);aA.updateSvgSize();ay=aA.main=aA.svg.append("g").attr("transform",aA.getTranslate("main"));if(aA.initSubchart){aA.initSubchart()}if(aA.initTooltip){aA.initTooltip()}if(aA.initLegend){aA.initLegend()}if(aA.initTitle){aA.initTitle()}ay.append("text").attr("class",D.text+" "+D.empty).attr("text-anchor","middle").attr("dominant-baseline","middle");aA.initRegion();aA.initGrid();ay.append("g").attr("clip-path",aA.clipPath).attr("class",D.chart);if(aB.grid_lines_front){aA.initGridLines()}aA.initEventRect();aA.initChartElements();ay.insert("rect",aB.zoom_privileged?null:"g."+D.regions).attr("class",D.zoomRect).attr("width",aA.width).attr("height",aA.height).style("opacity",0).on("dblclick.zoom",null);if(aB.axis_x_extent){aA.brush.extent(aA.getDefaultExtent())}aA.axis.init();aA.updateTargets(aA.data.targets);if(aE){aA.updateDimension();aA.config.oninit.call(aA);aA.redraw({withTransition:false,withTransform:true,withUpdateXDomain:true,withUpdateOrgXDomain:true,withTransitionForAxis:false})}aA.bindResize();aA.api.element=aA.selectChart.node()};E.smoothLines=function(aA,az){var ay=this;if(az==="grid"){aA.each(function(){var aF=ay.d3.select(this),aC=aF.attr("x1"),aB=aF.attr("x2"),aE=aF.attr("y1"),aD=aF.attr("y2");aF.attr({x1:Math.ceil(aC),x2:Math.ceil(aB),y1:Math.ceil(aE),y2:Math.ceil(aD)})})}};E.updateSizes=function(){var az=this,aB=az.config;var ay=az.legend?az.getLegendHeight():0,aE=az.legend?az.getLegendWidth():0,aD=az.isLegendRight||az.isLegendInset?0:ay,aA=az.hasArcType(),aC=aB.axis_rotated||aA?0:az.getHorizontalAxisHeight("x"),aF=aB.subchart_show&&!aA?aB.subchart_size_height+aC:0;az.currentWidth=az.getCurrentWidth();az.currentHeight=az.getCurrentHeight();az.margin=aB.axis_rotated?{top:az.getHorizontalAxisHeight("y2")+az.getCurrentPaddingTop(),right:aA?0:az.getCurrentPaddingRight(),bottom:az.getHorizontalAxisHeight("y")+aD+az.getCurrentPaddingBottom(),left:aF+(aA?0:az.getCurrentPaddingLeft())}:{top:4+az.getCurrentPaddingTop(),right:aA?0:az.getCurrentPaddingRight(),bottom:aC+aF+aD+az.getCurrentPaddingBottom(),left:aA?0:az.getCurrentPaddingLeft()};az.margin2=aB.axis_rotated?{top:az.margin.top,right:NaN,bottom:20+aD,left:az.rotated_padding_left}:{top:az.currentHeight-aF-aD,right:NaN,bottom:aC+aD,left:az.margin.left};az.margin3={top:0,right:NaN,bottom:0,left:0};if(az.updateSizeForLegend){az.updateSizeForLegend(ay,aE)}az.width=az.currentWidth-az.margin.left-az.margin.right;az.height=az.currentHeight-az.margin.top-az.margin.bottom;if(az.width<0){az.width=0}if(az.height<0){az.height=0}az.width2=aB.axis_rotated?az.margin.left-az.rotated_padding_left-az.rotated_padding_right:az.width;az.height2=aB.axis_rotated?az.height:az.currentHeight-az.margin2.top-az.margin2.bottom;if(az.width2<0){az.width2=0}if(az.height2<0){az.height2=0}az.arcWidth=az.width-(az.isLegendRight?aE+10:0);az.arcHeight=az.height-(az.isLegendRight?0:10);if(az.hasType("gauge")&&!aB.gauge_fullCircle){az.arcHeight+=az.height-az.getGaugeLabelHeight()}if(az.updateRadius){az.updateRadius()}if(az.isLegendRight&&aA){az.margin3.left=az.arcWidth/2+az.radiusExpanded*1.1}};E.updateTargets=function(ay){var az=this;az.updateTargetsForText(ay);az.updateTargetsForBar(ay);az.updateTargetsForLine(ay);if(az.hasArcType()&&az.updateTargetsForArc){az.updateTargetsForArc(ay)}if(az.updateTargetsForSubchart){az.updateTargetsForSubchart(ay)}az.showTargets()};E.showTargets=function(){var ay=this;ay.svg.selectAll("."+D.target).filter(function(az){return ay.isTargetToShow(az.id)}).transition().duration(ay.config.transition_duration).style("opacity",1)};E.redraw=function(aO,aE){var a4=this,aA=a4.main,a3=a4.d3,a0=a4.config;var aZ=a4.getShapeIndices(a4.isAreaType),aU=a4.getShapeIndices(a4.isBarType),a2=a4.getShapeIndices(a4.isLineType);var aG,aX,a6,aL,a1,aD,aS,a9,aJ,bc,aQ,aK,ba;var aY=a4.hasArcType();var aB,a5,aW,ay,aC;var aP,aH,aT;var bb,a8;var aV=a4.filterTargetsToShow(a4.data.targets),aI,a7,aF,az;var aR=a4.xv.bind(a4),aN,aM;aO=aO||{};aG=t(aO,"withY",true);aX=t(aO,"withSubchart",true);a6=t(aO,"withTransition",true);aD=t(aO,"withTransform",false);aS=t(aO,"withUpdateXDomain",false);a9=t(aO,"withUpdateOrgXDomain",false);aJ=t(aO,"withTrimXDomain",true);ba=t(aO,"withUpdateXAxis",aS);bc=t(aO,"withLegend",false);aQ=t(aO,"withEventRect",true);aK=t(aO,"withDimension",true);aL=t(aO,"withTransitionForExit",a6);a1=t(aO,"withTransitionForAxis",a6);aP=a6?a0.transition_duration:0;aH=aL?aP:0;aT=a1?aP:0;aE=aE||a4.axis.generateTransitions(aT);if(bc&&a0.legend_show){a4.updateLegend(a4.mapToIds(a4.data.targets),aO,aE)}else{if(aK){a4.updateDimension(true)}}if(a4.isCategorized()&&aV.length===0){a4.x.domain([0,a4.axes.x.selectAll(".tick").size()])}if(aV.length){a4.updateXDomain(aV,aS,a9,aJ);if(!a0.axis_x_tick_values){aI=a4.axis.updateXAxisTickValues(aV)}}else{a4.xAxis.tickValues([]);a4.subXAxis.tickValues([])}if(a0.zoom_rescale&&!aO.flow){az=a4.x.orgDomain()}a4.y.domain(a4.getYDomain(aV,"y",az));a4.y2.domain(a4.getYDomain(aV,"y2",az));if(!a0.axis_y_tick_values&&a0.axis_y_tick_count){a4.yAxis.tickValues(a4.axis.generateTickValues(a4.y.domain(),a0.axis_y_tick_count))}if(!a0.axis_y2_tick_values&&a0.axis_y2_tick_count){a4.y2Axis.tickValues(a4.axis.generateTickValues(a4.y2.domain(),a0.axis_y2_tick_count))}a4.axis.redraw(aE,aY);a4.axis.updateLabels(a6);if((aS||ba)&&aV.length){if(a0.axis_x_tick_culling&&aI){for(a7=1;a7<aI.length;a7++){if(aI.length/a7<a0.axis_x_tick_culling_max){aF=a7;break}}a4.svg.selectAll("."+D.axisX+" .tick text").each(function(be){var bd=aI.indexOf(be);if(bd>=0){a3.select(this).style("display",bd%aF?"none":"block")}})}else{a4.svg.selectAll("."+D.axisX+" .tick text").style("display","block")}}aB=a4.generateDrawArea?a4.generateDrawArea(aZ,false):undefined;a5=a4.generateDrawBar?a4.generateDrawBar(aU):undefined;aW=a4.generateDrawLine?a4.generateDrawLine(a2,false):undefined;ay=a4.generateXYForText(aZ,aU,a2,true);aC=a4.generateXYForText(aZ,aU,a2,false);if(aG){a4.subY.domain(a4.getYDomain(aV,"y"));a4.subY2.domain(a4.getYDomain(aV,"y2"))}a4.updateXgridFocus();aA.select("text."+D.text+"."+D.empty).attr("x",a4.width/2).attr("y",a4.height/2).text(a0.data_empty_label_text).transition().style("opacity",aV.length?0:1);a4.updateGrid(aP);a4.updateRegion(aP);a4.updateBar(aH);a4.updateLine(aH);a4.updateArea(aH);a4.updateCircle();if(a4.hasDataLabel()){a4.updateText(aH)}if(a4.redrawTitle){a4.redrawTitle()}if(a4.redrawArc){a4.redrawArc(aP,aH,aD)}if(a4.redrawSubchart){a4.redrawSubchart(aX,aE,aP,aH,aZ,aU,a2)}aA.selectAll("."+D.selectedCircles).filter(a4.isBarType.bind(a4)).selectAll("circle").remove();if(a0.interaction_enabled&&!aO.flow&&aQ){a4.redrawEventRect();if(a4.updateZoom){a4.updateZoom()}}a4.updateCircleY();aN=(a4.config.axis_rotated?a4.circleY:a4.circleX).bind(a4);aM=(a4.config.axis_rotated?a4.circleX:a4.circleY).bind(a4);if(aO.flow){a8=a4.generateFlow({targets:aV,flow:aO.flow,duration:aO.flow.duration,drawBar:a5,drawLine:aW,drawArea:aB,cx:aN,cy:aM,xv:aR,xForText:ay,yForText:aC})}if((aP||a8)&&a4.isTabVisible()){a3.transition().duration(aP).each(function(){var bd=[];[a4.redrawBar(a5,true),a4.redrawLine(aW,true),a4.redrawArea(aB,true),a4.redrawCircle(aN,aM,true),a4.redrawText(ay,aC,aO.flow,true),a4.redrawRegion(true),a4.redrawGrid(true)].forEach(function(be){be.forEach(function(bf){bd.push(bf)})});bb=a4.generateWait();bd.forEach(function(be){bb.add(be)})}).call(bb,function(){if(a8){a8()}if(a0.onrendered){a0.onrendered.call(a4)}})}else{a4.redrawBar(a5);a4.redrawLine(aW);a4.redrawArea(aB);a4.redrawCircle(aN,aM);a4.redrawText(ay,aC,aO.flow);a4.redrawRegion();a4.redrawGrid();if(a0.onrendered){a0.onrendered.call(a4)}}a4.mapToIds(a4.data.targets).forEach(function(bd){a4.withoutFadeIn[bd]=true})};E.updateAndRedraw=function(aA){var ay=this,az=ay.config,aB;aA=aA||{};aA.withTransition=t(aA,"withTransition",true);aA.withTransform=t(aA,"withTransform",false);aA.withLegend=t(aA,"withLegend",false);aA.withUpdateXDomain=true;aA.withUpdateOrgXDomain=true;aA.withTransitionForExit=false;aA.withTransitionForTransform=t(aA,"withTransitionForTransform",aA.withTransition);ay.updateSizes();if(!(aA.withLegend&&az.legend_show)){aB=ay.axis.generateTransitions(aA.withTransitionForAxis?az.transition_duration:0);ay.updateScales();ay.updateSvgSize();ay.transformAll(aA.withTransitionForTransform,aB)}ay.redraw(aA,aB)};E.redrawWithoutRescale=function(){this.redraw({withY:false,withSubchart:false,withEventRect:false,withTransitionForAxis:false})};E.isTimeSeries=function(){return this.config.axis_x_type==="timeseries"};E.isCategorized=function(){return this.config.axis_x_type.indexOf("categor")>=0};E.isCustomX=function(){var ay=this,az=ay.config;return !ay.isTimeSeries()&&(az.data_x||N(az.data_xs))};E.isTimeSeriesY=function(){return this.config.axis_y_type==="timeseries"};E.getTranslate=function(aB){var az=this,aA=az.config,ay,aC;if(aB==="main"){ay=Z(az.margin.left);aC=Z(az.margin.top)}else{if(aB==="context"){ay=Z(az.margin2.left);aC=Z(az.margin2.top)}else{if(aB==="legend"){ay=az.margin3.left;aC=az.margin3.top}else{if(aB==="x"){ay=0;aC=aA.axis_rotated?0:az.height}else{if(aB==="y"){ay=0;aC=aA.axis_rotated?az.height:0}else{if(aB==="y2"){ay=aA.axis_rotated?0:az.width;aC=aA.axis_rotated?1:0}else{if(aB==="subx"){ay=0;aC=aA.axis_rotated?0:az.height2}else{if(aB==="arc"){ay=az.arcWidth/2;aC=az.arcHeight/2}}}}}}}}return"translate("+ay+","+aC+")"};E.initialOpacity=function(ay){return ay.value!==null&&this.withoutFadeIn[ay.id]?1:0};E.initialOpacityForCircle=function(ay){return ay.value!==null&&this.withoutFadeIn[ay.id]?this.opacityForCircle(ay):0};E.opacityForCircle=function(aA){var az=z(this.config.point_show)?this.config.point_show(aA):this.config.point_show;var ay=az?1:0;return k(aA.value)?this.isScatterType(aA)?0.5:ay:0};E.opacityForText=function(){return this.hasDataLabel()?1:0};E.xx=function(ay){return ay?this.x(ay.x):null};E.xv=function(aA){var ay=this,az=aA.value;if(ay.isTimeSeries()){az=ay.parseDate(aA.value)}else{if(ay.isCategorized()&&typeof aA.value==="string"){az=ay.config.axis_x_categories.indexOf(aA.value)}}return Math.ceil(ay.x(az))};E.yv=function(aA){var ay=this,az=aA.axis&&aA.axis==="y2"?ay.y2:ay.y;return Math.ceil(az(aA.value))};E.subxx=function(ay){return ay?this.subX(ay.x):null};E.transformMain=function(aA,aD){var az=this,aC,ay,aB;if(aD&&aD.axisX){aC=aD.axisX}else{aC=az.main.select("."+D.axisX);if(aA){aC=aC.transition()}}if(aD&&aD.axisY){ay=aD.axisY}else{ay=az.main.select("."+D.axisY);if(aA){ay=ay.transition()}}if(aD&&aD.axisY2){aB=aD.axisY2}else{aB=az.main.select("."+D.axisY2);if(aA){aB=aB.transition()}}(aA?az.main.transition():az.main).attr("transform",az.getTranslate("main"));aC.attr("transform",az.getTranslate("x"));ay.attr("transform",az.getTranslate("y"));aB.attr("transform",az.getTranslate("y2"));az.main.select("."+D.chartArcs).attr("transform",az.getTranslate("arc"))};E.transformAll=function(az,aA){var ay=this;ay.transformMain(az,aA);if(ay.config.subchart_show){ay.transformContext(az,aA)}if(ay.legend){ay.transformLegend(az)}};E.updateSvgSize=function(){var az=this,ay=az.svg.select(".c3-brush .background");az.svg.attr("width",az.currentWidth).attr("height",az.currentHeight);az.svg.selectAll(["#"+az.clipId,"#"+az.clipIdForGrid]).select("rect").attr("width",az.width).attr("height",az.height);az.svg.select("#"+az.clipIdForXAxis).select("rect").attr("x",az.getXAxisClipX.bind(az)).attr("y",az.getXAxisClipY.bind(az)).attr("width",az.getXAxisClipWidth.bind(az)).attr("height",az.getXAxisClipHeight.bind(az));az.svg.select("#"+az.clipIdForYAxis).select("rect").attr("x",az.getYAxisClipX.bind(az)).attr("y",az.getYAxisClipY.bind(az)).attr("width",az.getYAxisClipWidth.bind(az)).attr("height",az.getYAxisClipHeight.bind(az));az.svg.select("#"+az.clipIdForSubchart).select("rect").attr("width",az.width).attr("height",ay.size()?ay.attr("height"):0);az.svg.select("."+D.zoomRect).attr("width",az.width).attr("height",az.height);az.selectChart.style("max-height",az.currentHeight+"px")};E.updateDimension=function(az){var ay=this;if(!az){if(ay.config.axis_rotated){ay.axes.x.call(ay.xAxis);ay.axes.subx.call(ay.subXAxis)}else{ay.axes.y.call(ay.yAxis);ay.axes.y2.call(ay.y2Axis)}}ay.updateSizes();ay.updateScales();ay.updateSvgSize();ay.transformAll(false)};E.observeInserted=function(aA){var az=this,ay;if(typeof MutationObserver==="undefined"){window.console.error("MutationObserver not defined.");return}ay=new MutationObserver(function(aB){aB.forEach(function(aC){if(aC.type==="childList"&&aC.previousSibling){ay.disconnect();az.intervalForObserveInserted=window.setInterval(function(){if(aA.node().parentNode){window.clearInterval(az.intervalForObserveInserted);az.updateDimension();if(az.brush){az.brush.update()}az.config.oninit.call(az);az.redraw({withTransform:true,withUpdateXDomain:true,withUpdateOrgXDomain:true,withTransition:false,withTransitionForTransform:false,withLegend:true});aA.transition().style("opacity",1)}},10)}})});ay.observe(aA.node(),{attributes:true,childList:true,characterData:true})};E.bindResize=function(){var ay=this,az=ay.config;ay.resizeFunction=ay.generateResize();ay.resizeFunction.add(function(){az.onresize.call(ay)});if(az.resize_auto){ay.resizeFunction.add(function(){if(ay.resizeTimeout!==undefined){window.clearTimeout(ay.resizeTimeout)}ay.resizeTimeout=window.setTimeout(function(){delete ay.resizeTimeout;ay.api.flush()},100)})}ay.resizeFunction.add(function(){az.onresized.call(ay)});if(window.attachEvent){window.attachEvent("onresize",ay.resizeFunction)}else{if(window.addEventListener){window.addEventListener("resize",ay.resizeFunction,false)}else{var aA=window.onresize;if(!aA){aA=ay.generateResize()}else{if(!aA.add||!aA.remove){aA=ay.generateResize();aA.add(window.onresize)}}aA.add(ay.resizeFunction);window.onresize=aA}}};E.generateResize=function(){var ay=[];function az(){ay.forEach(function(aA){aA()})}az.add=function(aA){ay.push(aA)};az.remove=function(aB){for(var aA=0;aA<ay.length;aA++){if(ay[aA]===aB){ay.splice(aA,1);break}}};return az};E.endall=function(ay,aA){var az=0;ay.each(function(){++az}).each("end",function(){if(!--az){aA.apply(this,arguments)}})};E.generateWait=function(){var az=[],ay=function ay(aA,aC){var aB=setInterval(function(){var aD=0;az.forEach(function(aE){if(aE.empty()){aD+=1;return}try{aE.transition()}catch(aF){aD+=1}});if(aD===az.length){clearInterval(aB);if(aC){aC()}}},10)};ay.add=function(aA){az.push(aA)};return ay};E.parseDate=function(az){var ay=this,aA;if(az instanceof Date){aA=az}else{if(typeof az==="string"){aA=ay.dataTimeFormat(ay.config.data_xFormat).parse(az)}else{if((typeof az==="undefined"?"undefined":at(az))==="object"){aA=new Date(+az)}else{if(typeof az==="number"&&!isNaN(az)){aA=new Date(+az)}}}}if(!aA||isNaN(+aA)){window.console.error("Failed to parse x '"+az+"' to Date object")}return aA};E.isTabVisible=function(){var ay;if(typeof document.hidden!=="undefined"){ay="hidden"}else{if(typeof document.mozHidden!=="undefined"){ay="mozHidden"}else{if(typeof document.msHidden!=="undefined"){ay="msHidden"}else{if(typeof document.webkitHidden!=="undefined"){ay="webkitHidden"}}}}return document[ay]?false:true};E.isValue=k;E.isFunction=z;E.isString=r;E.isUndefined=F;E.isDefined=J;E.ceil10=Q;E.asHalfPixel=Z;E.diffDomain=P;E.isEmpty=C;E.notEmpty=N;E.notEmpty=N;E.getOption=t;E.hasValue=u;E.sanitise=j;E.getPathBox=U;E.CLASS=D;if(!Function.prototype.bind){Function.prototype.bind=function(ay){if(typeof this!=="function"){throw new TypeError("Function.prototype.bind - what is trying to be bound is not callable")}var aC=Array.prototype.slice.call(arguments,1),aB=this,az=function az(){},aA=function aA(){return aB.apply(this instanceof az?this:ay,aC.concat(Array.prototype.slice.call(arguments)))};az.prototype=this.prototype;aA.prototype=new az();return aA}}(function(){if(!("SVGPathSeg" in window)){window.SVGPathSeg=function(aB,aC,aA){this.pathSegType=aB;this.pathSegTypeAsLetter=aC;this._owningPathSegList=aA};window.SVGPathSeg.prototype.classname="SVGPathSeg";window.SVGPathSeg.PATHSEG_UNKNOWN=0;window.SVGPathSeg.PATHSEG_CLOSEPATH=1;window.SVGPathSeg.PATHSEG_MOVETO_ABS=2;window.SVGPathSeg.PATHSEG_MOVETO_REL=3;window.SVGPathSeg.PATHSEG_LINETO_ABS=4;window.SVGPathSeg.PATHSEG_LINETO_REL=5;window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_ABS=6;window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_REL=7;window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_ABS=8;window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_REL=9;window.SVGPathSeg.PATHSEG_ARC_ABS=10;window.SVGPathSeg.PATHSEG_ARC_REL=11;window.SVGPathSeg.PATHSEG_LINETO_HORIZONTAL_ABS=12;window.SVGPathSeg.PATHSEG_LINETO_HORIZONTAL_REL=13;window.SVGPathSeg.PATHSEG_LINETO_VERTICAL_ABS=14;window.SVGPathSeg.PATHSEG_LINETO_VERTICAL_REL=15;window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_ABS=16;window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_REL=17;window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_SMOOTH_ABS=18;window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_SMOOTH_REL=19;window.SVGPathSeg.prototype._segmentChanged=function(){if(this._owningPathSegList){this._owningPathSegList.segmentChanged(this)}};window.SVGPathSegClosePath=function(aA){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_CLOSEPATH,"z",aA)};window.SVGPathSegClosePath.prototype=Object.create(window.SVGPathSeg.prototype);window.SVGPathSegClosePath.prototype.toString=function(){return"[object SVGPathSegClosePath]"};window.SVGPathSegClosePath.prototype._asPathString=function(){return this.pathSegTypeAsLetter};window.SVGPathSegClosePath.prototype.clone=function(){return new window.SVGPathSegClosePath(undefined)};window.SVGPathSegMovetoAbs=function(aB,aA,aC){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_MOVETO_ABS,"M",aB);this._x=aA;this._y=aC};window.SVGPathSegMovetoAbs.prototype=Object.create(window.SVGPathSeg.prototype);window.SVGPathSegMovetoAbs.prototype.toString=function(){return"[object SVGPathSegMovetoAbs]"};window.SVGPathSegMovetoAbs.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x+" "+this._y};window.SVGPathSegMovetoAbs.prototype.clone=function(){return new window.SVGPathSegMovetoAbs(undefined,this._x,this._y)};Object.defineProperty(window.SVGPathSegMovetoAbs.prototype,"x",{get:function ay(){return this._x},set:function az(aA){this._x=aA;this._segmentChanged()},enumerable:true});Object.defineProperty(window.SVGPathSegMovetoAbs.prototype,"y",{get:function ay(){return this._y},set:function az(aA){this._y=aA;this._segmentChanged()},enumerable:true});window.SVGPathSegMovetoRel=function(aB,aA,aC){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_MOVETO_REL,"m",aB);this._x=aA;this._y=aC};window.SVGPathSegMovetoRel.prototype=Object.create(window.SVGPathSeg.prototype);window.SVGPathSegMovetoRel.prototype.toString=function(){return"[object SVGPathSegMovetoRel]"};window.SVGPathSegMovetoRel.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x+" "+this._y};window.SVGPathSegMovetoRel.prototype.clone=function(){return new window.SVGPathSegMovetoRel(undefined,this._x,this._y)};Object.defineProperty(window.SVGPathSegMovetoRel.prototype,"x",{get:function ay(){return this._x},set:function az(aA){this._x=aA;this._segmentChanged()},enumerable:true});Object.defineProperty(window.SVGPathSegMovetoRel.prototype,"y",{get:function ay(){return this._y},set:function az(aA){this._y=aA;this._segmentChanged()},enumerable:true});window.SVGPathSegLinetoAbs=function(aB,aA,aC){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_LINETO_ABS,"L",aB);this._x=aA;this._y=aC};window.SVGPathSegLinetoAbs.prototype=Object.create(window.SVGPathSeg.prototype);window.SVGPathSegLinetoAbs.prototype.toString=function(){return"[object SVGPathSegLinetoAbs]"};window.SVGPathSegLinetoAbs.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x+" "+this._y};window.SVGPathSegLinetoAbs.prototype.clone=function(){return new window.SVGPathSegLinetoAbs(undefined,this._x,this._y)};Object.defineProperty(window.SVGPathSegLinetoAbs.prototype,"x",{get:function ay(){return this._x},set:function az(aA){this._x=aA;this._segmentChanged()},enumerable:true});Object.defineProperty(window.SVGPathSegLinetoAbs.prototype,"y",{get:function ay(){return this._y},set:function az(aA){this._y=aA;this._segmentChanged()},enumerable:true});window.SVGPathSegLinetoRel=function(aB,aA,aC){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_LINETO_REL,"l",aB);this._x=aA;this._y=aC};window.SVGPathSegLinetoRel.prototype=Object.create(window.SVGPathSeg.prototype);window.SVGPathSegLinetoRel.prototype.toString=function(){return"[object SVGPathSegLinetoRel]"};window.SVGPathSegLinetoRel.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x+" "+this._y};window.SVGPathSegLinetoRel.prototype.clone=function(){return new window.SVGPathSegLinetoRel(undefined,this._x,this._y)};Object.defineProperty(window.SVGPathSegLinetoRel.prototype,"x",{get:function ay(){return this._x},set:function az(aA){this._x=aA;this._segmentChanged()},enumerable:true});Object.defineProperty(window.SVGPathSegLinetoRel.prototype,"y",{get:function ay(){return this._y},set:function az(aA){this._y=aA;this._segmentChanged()},enumerable:true});window.SVGPathSegCurvetoCubicAbs=function(aD,aA,aG,aC,aF,aB,aE){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_ABS,"C",aD);this._x=aA;this._y=aG;this._x1=aC;this._y1=aF;this._x2=aB;this._y2=aE};window.SVGPathSegCurvetoCubicAbs.prototype=Object.create(window.SVGPathSeg.prototype);window.SVGPathSegCurvetoCubicAbs.prototype.toString=function(){return"[object SVGPathSegCurvetoCubicAbs]"};window.SVGPathSegCurvetoCubicAbs.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x1+" "+this._y1+" "+this._x2+" "+this._y2+" "+this._x+" "+this._y};window.SVGPathSegCurvetoCubicAbs.prototype.clone=function(){return new window.SVGPathSegCurvetoCubicAbs(undefined,this._x,this._y,this._x1,this._y1,this._x2,this._y2)};Object.defineProperty(window.SVGPathSegCurvetoCubicAbs.prototype,"x",{get:function ay(){return this._x},set:function az(aA){this._x=aA;this._segmentChanged()},enumerable:true});Object.defineProperty(window.SVGPathSegCurvetoCubicAbs.prototype,"y",{get:function ay(){return this._y},set:function az(aA){this._y=aA;this._segmentChanged()},enumerable:true});Object.defineProperty(window.SVGPathSegCurvetoCubicAbs.prototype,"x1",{get:function ay(){return this._x1},set:function az(aA){this._x1=aA;this._segmentChanged()},enumerable:true});Object.defineProperty(window.SVGPathSegCurvetoCubicAbs.prototype,"y1",{get:function ay(){return this._y1},set:function az(aA){this._y1=aA;this._segmentChanged()},enumerable:true});Object.defineProperty(window.SVGPathSegCurvetoCubicAbs.prototype,"x2",{get:function ay(){return this._x2},set:function az(aA){this._x2=aA;this._segmentChanged()},enumerable:true});Object.defineProperty(window.SVGPathSegCurvetoCubicAbs.prototype,"y2",{get:function ay(){return this._y2},set:function az(aA){this._y2=aA;this._segmentChanged()},enumerable:true});window.SVGPathSegCurvetoCubicRel=function(aD,aA,aG,aC,aF,aB,aE){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_REL,"c",aD);this._x=aA;this._y=aG;this._x1=aC;this._y1=aF;this._x2=aB;this._y2=aE};window.SVGPathSegCurvetoCubicRel.prototype=Object.create(window.SVGPathSeg.prototype);window.SVGPathSegCurvetoCubicRel.prototype.toString=function(){return"[object SVGPathSegCurvetoCubicRel]"};window.SVGPathSegCurvetoCubicRel.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x1+" "+this._y1+" "+this._x2+" "+this._y2+" "+this._x+" "+this._y};window.SVGPathSegCurvetoCubicRel.prototype.clone=function(){return new window.SVGPathSegCurvetoCubicRel(undefined,this._x,this._y,this._x1,this._y1,this._x2,this._y2)};Object.defineProperty(window.SVGPathSegCurvetoCubicRel.prototype,"x",{get:function ay(){return this._x},set:function az(aA){this._x=aA;this._segmentChanged()},enumerable:true});Object.defineProperty(window.SVGPathSegCurvetoCubicRel.prototype,"y",{get:function ay(){return this._y},set:function az(aA){this._y=aA;this._segmentChanged()},enumerable:true});Object.defineProperty(window.SVGPathSegCurvetoCubicRel.prototype,"x1",{get:function ay(){return this._x1},set:function az(aA){this._x1=aA;this._segmentChanged()},enumerable:true});Object.defineProperty(window.SVGPathSegCurvetoCubicRel.prototype,"y1",{get:function ay(){return this._y1},set:function az(aA){this._y1=aA;this._segmentChanged()},enumerable:true});Object.defineProperty(window.SVGPathSegCurvetoCubicRel.prototype,"x2",{get:function ay(){return this._x2},set:function az(aA){this._x2=aA;this._segmentChanged()},enumerable:true});Object.defineProperty(window.SVGPathSegCurvetoCubicRel.prototype,"y2",{get:function ay(){return this._y2},set:function az(aA){this._y2=aA;this._segmentChanged()},enumerable:true});window.SVGPathSegCurvetoQuadraticAbs=function(aC,aA,aE,aB,aD){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_ABS,"Q",aC);this._x=aA;this._y=aE;this._x1=aB;this._y1=aD};window.SVGPathSegCurvetoQuadraticAbs.prototype=Object.create(window.SVGPathSeg.prototype);window.SVGPathSegCurvetoQuadraticAbs.prototype.toString=function(){return"[object SVGPathSegCurvetoQuadraticAbs]"};window.SVGPathSegCurvetoQuadraticAbs.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x1+" "+this._y1+" "+this._x+" "+this._y};window.SVGPathSegCurvetoQuadraticAbs.prototype.clone=function(){return new window.SVGPathSegCurvetoQuadraticAbs(undefined,this._x,this._y,this._x1,this._y1)};Object.defineProperty(window.SVGPathSegCurvetoQuadraticAbs.prototype,"x",{get:function ay(){return this._x},set:function az(aA){this._x=aA;this._segmentChanged()},enumerable:true});Object.defineProperty(window.SVGPathSegCurvetoQuadraticAbs.prototype,"y",{get:function ay(){return this._y},set:function az(aA){this._y=aA;this._segmentChanged()},enumerable:true});Object.defineProperty(window.SVGPathSegCurvetoQuadraticAbs.prototype,"x1",{get:function ay(){return this._x1},set:function az(aA){this._x1=aA;this._segmentChanged()},enumerable:true});Object.defineProperty(window.SVGPathSegCurvetoQuadraticAbs.prototype,"y1",{get:function ay(){return this._y1},set:function az(aA){this._y1=aA;this._segmentChanged()},enumerable:true});window.SVGPathSegCurvetoQuadraticRel=function(aC,aA,aE,aB,aD){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_REL,"q",aC);this._x=aA;this._y=aE;this._x1=aB;this._y1=aD};window.SVGPathSegCurvetoQuadraticRel.prototype=Object.create(window.SVGPathSeg.prototype);window.SVGPathSegCurvetoQuadraticRel.prototype.toString=function(){return"[object SVGPathSegCurvetoQuadraticRel]"};window.SVGPathSegCurvetoQuadraticRel.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x1+" "+this._y1+" "+this._x+" "+this._y};window.SVGPathSegCurvetoQuadraticRel.prototype.clone=function(){return new window.SVGPathSegCurvetoQuadraticRel(undefined,this._x,this._y,this._x1,this._y1)};Object.defineProperty(window.SVGPathSegCurvetoQuadraticRel.prototype,"x",{get:function ay(){return this._x},set:function az(aA){this._x=aA;this._segmentChanged()},enumerable:true});Object.defineProperty(window.SVGPathSegCurvetoQuadraticRel.prototype,"y",{get:function ay(){return this._y},set:function az(aA){this._y=aA;this._segmentChanged()},enumerable:true});Object.defineProperty(window.SVGPathSegCurvetoQuadraticRel.prototype,"x1",{get:function ay(){return this._x1},set:function az(aA){this._x1=aA;this._segmentChanged()},enumerable:true});Object.defineProperty(window.SVGPathSegCurvetoQuadraticRel.prototype,"y1",{get:function ay(){return this._y1},set:function az(aA){this._y1=aA;this._segmentChanged()},enumerable:true});window.SVGPathSegArcAbs=function(aD,aA,aH,aC,aB,aG,aF,aE){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_ARC_ABS,"A",aD);this._x=aA;this._y=aH;this._r1=aC;this._r2=aB;this._angle=aG;this._largeArcFlag=aF;this._sweepFlag=aE};window.SVGPathSegArcAbs.prototype=Object.create(window.SVGPathSeg.prototype);window.SVGPathSegArcAbs.prototype.toString=function(){return"[object SVGPathSegArcAbs]"};window.SVGPathSegArcAbs.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._r1+" "+this._r2+" "+this._angle+" "+(this._largeArcFlag?"1":"0")+" "+(this._sweepFlag?"1":"0")+" "+this._x+" "+this._y};window.SVGPathSegArcAbs.prototype.clone=function(){return new window.SVGPathSegArcAbs(undefined,this._x,this._y,this._r1,this._r2,this._angle,this._largeArcFlag,this._sweepFlag)};Object.defineProperty(window.SVGPathSegArcAbs.prototype,"x",{get:function ay(){return this._x},set:function az(aA){this._x=aA;this._segmentChanged()},enumerable:true});Object.defineProperty(window.SVGPathSegArcAbs.prototype,"y",{get:function ay(){return this._y},set:function az(aA){this._y=aA;this._segmentChanged()},enumerable:true});Object.defineProperty(window.SVGPathSegArcAbs.prototype,"r1",{get:function ay(){return this._r1},set:function az(aA){this._r1=aA;this._segmentChanged()},enumerable:true});Object.defineProperty(window.SVGPathSegArcAbs.prototype,"r2",{get:function ay(){return this._r2},set:function az(aA){this._r2=aA;this._segmentChanged()},enumerable:true});Object.defineProperty(window.SVGPathSegArcAbs.prototype,"angle",{get:function ay(){return this._angle},set:function az(aA){this._angle=aA;this._segmentChanged()},enumerable:true});Object.defineProperty(window.SVGPathSegArcAbs.prototype,"largeArcFlag",{get:function ay(){return this._largeArcFlag},set:function az(aA){this._largeArcFlag=aA;this._segmentChanged()},enumerable:true});Object.defineProperty(window.SVGPathSegArcAbs.prototype,"sweepFlag",{get:function ay(){return this._sweepFlag},set:function az(aA){this._sweepFlag=aA;this._segmentChanged()},enumerable:true});window.SVGPathSegArcRel=function(aD,aA,aH,aC,aB,aG,aF,aE){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_ARC_REL,"a",aD);this._x=aA;this._y=aH;this._r1=aC;this._r2=aB;this._angle=aG;this._largeArcFlag=aF;this._sweepFlag=aE};window.SVGPathSegArcRel.prototype=Object.create(window.SVGPathSeg.prototype);window.SVGPathSegArcRel.prototype.toString=function(){return"[object SVGPathSegArcRel]"};window.SVGPathSegArcRel.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._r1+" "+this._r2+" "+this._angle+" "+(this._largeArcFlag?"1":"0")+" "+(this._sweepFlag?"1":"0")+" "+this._x+" "+this._y};window.SVGPathSegArcRel.prototype.clone=function(){return new window.SVGPathSegArcRel(undefined,this._x,this._y,this._r1,this._r2,this._angle,this._largeArcFlag,this._sweepFlag)};Object.defineProperty(window.SVGPathSegArcRel.prototype,"x",{get:function ay(){return this._x},set:function az(aA){this._x=aA;this._segmentChanged()},enumerable:true});Object.defineProperty(window.SVGPathSegArcRel.prototype,"y",{get:function ay(){return this._y},set:function az(aA){this._y=aA;this._segmentChanged()},enumerable:true});Object.defineProperty(window.SVGPathSegArcRel.prototype,"r1",{get:function ay(){return this._r1},set:function az(aA){this._r1=aA;this._segmentChanged()},enumerable:true});Object.defineProperty(window.SVGPathSegArcRel.prototype,"r2",{get:function ay(){return this._r2},set:function az(aA){this._r2=aA;this._segmentChanged()},enumerable:true});Object.defineProperty(window.SVGPathSegArcRel.prototype,"angle",{get:function ay(){return this._angle},set:function az(aA){this._angle=aA;this._segmentChanged()},enumerable:true});Object.defineProperty(window.SVGPathSegArcRel.prototype,"largeArcFlag",{get:function ay(){return this._largeArcFlag},set:function az(aA){this._largeArcFlag=aA;this._segmentChanged()},enumerable:true});Object.defineProperty(window.SVGPathSegArcRel.prototype,"sweepFlag",{get:function ay(){return this._sweepFlag},set:function az(aA){this._sweepFlag=aA;this._segmentChanged()},enumerable:true});window.SVGPathSegLinetoHorizontalAbs=function(aB,aA){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_LINETO_HORIZONTAL_ABS,"H",aB);this._x=aA};window.SVGPathSegLinetoHorizontalAbs.prototype=Object.create(window.SVGPathSeg.prototype);window.SVGPathSegLinetoHorizontalAbs.prototype.toString=function(){return"[object SVGPathSegLinetoHorizontalAbs]"};window.SVGPathSegLinetoHorizontalAbs.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x};window.SVGPathSegLinetoHorizontalAbs.prototype.clone=function(){return new window.SVGPathSegLinetoHorizontalAbs(undefined,this._x)};Object.defineProperty(window.SVGPathSegLinetoHorizontalAbs.prototype,"x",{get:function ay(){return this._x},set:function az(aA){this._x=aA;this._segmentChanged()},enumerable:true});window.SVGPathSegLinetoHorizontalRel=function(aB,aA){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_LINETO_HORIZONTAL_REL,"h",aB);this._x=aA};window.SVGPathSegLinetoHorizontalRel.prototype=Object.create(window.SVGPathSeg.prototype);window.SVGPathSegLinetoHorizontalRel.prototype.toString=function(){return"[object SVGPathSegLinetoHorizontalRel]"};window.SVGPathSegLinetoHorizontalRel.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x};window.SVGPathSegLinetoHorizontalRel.prototype.clone=function(){return new window.SVGPathSegLinetoHorizontalRel(undefined,this._x)};Object.defineProperty(window.SVGPathSegLinetoHorizontalRel.prototype,"x",{get:function ay(){return this._x},set:function az(aA){this._x=aA;this._segmentChanged()},enumerable:true});window.SVGPathSegLinetoVerticalAbs=function(aA,aB){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_LINETO_VERTICAL_ABS,"V",aA);this._y=aB};window.SVGPathSegLinetoVerticalAbs.prototype=Object.create(window.SVGPathSeg.prototype);window.SVGPathSegLinetoVerticalAbs.prototype.toString=function(){return"[object SVGPathSegLinetoVerticalAbs]"};window.SVGPathSegLinetoVerticalAbs.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._y};window.SVGPathSegLinetoVerticalAbs.prototype.clone=function(){return new window.SVGPathSegLinetoVerticalAbs(undefined,this._y)};Object.defineProperty(window.SVGPathSegLinetoVerticalAbs.prototype,"y",{get:function ay(){return this._y},set:function az(aA){this._y=aA;this._segmentChanged()},enumerable:true});window.SVGPathSegLinetoVerticalRel=function(aA,aB){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_LINETO_VERTICAL_REL,"v",aA);this._y=aB};window.SVGPathSegLinetoVerticalRel.prototype=Object.create(window.SVGPathSeg.prototype);window.SVGPathSegLinetoVerticalRel.prototype.toString=function(){return"[object SVGPathSegLinetoVerticalRel]"};window.SVGPathSegLinetoVerticalRel.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._y};window.SVGPathSegLinetoVerticalRel.prototype.clone=function(){return new window.SVGPathSegLinetoVerticalRel(undefined,this._y)};Object.defineProperty(window.SVGPathSegLinetoVerticalRel.prototype,"y",{get:function ay(){return this._y},set:function az(aA){this._y=aA;this._segmentChanged()},enumerable:true});window.SVGPathSegCurvetoCubicSmoothAbs=function(aC,aA,aE,aB,aD){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_ABS,"S",aC);this._x=aA;this._y=aE;this._x2=aB;this._y2=aD};window.SVGPathSegCurvetoCubicSmoothAbs.prototype=Object.create(window.SVGPathSeg.prototype);window.SVGPathSegCurvetoCubicSmoothAbs.prototype.toString=function(){return"[object SVGPathSegCurvetoCubicSmoothAbs]"};window.SVGPathSegCurvetoCubicSmoothAbs.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x2+" "+this._y2+" "+this._x+" "+this._y};window.SVGPathSegCurvetoCubicSmoothAbs.prototype.clone=function(){return new window.SVGPathSegCurvetoCubicSmoothAbs(undefined,this._x,this._y,this._x2,this._y2)};Object.defineProperty(window.SVGPathSegCurvetoCubicSmoothAbs.prototype,"x",{get:function ay(){return this._x},set:function az(aA){this._x=aA;this._segmentChanged()},enumerable:true});Object.defineProperty(window.SVGPathSegCurvetoCubicSmoothAbs.prototype,"y",{get:function ay(){return this._y},set:function az(aA){this._y=aA;this._segmentChanged()},enumerable:true});Object.defineProperty(window.SVGPathSegCurvetoCubicSmoothAbs.prototype,"x2",{get:function ay(){return this._x2},set:function az(aA){this._x2=aA;this._segmentChanged()},enumerable:true});Object.defineProperty(window.SVGPathSegCurvetoCubicSmoothAbs.prototype,"y2",{get:function ay(){return this._y2},set:function az(aA){this._y2=aA;this._segmentChanged()},enumerable:true});window.SVGPathSegCurvetoCubicSmoothRel=function(aC,aA,aE,aB,aD){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_REL,"s",aC);this._x=aA;this._y=aE;this._x2=aB;this._y2=aD};window.SVGPathSegCurvetoCubicSmoothRel.prototype=Object.create(window.SVGPathSeg.prototype);window.SVGPathSegCurvetoCubicSmoothRel.prototype.toString=function(){return"[object SVGPathSegCurvetoCubicSmoothRel]"};window.SVGPathSegCurvetoCubicSmoothRel.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x2+" "+this._y2+" "+this._x+" "+this._y};window.SVGPathSegCurvetoCubicSmoothRel.prototype.clone=function(){return new window.SVGPathSegCurvetoCubicSmoothRel(undefined,this._x,this._y,this._x2,this._y2)};Object.defineProperty(window.SVGPathSegCurvetoCubicSmoothRel.prototype,"x",{get:function ay(){return this._x},set:function az(aA){this._x=aA;this._segmentChanged()},enumerable:true});Object.defineProperty(window.SVGPathSegCurvetoCubicSmoothRel.prototype,"y",{get:function ay(){return this._y},set:function az(aA){this._y=aA;this._segmentChanged()},enumerable:true});Object.defineProperty(window.SVGPathSegCurvetoCubicSmoothRel.prototype,"x2",{get:function ay(){return this._x2},set:function az(aA){this._x2=aA;this._segmentChanged()},enumerable:true});Object.defineProperty(window.SVGPathSegCurvetoCubicSmoothRel.prototype,"y2",{get:function ay(){return this._y2},set:function az(aA){this._y2=aA;this._segmentChanged()},enumerable:true});window.SVGPathSegCurvetoQuadraticSmoothAbs=function(aB,aA,aC){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_SMOOTH_ABS,"T",aB);this._x=aA;this._y=aC};window.SVGPathSegCurvetoQuadraticSmoothAbs.prototype=Object.create(window.SVGPathSeg.prototype);window.SVGPathSegCurvetoQuadraticSmoothAbs.prototype.toString=function(){return"[object SVGPathSegCurvetoQuadraticSmoothAbs]"};window.SVGPathSegCurvetoQuadraticSmoothAbs.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x+" "+this._y};window.SVGPathSegCurvetoQuadraticSmoothAbs.prototype.clone=function(){return new window.SVGPathSegCurvetoQuadraticSmoothAbs(undefined,this._x,this._y)};Object.defineProperty(window.SVGPathSegCurvetoQuadraticSmoothAbs.prototype,"x",{get:function ay(){return this._x},set:function az(aA){this._x=aA;this._segmentChanged()},enumerable:true});Object.defineProperty(window.SVGPathSegCurvetoQuadraticSmoothAbs.prototype,"y",{get:function ay(){return this._y},set:function az(aA){this._y=aA;this._segmentChanged()},enumerable:true});window.SVGPathSegCurvetoQuadraticSmoothRel=function(aB,aA,aC){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_SMOOTH_REL,"t",aB);this._x=aA;this._y=aC};window.SVGPathSegCurvetoQuadraticSmoothRel.prototype=Object.create(window.SVGPathSeg.prototype);window.SVGPathSegCurvetoQuadraticSmoothRel.prototype.toString=function(){return"[object SVGPathSegCurvetoQuadraticSmoothRel]"};window.SVGPathSegCurvetoQuadraticSmoothRel.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x+" "+this._y};window.SVGPathSegCurvetoQuadraticSmoothRel.prototype.clone=function(){return new window.SVGPathSegCurvetoQuadraticSmoothRel(undefined,this._x,this._y)};Object.defineProperty(window.SVGPathSegCurvetoQuadraticSmoothRel.prototype,"x",{get:function ay(){return this._x},set:function az(aA){this._x=aA;this._segmentChanged()},enumerable:true});Object.defineProperty(window.SVGPathSegCurvetoQuadraticSmoothRel.prototype,"y",{get:function ay(){return this._y},set:function az(aA){this._y=aA;this._segmentChanged()},enumerable:true});window.SVGPathElement.prototype.createSVGPathSegClosePath=function(){return new window.SVGPathSegClosePath(undefined)};window.SVGPathElement.prototype.createSVGPathSegMovetoAbs=function(aA,aB){return new window.SVGPathSegMovetoAbs(undefined,aA,aB)};window.SVGPathElement.prototype.createSVGPathSegMovetoRel=function(aA,aB){return new window.SVGPathSegMovetoRel(undefined,aA,aB)};window.SVGPathElement.prototype.createSVGPathSegLinetoAbs=function(aA,aB){return new window.SVGPathSegLinetoAbs(undefined,aA,aB)};window.SVGPathElement.prototype.createSVGPathSegLinetoRel=function(aA,aB){return new window.SVGPathSegLinetoRel(undefined,aA,aB)};window.SVGPathElement.prototype.createSVGPathSegCurvetoCubicAbs=function(aA,aF,aC,aE,aB,aD){return new window.SVGPathSegCurvetoCubicAbs(undefined,aA,aF,aC,aE,aB,aD)};window.SVGPathElement.prototype.createSVGPathSegCurvetoCubicRel=function(aA,aF,aC,aE,aB,aD){return new window.SVGPathSegCurvetoCubicRel(undefined,aA,aF,aC,aE,aB,aD)};window.SVGPathElement.prototype.createSVGPathSegCurvetoQuadraticAbs=function(aA,aD,aB,aC){return new window.SVGPathSegCurvetoQuadraticAbs(undefined,aA,aD,aB,aC)};window.SVGPathElement.prototype.createSVGPathSegCurvetoQuadraticRel=function(aA,aD,aB,aC){return new window.SVGPathSegCurvetoQuadraticRel(undefined,aA,aD,aB,aC)};window.SVGPathElement.prototype.createSVGPathSegArcAbs=function(aA,aG,aC,aB,aF,aE,aD){return new window.SVGPathSegArcAbs(undefined,aA,aG,aC,aB,aF,aE,aD)};window.SVGPathElement.prototype.createSVGPathSegArcRel=function(aA,aG,aC,aB,aF,aE,aD){return new window.SVGPathSegArcRel(undefined,aA,aG,aC,aB,aF,aE,aD)};window.SVGPathElement.prototype.createSVGPathSegLinetoHorizontalAbs=function(aA){return new window.SVGPathSegLinetoHorizontalAbs(undefined,aA)};window.SVGPathElement.prototype.createSVGPathSegLinetoHorizontalRel=function(aA){return new window.SVGPathSegLinetoHorizontalRel(undefined,aA)};window.SVGPathElement.prototype.createSVGPathSegLinetoVerticalAbs=function(aA){return new window.SVGPathSegLinetoVerticalAbs(undefined,aA)};window.SVGPathElement.prototype.createSVGPathSegLinetoVerticalRel=function(aA){return new window.SVGPathSegLinetoVerticalRel(undefined,aA)};window.SVGPathElement.prototype.createSVGPathSegCurvetoCubicSmoothAbs=function(aA,aD,aB,aC){return new window.SVGPathSegCurvetoCubicSmoothAbs(undefined,aA,aD,aB,aC)};window.SVGPathElement.prototype.createSVGPathSegCurvetoCubicSmoothRel=function(aA,aD,aB,aC){return new window.SVGPathSegCurvetoCubicSmoothRel(undefined,aA,aD,aB,aC)};window.SVGPathElement.prototype.createSVGPathSegCurvetoQuadraticSmoothAbs=function(aA,aB){return new window.SVGPathSegCurvetoQuadraticSmoothAbs(undefined,aA,aB)};window.SVGPathElement.prototype.createSVGPathSegCurvetoQuadraticSmoothRel=function(aA,aB){return new window.SVGPathSegCurvetoQuadraticSmoothRel(undefined,aA,aB)};if(!("getPathSegAtLength" in window.SVGPathElement.prototype)){window.SVGPathElement.prototype.getPathSegAtLength=function(aC){if(aC===undefined||!isFinite(aC)){throw"Invalid arguments."}var aB=document.createElementNS("http://www.w3.org/2000/svg","path");aB.setAttribute("d",this.getAttribute("d"));var aA=aB.pathSegList.numberOfItems-1;if(aA<=0){return 0}do{aB.pathSegList.removeItem(aA);if(aC>aB.getTotalLength()){break}aA--}while(aA>0);return aA}}}if(!("SVGPathSegList" in window)){window.SVGPathSegList=function(aA){this._pathElement=aA;this._list=this._parsePath(this._pathElement.getAttribute("d"));this._mutationObserverConfig={attributes:true,attributeFilter:["d"]};this._pathElementMutationObserver=new MutationObserver(this._updateListFromPathMutations.bind(this));this._pathElementMutationObserver.observe(this._pathElement,this._mutationObserverConfig)};window.SVGPathSegList.prototype.classname="SVGPathSegList";Object.defineProperty(window.SVGPathSegList.prototype,"numberOfItems",{get:function ay(){this._checkPathSynchronizedToList();return this._list.length},enumerable:true});Object.defineProperty(window.SVGPathElement.prototype,"pathSegList",{get:function ay(){if(!this._pathSegList){this._pathSegList=new window.SVGPathSegList(this)}return this._pathSegList},enumerable:true});Object.defineProperty(window.SVGPathElement.prototype,"normalizedPathSegList",{get:function ay(){return this.pathSegList},enumerable:true});Object.defineProperty(window.SVGPathElement.prototype,"animatedPathSegList",{get:function ay(){return this.pathSegList},enumerable:true});Object.defineProperty(window.SVGPathElement.prototype,"animatedNormalizedPathSegList",{get:function ay(){return this.pathSegList},enumerable:true});window.SVGPathSegList.prototype._checkPathSynchronizedToList=function(){this._updateListFromPathMutations(this._pathElementMutationObserver.takeRecords())};window.SVGPathSegList.prototype._updateListFromPathMutations=function(aB){if(!this._pathElement){return}var aA=false;aB.forEach(function(aC){if(aC.attributeName=="d"){aA=true}});if(aA){this._list=this._parsePath(this._pathElement.getAttribute("d"))}};window.SVGPathSegList.prototype._writeListToPath=function(){this._pathElementMutationObserver.disconnect();this._pathElement.setAttribute("d",window.SVGPathSegList._pathSegArrayAsString(this._list));this._pathElementMutationObserver.observe(this._pathElement,this._mutationObserverConfig)};window.SVGPathSegList.prototype.segmentChanged=function(aA){this._writeListToPath()};window.SVGPathSegList.prototype.clear=function(){this._checkPathSynchronizedToList();this._list.forEach(function(aA){aA._owningPathSegList=null});this._list=[];this._writeListToPath()};window.SVGPathSegList.prototype.initialize=function(aA){this._checkPathSynchronizedToList();this._list=[aA];aA._owningPathSegList=this;this._writeListToPath();return aA};window.SVGPathSegList.prototype._checkValidIndex=function(aA){if(isNaN(aA)||aA<0||aA>=this.numberOfItems){throw"INDEX_SIZE_ERR"}};window.SVGPathSegList.prototype.getItem=function(aA){this._checkPathSynchronizedToList();this._checkValidIndex(aA);return this._list[aA]};window.SVGPathSegList.prototype.insertItemBefore=function(aB,aA){this._checkPathSynchronizedToList();if(aA>this.numberOfItems){aA=this.numberOfItems}if(aB._owningPathSegList){aB=aB.clone()}this._list.splice(aA,0,aB);aB._owningPathSegList=this;this._writeListToPath();return aB};window.SVGPathSegList.prototype.replaceItem=function(aB,aA){this._checkPathSynchronizedToList();if(aB._owningPathSegList){aB=aB.clone()}this._checkValidIndex(aA);this._list[aA]=aB;aB._owningPathSegList=this;this._writeListToPath();return aB};window.SVGPathSegList.prototype.removeItem=function(aA){this._checkPathSynchronizedToList();this._checkValidIndex(aA);var aB=this._list[aA];this._list.splice(aA,1);this._writeListToPath();return aB};window.SVGPathSegList.prototype.appendItem=function(aA){this._checkPathSynchronizedToList();if(aA._owningPathSegList){aA=aA.clone()}this._list.push(aA);aA._owningPathSegList=this;this._writeListToPath();return aA};window.SVGPathSegList._pathSegArrayAsString=function(aB){var aA="";var aC=true;aB.forEach(function(aD){if(aC){aC=false;aA+=aD._asPathString()}else{aA+=" "+aD._asPathString()}});return aA};window.SVGPathSegList.prototype._parsePath=function(aC){if(!aC||aC.length==0){return[]}var aB=this;var aG=function aG(){this.pathSegList=[]};aG.prototype.appendSegment=function(aH){this.pathSegList.push(aH)};var aD=function aD(aH){this._string=aH;this._currentIndex=0;this._endIndex=this._string.length;this._previousCommand=window.SVGPathSeg.PATHSEG_UNKNOWN;this._skipOptionalSpaces()};aD.prototype._isCurrentSpace=function(){var aH=this._string[this._currentIndex];return aH<=" "&&(aH==" "||aH=="\n"||aH=="\t"||aH=="\r"||aH=="\f")};aD.prototype._skipOptionalSpaces=function(){while(this._currentIndex<this._endIndex&&this._isCurrentSpace()){this._currentIndex++}return this._currentIndex<this._endIndex};aD.prototype._skipOptionalSpacesOrDelimiter=function(){if(this._currentIndex<this._endIndex&&!this._isCurrentSpace()&&this._string.charAt(this._currentIndex)!=","){return false}if(this._skipOptionalSpaces()){if(this._currentIndex<this._endIndex&&this._string.charAt(this._currentIndex)==","){this._currentIndex++;this._skipOptionalSpaces()}}return this._currentIndex<this._endIndex};aD.prototype.hasMoreData=function(){return this._currentIndex<this._endIndex};aD.prototype.peekSegmentType=function(){var aH=this._string[this._currentIndex];return this._pathSegTypeFromChar(aH)};aD.prototype._pathSegTypeFromChar=function(aH){switch(aH){case"Z":case"z":return window.SVGPathSeg.PATHSEG_CLOSEPATH;case"M":return window.SVGPathSeg.PATHSEG_MOVETO_ABS;case"m":return window.SVGPathSeg.PATHSEG_MOVETO_REL;case"L":return window.SVGPathSeg.PATHSEG_LINETO_ABS;case"l":return window.SVGPathSeg.PATHSEG_LINETO_REL;case"C":return window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_ABS;case"c":return window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_REL;case"Q":return window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_ABS;case"q":return window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_REL;case"A":return window.SVGPathSeg.PATHSEG_ARC_ABS;case"a":return window.SVGPathSeg.PATHSEG_ARC_REL;case"H":return window.SVGPathSeg.PATHSEG_LINETO_HORIZONTAL_ABS;case"h":return window.SVGPathSeg.PATHSEG_LINETO_HORIZONTAL_REL;case"V":return window.SVGPathSeg.PATHSEG_LINETO_VERTICAL_ABS;case"v":return window.SVGPathSeg.PATHSEG_LINETO_VERTICAL_REL;case"S":return window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_ABS;case"s":return window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_REL;case"T":return window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_SMOOTH_ABS;case"t":return window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_SMOOTH_REL;default:return window.SVGPathSeg.PATHSEG_UNKNOWN}};aD.prototype._nextCommandHelper=function(aH,aI){if((aH=="+"||aH=="-"||aH=="."||aH>="0"&&aH<="9")&&aI!=window.SVGPathSeg.PATHSEG_CLOSEPATH){if(aI==window.SVGPathSeg.PATHSEG_MOVETO_ABS){return window.SVGPathSeg.PATHSEG_LINETO_ABS}if(aI==window.SVGPathSeg.PATHSEG_MOVETO_REL){return window.SVGPathSeg.PATHSEG_LINETO_REL}return aI}return window.SVGPathSeg.PATHSEG_UNKNOWN};aD.prototype.initialCommandIsMoveTo=function(){if(!this.hasMoreData()){return true}var aH=this.peekSegmentType();return aH==window.SVGPathSeg.PATHSEG_MOVETO_ABS||aH==window.SVGPathSeg.PATHSEG_MOVETO_REL};aD.prototype._parseNumber=function(){var aP=0;var aN=0;var aI=1;var aM=0;var aJ=1;var aH=1;var aQ=this._currentIndex;this._skipOptionalSpaces();if(this._currentIndex<this._endIndex&&this._string.charAt(this._currentIndex)=="+"){this._currentIndex++}else{if(this._currentIndex<this._endIndex&&this._string.charAt(this._currentIndex)=="-"){this._currentIndex++;aJ=-1}}if(this._currentIndex==this._endIndex||(this._string.charAt(this._currentIndex)<"0"||this._string.charAt(this._currentIndex)>"9")&&this._string.charAt(this._currentIndex)!="."){return undefined}var aO=this._currentIndex;while(this._currentIndex<this._endIndex&&this._string.charAt(this._currentIndex)>="0"&&this._string.charAt(this._currentIndex)<="9"){this._currentIndex++}if(this._currentIndex!=aO){var aL=this._currentIndex-1;var aR=1;while(aL>=aO){aN+=aR*(this._string.charAt(aL--)-"0");aR*=10}}if(this._currentIndex<this._endIndex&&this._string.charAt(this._currentIndex)=="."){this._currentIndex++;if(this._currentIndex>=this._endIndex||this._string.charAt(this._currentIndex)<"0"||this._string.charAt(this._currentIndex)>"9"){return undefined}while(this._currentIndex<this._endIndex&&this._string.charAt(this._currentIndex)>="0"&&this._string.charAt(this._currentIndex)<="9"){aI*=10;aM+=(this._string.charAt(this._currentIndex)-"0")/aI;this._currentIndex+=1}}if(this._currentIndex!=aQ&&this._currentIndex+1<this._endIndex&&(this._string.charAt(this._currentIndex)=="e"||this._string.charAt(this._currentIndex)=="E")&&this._string.charAt(this._currentIndex+1)!="x"&&this._string.charAt(this._currentIndex+1)!="m"){this._currentIndex++;if(this._string.charAt(this._currentIndex)=="+"){this._currentIndex++}else{if(this._string.charAt(this._currentIndex)=="-"){this._currentIndex++;aH=-1}}if(this._currentIndex>=this._endIndex||this._string.charAt(this._currentIndex)<"0"||this._string.charAt(this._currentIndex)>"9"){return undefined}while(this._currentIndex<this._endIndex&&this._string.charAt(this._currentIndex)>="0"&&this._string.charAt(this._currentIndex)<="9"){aP*=10;aP+=this._string.charAt(this._currentIndex)-"0";this._currentIndex++}}var aK=aN+aM;aK*=aJ;if(aP){aK*=Math.pow(10,aH*aP)}if(aQ==this._currentIndex){return undefined}this._skipOptionalSpacesOrDelimiter();return aK};aD.prototype._parseArcFlag=function(){if(this._currentIndex>=this._endIndex){return undefined}var aH=false;var aI=this._string.charAt(this._currentIndex++);if(aI=="0"){aH=false}else{if(aI=="1"){aH=true}else{return undefined}}this._skipOptionalSpacesOrDelimiter();return aH};aD.prototype.parseSegment=function(){var aI=this._string[this._currentIndex];var aJ=this._pathSegTypeFromChar(aI);if(aJ==window.SVGPathSeg.PATHSEG_UNKNOWN){if(this._previousCommand==window.SVGPathSeg.PATHSEG_UNKNOWN){return null}aJ=this._nextCommandHelper(aI,this._previousCommand);if(aJ==window.SVGPathSeg.PATHSEG_UNKNOWN){return null}}else{this._currentIndex++}this._previousCommand=aJ;switch(aJ){case window.SVGPathSeg.PATHSEG_MOVETO_REL:return new window.SVGPathSegMovetoRel(aB,this._parseNumber(),this._parseNumber());case window.SVGPathSeg.PATHSEG_MOVETO_ABS:return new window.SVGPathSegMovetoAbs(aB,this._parseNumber(),this._parseNumber());case window.SVGPathSeg.PATHSEG_LINETO_REL:return new window.SVGPathSegLinetoRel(aB,this._parseNumber(),this._parseNumber());case window.SVGPathSeg.PATHSEG_LINETO_ABS:return new window.SVGPathSegLinetoAbs(aB,this._parseNumber(),this._parseNumber());case window.SVGPathSeg.PATHSEG_LINETO_HORIZONTAL_REL:return new window.SVGPathSegLinetoHorizontalRel(aB,this._parseNumber());case window.SVGPathSeg.PATHSEG_LINETO_HORIZONTAL_ABS:return new window.SVGPathSegLinetoHorizontalAbs(aB,this._parseNumber());case window.SVGPathSeg.PATHSEG_LINETO_VERTICAL_REL:return new window.SVGPathSegLinetoVerticalRel(aB,this._parseNumber());case window.SVGPathSeg.PATHSEG_LINETO_VERTICAL_ABS:return new window.SVGPathSegLinetoVerticalAbs(aB,this._parseNumber());case window.SVGPathSeg.PATHSEG_CLOSEPATH:this._skipOptionalSpaces();return new window.SVGPathSegClosePath(aB);case window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_REL:var aH={x1:this._parseNumber(),y1:this._parseNumber(),x2:this._parseNumber(),y2:this._parseNumber(),x:this._parseNumber(),y:this._parseNumber()};return new window.SVGPathSegCurvetoCubicRel(aB,aH.x,aH.y,aH.x1,aH.y1,aH.x2,aH.y2);case window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_ABS:var aH={x1:this._parseNumber(),y1:this._parseNumber(),x2:this._parseNumber(),y2:this._parseNumber(),x:this._parseNumber(),y:this._parseNumber()};return new window.SVGPathSegCurvetoCubicAbs(aB,aH.x,aH.y,aH.x1,aH.y1,aH.x2,aH.y2);case window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_REL:var aH={x2:this._parseNumber(),y2:this._parseNumber(),x:this._parseNumber(),y:this._parseNumber()};return new window.SVGPathSegCurvetoCubicSmoothRel(aB,aH.x,aH.y,aH.x2,aH.y2);case window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_ABS:var aH={x2:this._parseNumber(),y2:this._parseNumber(),x:this._parseNumber(),y:this._parseNumber()};return new window.SVGPathSegCurvetoCubicSmoothAbs(aB,aH.x,aH.y,aH.x2,aH.y2);case window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_REL:var aH={x1:this._parseNumber(),y1:this._parseNumber(),x:this._parseNumber(),y:this._parseNumber()};return new window.SVGPathSegCurvetoQuadraticRel(aB,aH.x,aH.y,aH.x1,aH.y1);case window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_ABS:var aH={x1:this._parseNumber(),y1:this._parseNumber(),x:this._parseNumber(),y:this._parseNumber()};return new window.SVGPathSegCurvetoQuadraticAbs(aB,aH.x,aH.y,aH.x1,aH.y1);case window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_SMOOTH_REL:return new window.SVGPathSegCurvetoQuadraticSmoothRel(aB,this._parseNumber(),this._parseNumber());case window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_SMOOTH_ABS:return new window.SVGPathSegCurvetoQuadraticSmoothAbs(aB,this._parseNumber(),this._parseNumber());case window.SVGPathSeg.PATHSEG_ARC_REL:var aH={x1:this._parseNumber(),y1:this._parseNumber(),arcAngle:this._parseNumber(),arcLarge:this._parseArcFlag(),arcSweep:this._parseArcFlag(),x:this._parseNumber(),y:this._parseNumber()};return new window.SVGPathSegArcRel(aB,aH.x,aH.y,aH.x1,aH.y1,aH.arcAngle,aH.arcLarge,aH.arcSweep);case window.SVGPathSeg.PATHSEG_ARC_ABS:var aH={x1:this._parseNumber(),y1:this._parseNumber(),arcAngle:this._parseNumber(),arcLarge:this._parseArcFlag(),arcSweep:this._parseArcFlag(),x:this._parseNumber(),y:this._parseNumber()};return new window.SVGPathSegArcAbs(aB,aH.x,aH.y,aH.x1,aH.y1,aH.arcAngle,aH.arcLarge,aH.arcSweep);default:throw"Unknown path seg type."}};var aA=new aG();var aE=new aD(aC);if(!aE.initialCommandIsMoveTo()){return[]}while(aE.hasMoreData()){var aF=aE.parseSegment();if(!aF){return[]}aA.appendSegment(aF)}return aA.pathSegList}}})();B.axis=function(){};B.axis.labels=function(az){var ay=this.internal;if(arguments.length){Object.keys(az).forEach(function(aA){ay.axis.setLabelText(aA,az[aA])});ay.axis.updateLabels()}};B.axis.max=function(ay){var az=this.internal,aA=az.config;if(arguments.length){if((typeof ay==="undefined"?"undefined":at(ay))==="object"){if(k(ay.x)){aA.axis_x_max=ay.x}if(k(ay.y)){aA.axis_y_max=ay.y}if(k(ay.y2)){aA.axis_y2_max=ay.y2}}else{aA.axis_y_max=aA.axis_y2_max=ay}az.redraw({withUpdateOrgXDomain:true,withUpdateXDomain:true})}else{return{x:aA.axis_x_max,y:aA.axis_y_max,y2:aA.axis_y2_max}}};B.axis.min=function(aA){var ay=this.internal,az=ay.config;if(arguments.length){if((typeof aA==="undefined"?"undefined":at(aA))==="object"){if(k(aA.x)){az.axis_x_min=aA.x}if(k(aA.y)){az.axis_y_min=aA.y}if(k(aA.y2)){az.axis_y2_min=aA.y2}}else{az.axis_y_min=az.axis_y2_min=aA}ay.redraw({withUpdateOrgXDomain:true,withUpdateXDomain:true})}else{return{x:az.axis_x_min,y:az.axis_y_min,y2:az.axis_y2_min}}};B.axis.range=function(ay){if(arguments.length){if(J(ay.max)){this.axis.max(ay.max)}if(J(ay.min)){this.axis.min(ay.min)}}else{return{max:this.axis.max(),min:this.axis.min()}}};B.category=function(aA,aB){var ay=this.internal,az=ay.config;if(arguments.length>1){az.axis_x_categories[aA]=aB;ay.redraw()}return az.axis_x_categories[aA]};B.categories=function(az){var ay=this.internal,aA=ay.config;if(!arguments.length){return aA.axis_x_categories}aA.axis_x_categories=az;ay.redraw();return aA.axis_x_categories};B.resize=function(aA){var ay=this.internal,az=ay.config;az.size_width=aA?aA.width:null;az.size_height=aA?aA.height:null;this.flush()};B.flush=function(){var ay=this.internal;ay.updateAndRedraw({withLegend:true,withTransition:false,withTransitionForTransform:false})};B.destroy=function(){var ay=this.internal;window.clearInterval(ay.intervalForObserveInserted);if(ay.resizeTimeout!==undefined){window.clearTimeout(ay.resizeTimeout)}if(window.detachEvent){window.detachEvent("onresize",ay.resizeFunction)}else{if(window.removeEventListener){window.removeEventListener("resize",ay.resizeFunction)}else{var az=window.onresize;if(az&&az.add&&az.remove){az.remove(ay.resizeFunction)}}}ay.selectChart.classed("c3",false).html("");Object.keys(ay).forEach(function(aA){ay[aA]=null});return null};B.color=function(az){var ay=this.internal;return ay.color(az)};B.data=function(az){var ay=this.internal.data.targets;return typeof az==="undefined"?ay:ay.filter(function(aA){return[].concat(az).indexOf(aA.id)>=0})};B.data.shown=function(ay){return this.internal.filterTargetsToShow(this.data(ay))};B.data.values=function(aA){var ay,az=null;if(aA){ay=this.data(aA);az=ay[0]?ay[0].values.map(function(aB){return aB.value}):null}return az};B.data.names=function(ay){this.internal.clearLegendItemTextBoxCache();return this.internal.updateDataAttributes("names",ay)};B.data.colors=function(ay){return this.internal.updateDataAttributes("colors",ay)};B.data.axes=function(ay){return this.internal.updateDataAttributes("axes",ay)};B.flow=function(aG){var aL=this.internal,aE,aD,aB=[],aH=aL.getMaxDataCount(),aI,aC,az,ay,aA=0,aF=0,aK,aJ;if(aG.json){aD=aL.convertJsonToData(aG.json,aG.keys)}else{if(aG.rows){aD=aL.convertRowsToData(aG.rows)}else{if(aG.columns){aD=aL.convertColumnsToData(aG.columns)}else{return}}}aE=aL.convertDataToTargets(aD,true);aL.data.targets.forEach(function(aO){var aP=false,aN,aM;for(aN=0;aN<aE.length;aN++){if(aO.id===aE[aN].id){aP=true;if(aO.values[aO.values.length-1]){aF=aO.values[aO.values.length-1].index+1}aA=aE[aN].values.length;for(aM=0;aM<aA;aM++){aE[aN].values[aM].index=aF+aM;if(!aL.isTimeSeries()){aE[aN].values[aM].x=aF+aM}}aO.values=aO.values.concat(aE[aN].values);aE.splice(aN,1);break}}if(!aP){aB.push(aO.id)}});aL.data.targets.forEach(function(aO){var aN,aM;for(aN=0;aN<aB.length;aN++){if(aO.id===aB[aN]){aF=aO.values[aO.values.length-1].index+1;for(aM=0;aM<aA;aM++){aO.values.push({id:aO.id,index:aF+aM,x:aL.isTimeSeries()?aL.getOtherTargetX(aF+aM):aF+aM,value:null})}}}});if(aL.data.targets.length){aE.forEach(function(aO){var aN,aM=[];for(aN=aL.data.targets[0].values[0].index;aN<aF;aN++){aM.push({id:aO.id,index:aN,x:aL.isTimeSeries()?aL.getOtherTargetX(aN):aN,value:null})}aO.values.forEach(function(aP){aP.index+=aF;if(!aL.isTimeSeries()){aP.x+=aF}});aO.values=aM.concat(aO.values)})}aL.data.targets=aL.data.targets.concat(aE);aI=aL.getMaxDataCount();az=aL.data.targets[0];ay=az.values[0];if(J(aG.to)){aA=0;aJ=aL.isTimeSeries()?aL.parseDate(aG.to):aG.to;az.values.forEach(function(aM){if(aM.x<aJ){aA++}})}else{if(J(aG.length)){aA=aG.length}}if(!aH){if(aL.isTimeSeries()){if(az.values.length>1){aK=az.values[az.values.length-1].x-ay.x}else{aK=ay.x-aL.getXDomain(aL.data.targets)[0]}}else{aK=1}aC=[ay.x-aK,ay.x];aL.updateXDomain(null,true,true,false,aC)}else{if(aH===1){if(aL.isTimeSeries()){aK=(az.values[az.values.length-1].x-ay.x)/2;aC=[new Date(+ay.x-aK),new Date(+ay.x+aK)];aL.updateXDomain(null,true,true,false,aC)}}}aL.updateTargets(aL.data.targets);aL.redraw({flow:{index:ay.index,length:aA,duration:k(aG.duration)?aG.duration:aL.config.transition_duration,done:aG.done,orgDataCount:aH},withLegend:true,withTransition:aH>1,withTrimXDomain:false,withUpdateXAxis:true})};E.generateFlow=function(aA){var ay=this,az=ay.config,aB=ay.d3;return function(){var a3=aA.targets,aL=aA.flow,aY=aA.drawBar,aS=aA.drawLine,a2=aA.drawArea,aI=aA.cx,aG=aA.cy,aN=aA.xv,aH=aA.xForText,aW=aA.yForText,aD=aA.duration;var a6,a1=1,aQ,aC=aL.index,aR=aL.length,a4=ay.getValueOnIndex(ay.data.targets[0].values,aC),aO=ay.getValueOnIndex(ay.data.targets[0].values,aC+aR),aV=ay.x.domain(),a5,aM=aL.duration||aD,aU=aL.done||function(){},aX=ay.generateWait();var aE=ay.xgrid||aB.selectAll([]),a0=ay.xgridLines||aB.selectAll([]),aK=ay.mainRegion||aB.selectAll([]),aJ=ay.mainText||aB.selectAll([]),aT=ay.mainBar||aB.selectAll([]),aF=ay.mainLine||aB.selectAll([]),aP=ay.mainArea||aB.selectAll([]),aZ=ay.mainCircle||aB.selectAll([]);ay.flowing=true;ay.data.targets.forEach(function(a7){a7.values.splice(0,aR)});a5=ay.updateXDomain(a3,true,true);if(ay.updateXGrid){ay.updateXGrid(true)}if(!aL.orgDataCount){if(ay.data.targets[0].values.length!==1){a6=ay.x(aV[0])-ay.x(a5[0])}else{if(ay.isTimeSeries()){a4=ay.getValueOnIndex(ay.data.targets[0].values,0);aO=ay.getValueOnIndex(ay.data.targets[0].values,ay.data.targets[0].values.length-1);a6=ay.x(a4.x)-ay.x(aO.x)}else{a6=P(a5)/2}}}else{if(aL.orgDataCount===1||(a4&&a4.x)===(aO&&aO.x)){a6=ay.x(aV[0])-ay.x(a5[0])}else{if(ay.isTimeSeries()){a6=ay.x(aV[0])-ay.x(a5[0])}else{a6=ay.x(a4.x)-ay.x(aO.x)}}}a1=P(aV)/P(a5);aQ="translate("+a6+",0) scale("+a1+",1)";ay.hideXGridFocus();aB.transition().ease("linear").duration(aM).each(function(){aX.add(ay.axes.x.transition().call(ay.xAxis));aX.add(aT.transition().attr("transform",aQ));aX.add(aF.transition().attr("transform",aQ));aX.add(aP.transition().attr("transform",aQ));aX.add(aZ.transition().attr("transform",aQ));aX.add(aJ.transition().attr("transform",aQ));aX.add(aK.filter(ay.isRegionOnX).transition().attr("transform",aQ));aX.add(aE.transition().attr("transform",aQ));aX.add(a0.transition().attr("transform",aQ))}).call(aX,function(){var a9,a7=[],ba=[],a8=[];if(aR){for(a9=0;a9<aR;a9++){a7.push("."+D.shape+"-"+(aC+a9));ba.push("."+D.text+"-"+(aC+a9));a8.push("."+D.eventRect+"-"+(aC+a9))}ay.svg.selectAll("."+D.shapes).selectAll(a7).remove();ay.svg.selectAll("."+D.texts).selectAll(ba).remove();ay.svg.selectAll("."+D.eventRects).selectAll(a8).remove();ay.svg.select("."+D.xgrid).remove()}aE.attr("transform",null).attr(ay.xgridAttr);a0.attr("transform",null);a0.select("line").attr("x1",az.axis_rotated?0:aN).attr("x2",az.axis_rotated?ay.width:aN);a0.select("text").attr("x",az.axis_rotated?ay.width:0).attr("y",aN);aT.attr("transform",null).attr("d",aY);aF.attr("transform",null).attr("d",aS);aP.attr("transform",null).attr("d",a2);aZ.attr("transform",null).attr("cx",aI).attr("cy",aG);aJ.attr("transform",null).attr("x",aH).attr("y",aW).style("fill-opacity",ay.opacityForText.bind(ay));aK.attr("transform",null);aK.select("rect").filter(ay.isRegionOnX).attr("x",ay.regionX.bind(ay)).attr("width",ay.regionWidth.bind(ay));if(az.interaction_enabled){ay.redrawEventRect()}aU();ay.flowing=false})}};B.focus=function(ay){var az=this.internal,aA;ay=az.mapToTargetIds(ay);aA=az.svg.selectAll(az.selectorTargets(ay.filter(az.isTargetToShow,az))),this.revert();this.defocus();aA.classed(D.focused,true).classed(D.defocused,false);if(az.hasArcType()){az.expandArc(ay)}az.toggleFocusLegend(ay,true);az.focusedTargetIds=ay;az.defocusedTargetIds=az.defocusedTargetIds.filter(function(aB){return ay.indexOf(aB)<0})};B.defocus=function(ay){var az=this.internal,aA;ay=az.mapToTargetIds(ay);aA=az.svg.selectAll(az.selectorTargets(ay.filter(az.isTargetToShow,az))),aA.classed(D.focused,false).classed(D.defocused,true);if(az.hasArcType()){az.unexpandArc(ay)}az.toggleFocusLegend(ay,false);az.focusedTargetIds=az.focusedTargetIds.filter(function(aB){return ay.indexOf(aB)<0});az.defocusedTargetIds=ay};B.revert=function(ay){var az=this.internal,aA;ay=az.mapToTargetIds(ay);aA=az.svg.selectAll(az.selectorTargets(ay));aA.classed(D.focused,false).classed(D.defocused,false);if(az.hasArcType()){az.unexpandArc(ay)}if(az.config.legend_show){az.showLegend(ay.filter(az.isLegendToShow.bind(az)));az.legend.selectAll(az.selectorLegends(ay)).filter(function(){return az.d3.select(this).classed(D.legendItemFocused)}).classed(D.legendItemFocused,false)}az.focusedTargetIds=[];az.defocusedTargetIds=[]};B.xgrids=function(aA){var ay=this.internal,az=ay.config;if(!aA){return az.grid_x_lines}az.grid_x_lines=aA;ay.redrawWithoutRescale();return az.grid_x_lines};B.xgrids.add=function(az){var ay=this.internal;return this.xgrids(ay.config.grid_x_lines.concat(az?az:[]))};B.xgrids.remove=function(az){var ay=this.internal;ay.removeGridLines(az,true)};B.ygrids=function(aA){var ay=this.internal,az=ay.config;if(!aA){return az.grid_y_lines}az.grid_y_lines=aA;ay.redrawWithoutRescale();return az.grid_y_lines};B.ygrids.add=function(az){var ay=this.internal;return this.ygrids(ay.config.grid_y_lines.concat(az?az:[]))};B.ygrids.remove=function(az){var ay=this.internal;ay.removeGridLines(az,false)};B.groups=function(ay){var az=this.internal,aA=az.config;if(F(ay)){return aA.data_groups}aA.data_groups=ay;az.redraw();return aA.data_groups};B.legend=function(){};B.legend.show=function(ay){var az=this.internal;az.showLegend(az.mapToTargetIds(ay));az.updateAndRedraw({withLegend:true})};B.legend.hide=function(ay){var az=this.internal;az.hideLegend(az.mapToTargetIds(ay));az.updateAndRedraw({withLegend:true})};B.load=function(aA){var ay=this.internal,az=ay.config;if(aA.xs){ay.addXs(aA.xs)}if("names" in aA){B.data.names.bind(this)(aA.names)}if("classes" in aA){Object.keys(aA.classes).forEach(function(aB){az.data_classes[aB]=aA.classes[aB]})}if("categories" in aA&&ay.isCategorized()){az.axis_x_categories=aA.categories}if("axes" in aA){Object.keys(aA.axes).forEach(function(aB){az.data_axes[aB]=aA.axes[aB]})}if("colors" in aA){Object.keys(aA.colors).forEach(function(aB){az.data_colors[aB]=aA.colors[aB]})}if("cacheIds" in aA&&ay.hasCaches(aA.cacheIds)){ay.load(ay.getCaches(aA.cacheIds),aA.done);return}if("unload" in aA){ay.unload(ay.mapToTargetIds(typeof aA.unload==="boolean"&&aA.unload?null:aA.unload),function(){ay.loadFromArgs(aA)})}else{ay.loadFromArgs(aA)}};B.unload=function(az){var ay=this.internal;az=az||{};if(az instanceof Array){az={ids:az}}else{if(typeof az==="string"){az={ids:[az]}}}ay.unload(ay.mapToTargetIds(az.ids),function(){ay.redraw({withUpdateOrgXDomain:true,withUpdateXDomain:true,withLegend:true});if(az.done){az.done()}})};B.regions=function(aA){var ay=this.internal,az=ay.config;if(!aA){return az.regions}az.regions=aA;ay.redrawWithoutRescale();return az.regions};B.regions.add=function(aA){var ay=this.internal,az=ay.config;if(!aA){return az.regions}az.regions=az.regions.concat(aA);ay.redrawWithoutRescale();return az.regions};B.regions.remove=function(aA){var ay=this.internal,az=ay.config,aC,aB,aD;aA=aA||{};aC=ay.getOption(aA,"duration",az.transition_duration);aB=ay.getOption(aA,"classes",[D.region]);aD=ay.main.select("."+D.regions).selectAll(aB.map(function(aE){return"."+aE}));(aC?aD.transition().duration(aC):aD).style("opacity",0).remove();az.regions=az.regions.filter(function(aF){var aE=false;if(!aF["class"]){return true}aF["class"].split(" ").forEach(function(aG){if(aB.indexOf(aG)>=0){aE=true}});return !aE});return az.regions};B.selected=function(az){var ay=this.internal,aA=ay.d3;return aA.merge(ay.main.selectAll("."+D.shapes+ay.getTargetSelectorSuffix(az)).selectAll("."+D.shape).filter(function(){return aA.select(this).classed(D.SELECTED)}).map(function(aB){return aB.map(function(aD){var aC=aD.__data__;return aC.data?aC.data:aC})}))};B.select=function(aC,aD,aB){var ay=this.internal,aA=ay.d3,az=ay.config;if(!az.data_selection_enabled){return}ay.main.selectAll("."+D.shapes).selectAll("."+D.shape).each(function(aK,aI){var aG=aA.select(this),aL=aK.data?aK.data.id:aK.id,aE=ay.getToggle(this,aK).bind(ay),aF=az.data_selection_grouped||!aC||aC.indexOf(aL)>=0,aJ=!aD||aD.indexOf(aI)>=0,aH=aG.classed(D.SELECTED);if(aG.classed(D.line)||aG.classed(D.area)){return}if(aF&&aJ){if(az.data_selection_isselectable(aK)&&!aH){aE(true,aG.classed(D.SELECTED,true),aK,aI)}}else{if(J(aB)&&aB){if(aH){aE(false,aG.classed(D.SELECTED,false),aK,aI)}}}})};B.unselect=function(aB,aC){var ay=this.internal,aA=ay.d3,az=ay.config;if(!az.data_selection_enabled){return}ay.main.selectAll("."+D.shapes).selectAll("."+D.shape).each(function(aJ,aH){var aF=aA.select(this),aK=aJ.data?aJ.data.id:aJ.id,aD=ay.getToggle(this,aJ).bind(ay),aE=az.data_selection_grouped||!aB||aB.indexOf(aK)>=0,aI=!aC||aC.indexOf(aH)>=0,aG=aF.classed(D.SELECTED);if(aF.classed(D.line)||aF.classed(D.area)){return}if(aE&&aI){if(az.data_selection_isselectable(aJ)){if(aG){aD(false,aF.classed(D.SELECTED,false),aJ,aH)}}}})};B.show=function(az,aB){var aA=this.internal,ay;az=aA.mapToTargetIds(az);aB=aB||{};aA.removeHiddenTargetIds(az);ay=aA.svg.selectAll(aA.selectorTargets(az));ay.transition().style("opacity",1,"important").call(aA.endall,function(){ay.style("opacity",null).style("opacity",1)});if(aB.withLegend){aA.showLegend(az)}aA.redraw({withUpdateOrgXDomain:true,withUpdateXDomain:true,withLegend:true})};B.hide=function(az,aB){var aA=this.internal,ay;az=aA.mapToTargetIds(az);aB=aB||{};aA.addHiddenTargetIds(az);ay=aA.svg.selectAll(aA.selectorTargets(az));ay.transition().style("opacity",0,"important").call(aA.endall,function(){ay.style("opacity",null).style("opacity",0)});if(aB.withLegend){aA.hideLegend(az)}aA.redraw({withUpdateOrgXDomain:true,withUpdateXDomain:true,withLegend:true})};B.toggle=function(ay,aA){var aB=this,az=this.internal;az.mapToTargetIds(ay).forEach(function(aC){az.isTargetToShow(aC)?aB.hide(aC,aA):aB.show(aC,aA)})};B.tooltip=function(){};B.tooltip.show=function(aB){var ay=this.internal,aA,az;if(aB.mouse){az=aB.mouse}if(aB.data){if(ay.isMultipleX()){az=[ay.x(aB.data.x),ay.getYScale(aB.data.id)(aB.data.value)];aA=null}else{aA=k(aB.data.index)?aB.data.index:ay.getIndexByX(aB.data.x)}}else{if(typeof aB.x!=="undefined"){aA=ay.getIndexByX(aB.x)}else{if(typeof aB.index!=="undefined"){aA=aB.index}}}ay.dispatchEvent("mouseover",aA,az);ay.dispatchEvent("mousemove",aA,az);ay.config.tooltip_onshow.call(ay,aB.data)};B.tooltip.hide=function(){this.internal.dispatchEvent("mouseout",0);this.internal.config.tooltip_onhide.call(this)};B.transform=function(aB,ay){var az=this.internal,aA=["pie","donut"].indexOf(aB)>=0?{withTransform:true}:null;az.transformTo(ay,aB,aA)};E.transformTo=function(az,aC,ay){var aA=this,aD=!aA.hasArcType(),aB=ay||{withTransitionForAxis:aD};aB.withTransitionForTransform=false;aA.transiting=false;aA.setTargetType(az,aC);aA.updateTargets(aA.data.targets);aA.updateAndRedraw(aB)};B.x=function(ay){var az=this.internal;if(arguments.length){az.updateTargetX(az.data.targets,ay);az.redraw({withUpdateOrgXDomain:true,withUpdateXDomain:true})}return az.data.xs};B.xs=function(az){var ay=this.internal;if(arguments.length){ay.updateTargetXs(ay.data.targets,az);ay.redraw({withUpdateOrgXDomain:true,withUpdateXDomain:true})}return ay.data.xs};B.zoom=function(az){var ay=this.internal;if(az){if(ay.isTimeSeries()){az=az.map(function(aA){return ay.parseDate(aA)})}ay.brush.extent(az);ay.redraw({withUpdateXDomain:true,withY:ay.config.zoom_rescale});ay.config.zoom_onzoom.call(this,ay.x.orgDomain())}return ay.brush.extent()};B.zoom.enable=function(az){var ay=this.internal;ay.config.zoom_enabled=az;ay.updateAndRedraw()};B.unzoom=function(){var ay=this.internal;ay.brush.clear().update();ay.redraw({withUpdateXDomain:true})};B.zoom.max=function(ay){var az=this.internal,aA=az.config,aB=az.d3;if(ay===0||ay){aA.zoom_x_max=aB.max([az.orgXDomain[1],ay])}else{return aA.zoom_x_max}};B.zoom.min=function(aA){var ay=this.internal,az=ay.config,aB=ay.d3;if(aA===0||aA){az.zoom_x_min=aB.min([ay.orgXDomain[0],aA])}else{return az.zoom_x_min}};B.zoom.range=function(ay){if(arguments.length){if(J(ay.max)){this.domain.max(ay.max)}if(J(ay.min)){this.domain.min(ay.min)}}else{return{max:this.domain.max(),min:this.domain.min()}}};E.initPie=function(){var ay=this,aA=ay.d3,az=ay.config;ay.pie=aA.layout.pie().value(function(aB){return aB.values.reduce(function(aD,aC){return aD+aC.value},0)});if(!az.data_order){ay.pie.sort(null)}};E.updateRadius=function(){var az=this,aA=az.config,ay=aA.gauge_width||aA.donut_width;az.radiusExpanded=Math.min(az.arcWidth,az.arcHeight)/2;az.radius=az.radiusExpanded*0.95;az.innerRadiusRatio=ay?(az.radius-ay)/az.radius:0.6;az.innerRadius=az.hasType("donut")||az.hasType("gauge")?az.radius*az.innerRadiusRatio:0};E.updateArc=function(){var ay=this;ay.svgArc=ay.getSvgArc();ay.svgArcExpanded=ay.getSvgArcExpanded();ay.svgArcExpandedSub=ay.getSvgArcExpanded(0.98)};E.updateAngle=function(aD){var aF=this,az=aF.config,aG=false,aC=0,aA,aE,aB,ay;if(!az){return null}aF.pie(aF.filterTargetsToShow(aF.data.targets)).forEach(function(aH){if(!aG&&aH.data.id===aD.data.id){aG=true;aD=aH;aD.index=aC}aC++});if(isNaN(aD.startAngle)){aD.startAngle=0}if(isNaN(aD.endAngle)){aD.endAngle=aD.startAngle}if(aF.isGaugeType(aD.data)){aA=az.gauge_min;aE=az.gauge_max;aB=Math.PI*(az.gauge_fullCircle?2:1)/(aE-aA);ay=aD.value<aA?0:aD.value<aE?aD.value-aA:aE-aA;aD.startAngle=az.gauge_startingAngle;aD.endAngle=aD.startAngle+aB*ay}return aG?aD:null};E.getSvgArc=function(){var ay=this,az=ay.d3.svg.arc().outerRadius(ay.radius).innerRadius(ay.innerRadius),aA=function aA(aD,aC){var aB;if(aC){return az(aD)}aB=ay.updateAngle(aD);return aB?az(aB):"M 0 0"};aA.centroid=az.centroid;return aA};E.getSvgArcExpanded=function(aA){var ay=this,az=ay.d3.svg.arc().outerRadius(ay.radiusExpanded*(aA?aA:1)).innerRadius(ay.innerRadius);return function(aC){var aB=ay.updateAngle(aC);return aB?az(aB):"M 0 0"}};E.getArc=function(aA,az,ay){return ay||this.isArcType(aA.data)?this.svgArc(aA,az):"M 0 0"};E.transformForArcLabel=function(aD){var aH=this,ay=aH.config,aB=aH.updateAngle(aD),aE,aG,aF,aA,aC,az="";if(aB&&!aH.hasType("gauge")){aE=this.svgArc.centroid(aB);aG=isNaN(aE[0])?0:aE[0];aF=isNaN(aE[1])?0:aE[1];aA=Math.sqrt(aG*aG+aF*aF);if(aH.hasType("donut")&&ay.donut_label_ratio){aC=z(ay.donut_label_ratio)?ay.donut_label_ratio(aD,aH.radius,aA):ay.donut_label_ratio}else{if(aH.hasType("pie")&&ay.pie_label_ratio){aC=z(ay.pie_label_ratio)?ay.pie_label_ratio(aD,aH.radius,aA):ay.pie_label_ratio}else{aC=aH.radius&&aA?(36/aH.radius>0.375?1.175-36/aH.radius:0.8)*aH.radius/aA:0}}az="translate("+aG*aC+","+aF*aC+")"}return az};E.getArcRatio=function(aB){var ay=this,az=ay.config,aA=Math.PI*(ay.hasType("gauge")&&!az.gauge_fullCircle?1:2);return aB?(aB.endAngle-aB.startAngle)/aA:null};E.convertToArcData=function(ay){return this.addName({id:ay.data.id,value:ay.value,ratio:this.getArcRatio(ay),index:ay.index})};E.textForArcLabel=function(aD){var az=this,ay,aB,aA,aE,aC;if(!az.shouldShowArcLabel()){return""}ay=az.updateAngle(aD);aB=ay?ay.value:null;aA=az.getArcRatio(ay);aE=aD.data.id;if(!az.hasType("gauge")&&!az.meetsArcLabelThreshold(aA)){return""}aC=az.getArcLabelFormat();return aC?aC(aB,aA,aE):az.defaultArcValueFormat(aB,aA)};E.textForGaugeMinMax=function(aA,az){var ay=this,aB=ay.getGaugeLabelExtents();return aB?aB(aA,az):aA};E.expandArc=function(ay){var aA=this,az;if(aA.transiting){az=window.setInterval(function(){if(!aA.transiting){window.clearInterval(az);if(aA.legend.selectAll(".c3-legend-item-focused").size()>0){aA.expandArc(ay)}}},10);return}ay=aA.mapToTargetIds(ay);aA.svg.selectAll(aA.selectorTargets(ay,"."+D.chartArc)).each(function(aB){if(!aA.shouldExpand(aB.data.id)){return}aA.d3.select(this).selectAll("path").transition().duration(aA.expandDuration(aB.data.id)).attr("d",aA.svgArcExpanded).transition().duration(aA.expandDuration(aB.data.id)*2).attr("d",aA.svgArcExpandedSub).each(function(aC){if(aA.isDonutType(aC.data)){}})})};E.unexpandArc=function(ay){var az=this;if(az.transiting){return}ay=az.mapToTargetIds(ay);az.svg.selectAll(az.selectorTargets(ay,"."+D.chartArc)).selectAll("path").transition().duration(function(aA){return az.expandDuration(aA.data.id)}).attr("d",az.svgArc);az.svg.selectAll("."+D.arc)};E.expandDuration=function(aA){var ay=this,az=ay.config;if(ay.isDonutType(aA)){return az.donut_expand_duration}else{if(ay.isGaugeType(aA)){return az.gauge_expand_duration}else{if(ay.isPieType(aA)){return az.pie_expand_duration}else{return 50}}}};E.shouldExpand=function(aA){var ay=this,az=ay.config;return ay.isDonutType(aA)&&az.donut_expand||ay.isGaugeType(aA)&&az.gauge_expand||ay.isPieType(aA)&&az.pie_expand};E.shouldShowArcLabel=function(){var az=this,aA=az.config,ay=true;if(az.hasType("donut")){ay=aA.donut_label_show}else{if(az.hasType("pie")){ay=aA.pie_label_show}}return ay};E.meetsArcLabelThreshold=function(aB){var az=this,aA=az.config,ay=az.hasType("donut")?aA.donut_label_threshold:aA.pie_label_threshold;return aB>=ay};E.getArcLabelFormat=function(){var ay=this,az=ay.config,aA=az.pie_label_format;if(ay.hasType("gauge")){aA=az.gauge_label_format}else{if(ay.hasType("donut")){aA=az.donut_label_format}}return aA};E.getGaugeLabelExtents=function(){var ay=this,az=ay.config;return az.gauge_label_extents};E.getArcTitle=function(){var ay=this;return ay.hasType("donut")?ay.config.donut_title:""};E.updateTargetsForArc=function(aB){var aD=this,az=aD.main,ay,aE,aA=aD.classChartArc.bind(aD),aF=aD.classArcs.bind(aD),aC=aD.classFocus.bind(aD);ay=az.select("."+D.chartArcs).selectAll("."+D.chartArc).data(aD.pie(aB)).attr("class",function(aG){return aA(aG)+aC(aG.data)});aE=ay.enter().append("g").attr("class",aA);aE.append("g").attr("class",aF);aE.append("text").attr("dy",aD.hasType("gauge")?"-.1em":".35em").style("opacity",0).style("text-anchor","middle").style("pointer-events","none")};E.initArc=function(){var ay=this;ay.arcs=ay.main.select("."+D.chart).append("g").attr("class",D.chartArcs).attr("transform",ay.getTranslate("arc"));ay.arcs.append("text").attr("class",D.chartArcsTitle).style("text-anchor","middle").text(ay.getArcTitle())};E.redrawArc=function(aE,aF,az){var aA=this,aC=aA.d3,aB=aA.config,ay=aA.main,aD;aD=ay.selectAll("."+D.arcs).selectAll("."+D.arc).data(aA.arcData.bind(aA));aD.enter().append("path").attr("class",aA.classArc.bind(aA)).style("fill",function(aG){return aA.color(aG.data)}).style("cursor",function(aG){return aB.interaction_enabled&&aB.data_selection_isselectable(aG)?"pointer":null}).each(function(aG){if(aA.isGaugeType(aG.data)){aG.startAngle=aG.endAngle=aB.gauge_startingAngle}this._current=aG});aD.attr("transform",function(aG){return !aA.isGaugeType(aG.data)&&az?"scale(0)":""}).on("mouseover",aB.interaction_enabled?function(aI){var aH,aG;if(aA.transiting){return}aH=aA.updateAngle(aI);if(aH){aG=aA.convertToArcData(aH);aA.expandArc(aH.data.id);aA.api.focus(aH.data.id);aA.toggleFocusLegend(aH.data.id,true);aA.config.data_onmouseover(aG,this)}}:null).on("mousemove",aB.interaction_enabled?function(aJ){var aH=aA.updateAngle(aJ),aG,aI;if(aH){aG=aA.convertToArcData(aH),aI=[aG];aA.showTooltip(aI,this)}}:null).on("mouseout",aB.interaction_enabled?function(aI){var aH,aG;if(aA.transiting){return}aH=aA.updateAngle(aI);if(aH){aG=aA.convertToArcData(aH);aA.unexpandArc(aH.data.id);aA.api.revert();aA.revertLegend();aA.hideTooltip();aA.config.data_onmouseout(aG,this)}}:null).on("click",aB.interaction_enabled?function(aJ,aI){var aH=aA.updateAngle(aJ),aG;if(aH){aG=aA.convertToArcData(aH);if(aA.toggleShape){aA.toggleShape(this,aG,aI)}aA.config.data_onclick.call(aA.api,aG,this)}}:null).each(function(){aA.transiting=true}).transition().duration(aE).attrTween("d",function(aI){var aG=aA.updateAngle(aI),aH;if(!aG){return function(){return"M 0 0"}}if(isNaN(this._current.startAngle)){this._current.startAngle=0}if(isNaN(this._current.endAngle)){this._current.endAngle=this._current.startAngle}aH=aC.interpolate(this._current,aG);this._current=aH(0);return function(aK){var aJ=aH(aK);aJ.data=aI.data;return aA.getArc(aJ,true)}}).attr("transform",az?"scale(1)":"").style("fill",function(aG){return aA.levelColor?aA.levelColor(aG.data.values[0].value):aA.color(aG.data.id)}).call(aA.endall,function(){aA.transiting=false});aD.exit().transition().duration(aF).style("opacity",0).remove();ay.selectAll("."+D.chartArc).select("text").style("opacity",0).attr("class",function(aG){return aA.isGaugeType(aG.data)?D.gaugeValue:""}).text(aA.textForArcLabel.bind(aA)).attr("transform",aA.transformForArcLabel.bind(aA)).style("font-size",function(aG){return aA.isGaugeType(aG.data)?Math.round(aA.radius/5)+"px":""}).transition().duration(aE).style("opacity",function(aG){return aA.isTargetToShow(aG.data.id)&&aA.isArcType(aG.data)?1:0});ay.select("."+D.chartArcsTitle).style("opacity",aA.hasType("donut")||aA.hasType("gauge")?1:0);if(aA.hasType("gauge")){aA.arcs.select("."+D.chartArcsBackground).attr("d",function(){var aG={data:[{value:aB.gauge_max}],startAngle:aB.gauge_startingAngle,endAngle:-1*aB.gauge_startingAngle};return aA.getArc(aG,true,true)});aA.arcs.select("."+D.chartArcsGaugeUnit).attr("dy",".75em").text(aB.gauge_label_show?aB.gauge_units:"");aA.arcs.select("."+D.chartArcsGaugeMin).attr("dx",-1*(aA.innerRadius+(aA.radius-aA.innerRadius)/(aB.gauge_fullCircle?1:2))+"px").attr("dy","1.2em").text(aB.gauge_label_show?aA.textForGaugeMinMax(aB.gauge_min,false):"");aA.arcs.select("."+D.chartArcsGaugeMax).attr("dx",aA.innerRadius+(aA.radius-aA.innerRadius)/(aB.gauge_fullCircle?1:2)+"px").attr("dy","1.2em").text(aB.gauge_label_show?aA.textForGaugeMinMax(aB.gauge_max,true):"")}};E.initGauge=function(){var ay=this.arcs;if(this.hasType("gauge")){ay.append("path").attr("class",D.chartArcsBackground);ay.append("text").attr("class",D.chartArcsGaugeUnit).style("text-anchor","middle").style("pointer-events","none");ay.append("text").attr("class",D.chartArcsGaugeMin).style("text-anchor","middle").style("pointer-events","none");ay.append("text").attr("class",D.chartArcsGaugeMax).style("text-anchor","middle").style("pointer-events","none")}};E.getGaugeLabelHeight=function(){return this.config.gauge_label_show?20:0};E.hasCaches=function(az){for(var ay=0;ay<az.length;ay++){if(!(az[ay] in this.cache)){return false}}return true};E.addCache=function(az,ay){this.cache[az]=this.cloneTarget(ay)};E.getCaches=function(aA){var ay=[],az;for(az=0;az<aA.length;az++){if(aA[az] in this.cache){ay.push(this.cloneTarget(this.cache[aA[az]]))}}return ay};E.categoryName=function(az){var ay=this.config;return az<ay.axis_x_categories.length?ay.axis_x_categories[az]:az};E.generateClass=function(az,ay){return" "+az+" "+az+this.getTargetSelectorSuffix(ay)};E.classText=function(ay){return this.generateClass(D.text,ay.index)};E.classTexts=function(ay){return this.generateClass(D.texts,ay.id)};E.classShape=function(ay){return this.generateClass(D.shape,ay.index)};E.classShapes=function(ay){return this.generateClass(D.shapes,ay.id)};E.classLine=function(ay){return this.classShape(ay)+this.generateClass(D.line,ay.id)};E.classLines=function(ay){return this.classShapes(ay)+this.generateClass(D.lines,ay.id)};E.classCircle=function(ay){return this.classShape(ay)+this.generateClass(D.circle,ay.index)};E.classCircles=function(ay){return this.classShapes(ay)+this.generateClass(D.circles,ay.id)};E.classBar=function(ay){return this.classShape(ay)+this.generateClass(D.bar,ay.index)};E.classBars=function(ay){return this.classShapes(ay)+this.generateClass(D.bars,ay.id)};E.classArc=function(ay){return this.classShape(ay.data)+this.generateClass(D.arc,ay.data.id)};E.classArcs=function(ay){return this.classShapes(ay.data)+this.generateClass(D.arcs,ay.data.id)};E.classArea=function(ay){return this.classShape(ay)+this.generateClass(D.area,ay.id)};E.classAreas=function(ay){return this.classShapes(ay)+this.generateClass(D.areas,ay.id)};E.classRegion=function(az,ay){return this.generateClass(D.region,ay)+" "+("class" in az?az["class"]:"")};E.classEvent=function(ay){return this.generateClass(D.eventRect,ay.index)};E.classTarget=function(aB){var az=this;var aA=az.config.data_classes[aB],ay="";if(aA){ay=" "+D.target+"-"+aA}return az.generateClass(D.target,aB)+ay};E.classFocus=function(ay){return this.classFocused(ay)+this.classDefocused(ay)};E.classFocused=function(ay){return" "+(this.focusedTargetIds.indexOf(ay.id)>=0?D.focused:"")};E.classDefocused=function(ay){return" "+(this.defocusedTargetIds.indexOf(ay.id)>=0?D.defocused:"")};E.classChartText=function(ay){return D.chartText+this.classTarget(ay.id)};E.classChartLine=function(ay){return D.chartLine+this.classTarget(ay.id)};E.classChartBar=function(ay){return D.chartBar+this.classTarget(ay.id)};E.classChartArc=function(ay){return D.chartArc+this.classTarget(ay.data.id)};E.getTargetSelectorSuffix=function(ay){return ay||ay===0?("-"+ay).replace(/[\s?!@#$%^&*()_=+,.<>'":;\[\]\/|~`{}\\]/g,"-"):""};E.selectorTarget=function(az,ay){return(ay||"")+"."+D.target+this.getTargetSelectorSuffix(az)};E.selectorTargets=function(az,aA){var ay=this;az=az||[];return az.length?az.map(function(aB){return ay.selectorTarget(aB,aA)}):null};E.selectorLegend=function(ay){return"."+D.legendItem+this.getTargetSelectorSuffix(ay)};E.selectorLegends=function(az){var ay=this;return az&&az.length?az.map(function(aA){return ay.selectorLegend(aA)}):null};E.getClipPath=function(az){var ay=window.navigator.appVersion.toLowerCase().indexOf("msie 9.")>=0;return"url("+(ay?"":document.URL.split("#")[0])+"#"+az+")"};E.appendClip=function(ay,az){return ay.append("clipPath").attr("id",az).append("rect")};E.getAxisClipX=function(ay){var az=Math.max(30,this.margin.left);return ay?-(1+az):-(az-1)};E.getAxisClipY=function(ay){return ay?-20:-this.margin.top};E.getXAxisClipX=function(){var ay=this;return ay.getAxisClipX(!ay.config.axis_rotated)};E.getXAxisClipY=function(){var ay=this;return ay.getAxisClipY(!ay.config.axis_rotated)};E.getYAxisClipX=function(){var ay=this;return ay.config.axis_y_inner?-1:ay.getAxisClipX(ay.config.axis_rotated)};E.getYAxisClipY=function(){var ay=this;return ay.getAxisClipY(ay.config.axis_rotated)};E.getAxisClipWidth=function(ay){var az=this,aB=Math.max(30,az.margin.left),aA=Math.max(30,az.margin.right);return ay?az.width+2+aB+aA:az.margin.left+20};E.getAxisClipHeight=function(ay){return(ay?this.margin.bottom:this.margin.top+this.height)+20};E.getXAxisClipWidth=function(){var ay=this;return ay.getAxisClipWidth(!ay.config.axis_rotated)};E.getXAxisClipHeight=function(){var ay=this;return ay.getAxisClipHeight(!ay.config.axis_rotated)};E.getYAxisClipWidth=function(){var ay=this;return ay.getAxisClipWidth(ay.config.axis_rotated)+(ay.config.axis_y_inner?20:0)};E.getYAxisClipHeight=function(){var ay=this;return ay.getAxisClipHeight(ay.config.axis_rotated)};E.generateColor=function(){var az=this,aA=az.config,aC=az.d3,ay=aA.data_colors,aD=N(aA.color_pattern)?aA.color_pattern:aC.scale.category10().range(),aE=aA.data_color,aB=[];return function(aG){var aH=aG.id||aG.data&&aG.data.id||aG,aF;if(ay[aH] instanceof Function){aF=ay[aH](aG)}else{if(ay[aH]){aF=ay[aH]}else{if(aB.indexOf(aH)<0){aB.push(aH)}aF=aD[aB.indexOf(aH)%aD.length];ay[aH]=aF}}return aE instanceof Function?aE(aF,aG):aF}};E.generateLevelColor=function(){var aC=this,aD=aC.config,aA=aD.color_pattern,az=aD.color_threshold,aE=az.unit==="value",aB=az.values&&az.values.length?az.values:[],ay=az.max||100;return N(aD.color_threshold)?function(aI){var aH,aG,aF=aA[aA.length-1];for(aH=0;aH<aB.length;aH++){aG=aE?aI:aI*100/ay;if(aG<aB[aH]){aF=aA[aH];break}}return aF}:null};E.getDefaultConfig=function(){var aR={bindto:"#chart",svg_classname:undefined,size_width:undefined,size_height:undefined,padding_left:undefined,padding_right:undefined,padding_top:undefined,padding_bottom:undefined,resize_auto:true,zoom_enabled:false,zoom_extent:undefined,zoom_privileged:false,zoom_rescale:false,zoom_onzoom:function aS(){},zoom_onzoomstart:function aL(){},zoom_onzoomend:function aP(){},zoom_x_min:undefined,zoom_x_max:undefined,interaction_brighten:true,interaction_enabled:true,onmouseover:function aD(){},onmouseout:function aA(){},onresize:function aO(){},onresized:function aM(){},oninit:function aC(){},onrendered:function aB(){},transition_duration:350,data_x:undefined,data_xs:{},data_xFormat:"%Y-%m-%d",data_xLocaltime:true,data_xSort:true,data_idConverter:function aK(aT){return aT},data_names:{},data_classes:{},data_groups:[],data_axes:{},data_type:undefined,data_types:{},data_labels:{},data_order:"desc",data_regions:{},data_color:undefined,data_colors:{},data_hide:false,data_filter:undefined,data_selection_enabled:false,data_selection_grouped:false,data_selection_isselectable:function aI(){return true},data_selection_multiple:true,data_selection_draggable:false,data_onclick:function aH(){},data_onmouseover:function aE(){},data_onmouseout:function aG(){},data_onselected:function aN(){},data_onunselected:function aJ(){},data_url:undefined,data_headers:undefined,data_json:undefined,data_rows:undefined,data_columns:undefined,data_mimeType:undefined,data_keys:undefined,data_empty_label_text:"",subchart_show:false,subchart_size_height:60,subchart_axis_x_show:true,subchart_onbrush:function az(){},color_pattern:[],color_threshold:{},legend_show:true,legend_hide:false,legend_position:"bottom",legend_inset_anchor:"top-left",legend_inset_x:10,legend_inset_y:0,legend_inset_step:undefined,legend_item_onclick:undefined,legend_item_onmouseover:undefined,legend_item_onmouseout:undefined,legend_equally:false,legend_padding:0,legend_item_tile_width:10,legend_item_tile_height:10,axis_rotated:false,axis_x_show:true,axis_x_type:"indexed",axis_x_localtime:true,axis_x_categories:[],axis_x_tick_centered:false,axis_x_tick_format:undefined,axis_x_tick_culling:{},axis_x_tick_culling_max:10,axis_x_tick_count:undefined,axis_x_tick_fit:true,axis_x_tick_values:null,axis_x_tick_rotate:0,axis_x_tick_outer:true,axis_x_tick_multiline:true,axis_x_tick_width:null,axis_x_max:undefined,axis_x_min:undefined,axis_x_padding:{},axis_x_height:undefined,axis_x_extent:undefined,axis_x_label:{},axis_y_show:true,axis_y_type:undefined,axis_y_max:undefined,axis_y_min:undefined,axis_y_inverted:false,axis_y_center:undefined,axis_y_inner:undefined,axis_y_label:{},axis_y_tick_format:undefined,axis_y_tick_outer:true,axis_y_tick_values:null,axis_y_tick_rotate:0,axis_y_tick_count:undefined,axis_y_tick_time_value:undefined,axis_y_tick_time_interval:undefined,axis_y_padding:{},axis_y_default:undefined,axis_y2_show:false,axis_y2_max:undefined,axis_y2_min:undefined,axis_y2_inverted:false,axis_y2_center:undefined,axis_y2_inner:undefined,axis_y2_label:{},axis_y2_tick_format:undefined,axis_y2_tick_outer:true,axis_y2_tick_values:null,axis_y2_tick_count:undefined,axis_y2_padding:{},axis_y2_default:undefined,grid_x_show:false,grid_x_type:"tick",grid_x_lines:[],grid_y_show:false,grid_y_lines:[],grid_y_ticks:10,grid_focus_show:true,grid_lines_front:true,point_show:true,point_r:2.5,point_sensitivity:10,point_focus_expand_enabled:true,point_focus_expand_r:undefined,point_select_r:undefined,line_connectNull:false,line_step_type:"step",bar_width:undefined,bar_width_ratio:0.6,bar_width_max:undefined,bar_zerobased:true,area_zerobased:true,area_above:false,pie_label_show:true,pie_label_format:undefined,pie_label_threshold:0.05,pie_label_ratio:undefined,pie_expand:{},pie_expand_duration:50,gauge_fullCircle:false,gauge_label_show:true,gauge_label_format:undefined,gauge_min:0,gauge_max:100,gauge_startingAngle:-1*Math.PI/2,gauge_label_extents:undefined,gauge_units:undefined,gauge_width:undefined,gauge_expand:{},gauge_expand_duration:50,donut_label_show:true,donut_label_format:undefined,donut_label_threshold:0.05,donut_label_ratio:undefined,donut_width:undefined,donut_title:"",donut_expand:{},donut_expand_duration:50,spline_interpolation_type:"cardinal",regions:[],tooltip_show:true,tooltip_grouped:true,tooltip_order:undefined,tooltip_format_title:undefined,tooltip_format_name:undefined,tooltip_format_value:undefined,tooltip_position:undefined,tooltip_contents:function ay(aW,aU,aV,aT){return this.getTooltipContent?this.getTooltipContent(aW,aU,aV,aT):""},tooltip_init_show:false,tooltip_init_x:0,tooltip_init_position:{top:"0px",left:"50px"},tooltip_onshow:function aF(){},tooltip_onhide:function aQ(){},title_text:undefined,title_padding:{top:0,right:0,bottom:0,left:0},title_position:"top-center"};Object.keys(this.additionalConfig).forEach(function(aT){aR[aT]=this.additionalConfig[aT]},this);return aR};E.additionalConfig={};E.loadConfig=function(az){var ay=this.config,aC,aA,aB;function aD(){var aE=aA.shift();if(aE&&aC&&(typeof aC==="undefined"?"undefined":at(aC))==="object"&&aE in aC){aC=aC[aE];return aD()}else{if(!aE){return aC}else{return undefined}}}Object.keys(ay).forEach(function(aE){aC=az;aA=aE.split("_");aB=aD();if(J(aB)){ay[aE]=aB}})};E.convertUrlToData=function(aA,aF,aE,aD,ay){var az=this,aB=aF?aF:"csv";var aC=az.d3.xhr(aA);if(aE){Object.keys(aE).forEach(function(aG){aC.header(aG,aE[aG])})}aC.get(function(aG,aH){var aJ;var aI=aH.response||aH.responseText;if(!aH){throw new Error(aG.responseURL+" "+aG.status+" ("+aG.statusText+")")}if(aB==="json"){aJ=az.convertJsonToData(JSON.parse(aI),aD)}else{if(aB==="tsv"){aJ=az.convertTsvToData(aI)}else{aJ=az.convertCsvToData(aI)}}ay.call(az,aJ)})};E.convertXsvToData=function(ay,aB){var az=aB.parseRows(ay),aA;if(az.length===1){aA=[{}];az[0].forEach(function(aC){aA[0][aC]=null})}else{aA=aB.parse(ay)}return aA};E.convertCsvToData=function(ay){return this.convertXsvToData(ay,this.d3.csv)};E.convertTsvToData=function(ay){return this.convertXsvToData(ay,this.d3.tsv)};E.convertJsonToData=function(aA,aB){var az=this,ay=[],aD,aC;if(aB){if(aB.x){aD=aB.value.concat(aB.x);az.config.data_x=aB.x}else{aD=aB.value}ay.push(aD);aA.forEach(function(aF){var aE=[];aD.forEach(function(aH){var aG=az.findValueInJson(aF,aH);if(F(aG)){aG=null}aE.push(aG)});ay.push(aE)});aC=az.convertRowsToData(ay)}else{Object.keys(aA).forEach(function(aE){ay.push([aE].concat(aA[aE]))});aC=az.convertColumnsToData(ay)}return aC};E.findValueInJson=function(az,aC){aC=aC.replace(/\[(\w+)\]/g,".$1");aC=aC.replace(/^\./,"");var aB=aC.split(".");for(var aA=0;aA<aB.length;++aA){var ay=aB[aA];if(ay in az){az=az[ay]}else{return}}return az};E.convertRowsToData=function(aD){var aB=[];var aC=aD[0];for(var aA=1;aA<aD.length;aA++){var az={};for(var ay=0;ay<aD[aA].length;ay++){if(F(aD[aA][ay])){throw new Error("Source data is missing a component at ("+aA+","+ay+")!")}az[aC[ay]]=aD[aA][ay]}aB.push(az)}return aB};E.convertColumnsToData=function(aB){var aC=[];for(var aA=0;aA<aB.length;aA++){var az=aB[aA][0];for(var ay=1;ay<aB[aA].length;ay++){if(F(aC[ay-1])){aC[ay-1]={}}if(F(aB[aA][ay])){throw new Error("Source data is missing a component at ("+aA+","+ay+")!")}aC[ay-1][az]=aB[aA][ay]}}return aC};E.convertDataToTargets=function(aE,aD){var az=this,aB=az.config,aC=az.d3.keys(aE[0]).filter(az.isNotX,az),aA=az.d3.keys(aE[0]).filter(az.isX,az),ay;aC.forEach(function(aG){var aF=az.getXKey(aG);if(az.isCustomX()||az.isTimeSeries()){if(aA.indexOf(aF)>=0){az.data.xs[aG]=(aD&&az.data.xs[aG]?az.data.xs[aG]:[]).concat(aE.map(function(aH){return aH[aF]}).filter(k).map(function(aH,aI){return az.generateTargetX(aH,aG,aI)}))}else{if(aB.data_x){az.data.xs[aG]=az.getOtherTargetXs()}else{if(N(aB.data_xs)){az.data.xs[aG]=az.getXValuesOfXKey(aF,az.data.targets)}}}}else{az.data.xs[aG]=aE.map(function(aI,aH){return aH})}});aC.forEach(function(aF){if(!az.data.xs[aF]){throw new Error('x is not defined for id = "'+aF+'".')}});ay=aC.map(function(aH,aF){var aG=aB.data_idConverter(aH);return{id:aG,id_org:aH,values:aE.map(function(aN,aL){var aK=az.getXKey(aH),aJ=aN[aK],aM=aN[aH]!==null&&!isNaN(aN[aH])?+aN[aH]:null,aI;if(az.isCustomX()&&az.isCategorized()&&!F(aJ)){if(aF===0&&aL===0){aB.axis_x_categories=[]}aI=aB.axis_x_categories.indexOf(aJ);if(aI===-1){aI=aB.axis_x_categories.length;aB.axis_x_categories.push(aJ)}}else{aI=az.generateTargetX(aJ,aH,aL)}if(F(aN[aH])||az.data.xs[aH].length<=aL){aI=undefined}return{x:aI,value:aM,id:aG}}).filter(function(aI){return J(aI.x)})}});ay.forEach(function(aG){var aF;if(aB.data_xSort){aG.values=aG.values.sort(function(aK,aJ){var aI=aK.x||aK.x===0?aK.x:Infinity,aH=aJ.x||aJ.x===0?aJ.x:Infinity;return aI-aH})}aF=0;aG.values.forEach(function(aH){aH.index=aF++});az.data.xs[aG.id].sort(function(aI,aH){return aI-aH})});az.hasNegativeValue=az.hasNegativeValueInTargets(ay);az.hasPositiveValue=az.hasPositiveValueInTargets(ay);if(aB.data_type){az.setTargetType(az.mapToIds(ay).filter(function(aF){return !(aF in aB.data_types)}),aB.data_type)}ay.forEach(function(aF){az.addCache(aF.id_org,aF)});return ay};E.isX=function(aA){var ay=this,az=ay.config;return az.data_x&&aA===az.data_x||N(az.data_xs)&&u(az.data_xs,aA)};E.isNotX=function(ay){return !this.isX(ay)};E.getXKey=function(aA){var ay=this,az=ay.config;return az.data_x?az.data_x:N(az.data_xs)?az.data_xs[aA]:null};E.getXValuesOfXKey=function(aA,ay){var az=this,aC,aB=ay&&N(ay)?az.mapToIds(ay):[];aB.forEach(function(aD){if(az.getXKey(aD)===aA){aC=az.data.xs[aD]}});return aC};E.getIndexByX=function(ay){var az=this,aA=az.filterByX(az.data.targets,ay);return aA.length?aA[0].index:null};E.getXValue=function(aA,az){var ay=this;return aA in ay.data.xs&&ay.data.xs[aA]&&k(ay.data.xs[aA][az])?ay.data.xs[aA][az]:az};E.getOtherTargetXs=function(){var ay=this,az=Object.keys(ay.data.xs);return az.length?ay.data.xs[az[0]]:null};E.getOtherTargetX=function(az){var ay=this.getOtherTargetXs();return ay&&az<ay.length?ay[az]:null};E.addXs=function(az){var ay=this;Object.keys(az).forEach(function(aA){ay.config.data_xs[aA]=az[aA]})};E.hasMultipleX=function(ay){return this.d3.set(Object.keys(ay).map(function(az){return ay[az]})).size()>1};E.isMultipleX=function(){return N(this.config.data_xs)||!this.config.data_xSort||this.hasType("scatter")};E.addName=function(aA){var ay=this,az;if(aA){az=ay.config.data_names[aA.id];aA.name=az!==undefined?az:aA.id}return aA};E.getValueOnIndex=function(az,aA){var ay=az.filter(function(aB){return aB.index===aA});return ay.length?ay[0]:null};E.updateTargetX=function(az,ay){var aA=this;az.forEach(function(aB){aB.values.forEach(function(aC,aD){aC.x=aA.generateTargetX(ay[aD],aB.id,aD)});aA.data.xs[aB.id]=ay})};E.updateTargetXs=function(ay,aA){var az=this;ay.forEach(function(aB){if(aA[aB.id]){az.updateTargetX([aB],aA[aB.id])}})};E.generateTargetX=function(aA,aC,aB){var az=this,ay;if(az.isTimeSeries()){ay=aA?az.parseDate(aA):az.parseDate(az.getXValue(aC,aB))}else{if(az.isCustomX()&&!az.isCategorized()){ay=k(aA)?+aA:az.getXValue(aC,aB)}else{ay=aB}}return ay};E.cloneTarget=function(ay){return{id:ay.id,id_org:ay.id_org,values:ay.values.map(function(az){return{x:az.x,value:az.value,id:az.id}})}};E.updateXs=function(){var ay=this;if(ay.data.targets.length){ay.xs=[];ay.data.targets[0].values.forEach(function(az){ay.xs[az.index]=az.x})}};E.getPrevX=function(az){var ay=this.xs[az-1];return typeof ay!=="undefined"?ay:null};E.getNextX=function(az){var ay=this.xs[az+1];return typeof ay!=="undefined"?ay:null};E.getMaxDataCount=function(){var ay=this;return ay.d3.max(ay.data.targets,function(az){return az.values.length})};E.getMaxDataCountTarget=function(az){var aB=az.length,ay=0,aA;if(aB>1){az.forEach(function(aC){if(aC.values.length>ay){aA=aC;ay=aC.values.length}})}else{aA=aB?az[0]:null}return aA};E.getEdgeX=function(ay){var az=this;return !ay.length?[0,0]:[az.d3.min(ay,function(aA){return aA.values[0].x}),az.d3.max(ay,function(aA){return aA.values[aA.values.length-1].x})]};E.mapToIds=function(ay){return ay.map(function(az){return az.id})};E.mapToTargetIds=function(az){var ay=this;return az?[].concat(az):ay.mapToIds(ay.data.targets)};E.hasTarget=function(ay,aB){var aA=this.mapToIds(ay),az;for(az=0;az<aA.length;az++){if(aA[az]===aB){return true}}return false};E.isTargetToShow=function(ay){return this.hiddenTargetIds.indexOf(ay)<0};E.isLegendToShow=function(ay){return this.hiddenLegendIds.indexOf(ay)<0};E.filterTargetsToShow=function(ay){var az=this;return ay.filter(function(aA){return az.isTargetToShow(aA.id)})};E.mapTargetsToUniqueXs=function(ay){var az=this;var aA=az.d3.set(az.d3.merge(ay.map(function(aB){return aB.values.map(function(aC){return +aC.x})}))).values();aA=az.isTimeSeries()?aA.map(function(aB){return new Date(+aB)}):aA.map(function(aB){return +aB});return aA.sort(function(aC,aB){return aC<aB?-1:aC>aB?1:aC>=aB?0:NaN})};E.addHiddenTargetIds=function(ay){ay=ay instanceof Array?ay:new Array(ay);for(var az=0;az<ay.length;az++){if(this.hiddenTargetIds.indexOf(ay[az])<0){this.hiddenTargetIds=this.hiddenTargetIds.concat(ay[az])}}};E.removeHiddenTargetIds=function(ay){this.hiddenTargetIds=this.hiddenTargetIds.filter(function(az){return ay.indexOf(az)<0})};E.addHiddenLegendIds=function(ay){ay=ay instanceof Array?ay:new Array(ay);for(var az=0;az<ay.length;az++){if(this.hiddenLegendIds.indexOf(ay[az])<0){this.hiddenLegendIds=this.hiddenLegendIds.concat(ay[az])}}};E.removeHiddenLegendIds=function(ay){this.hiddenLegendIds=this.hiddenLegendIds.filter(function(az){return ay.indexOf(az)<0})};E.getValuesAsIdKeyed=function(ay){var az={};ay.forEach(function(aA){az[aA.id]=[];aA.values.forEach(function(aB){az[aA.id].push(aB.value)})});return az};E.checkValueInTargets=function(ay,aB){var aD=Object.keys(ay),aC,aA,az;for(aC=0;aC<aD.length;aC++){az=ay[aD[aC]].values;for(aA=0;aA<az.length;aA++){if(aB(az[aA].value)){return true}}}return false};E.hasNegativeValueInTargets=function(ay){return this.checkValueInTargets(ay,function(az){return az<0})};E.hasPositiveValueInTargets=function(ay){return this.checkValueInTargets(ay,function(az){return az>0})};E.isOrderDesc=function(){var ay=this.config;return typeof ay.data_order==="string"&&ay.data_order.toLowerCase()==="desc"};E.isOrderAsc=function(){var ay=this.config;return typeof ay.data_order==="string"&&ay.data_order.toLowerCase()==="asc"};E.orderTargets=function(ay){var az=this,aA=az.config,aC=az.isOrderAsc(),aB=az.isOrderDesc();if(aC||aB){ay.sort(function(aF,aE){var aH=function aH(aI,aJ){return aI+Math.abs(aJ.value)};var aD=aF.values.reduce(aH,0),aG=aE.values.reduce(aH,0);return aC?aG-aD:aD-aG})}else{if(z(aA.data_order)){ay.sort(aA.data_order)}else{if(K(aA.data_order)){ay.sort(function(aE,aD){return aA.data_order.indexOf(aE.id)-aA.data_order.indexOf(aD.id)})}}}return ay};E.filterByX=function(az,ay){return this.d3.merge(az.map(function(aA){return aA.values})).filter(function(aA){return aA.x-ay===0})};E.filterRemoveNull=function(ay){return ay.filter(function(az){return k(az.value)})};E.filterByXDomain=function(ay,az){return ay.map(function(aA){return{id:aA.id,id_org:aA.id_org,values:aA.values.filter(function(aB){return az[0]<=aB.x&&aB.x<=az[1]})}})};E.hasDataLabel=function(){var ay=this.config;if(typeof ay.data_labels==="boolean"&&ay.data_labels){return true}else{if(at(ay.data_labels)==="object"&&N(ay.data_labels)){return true}}return false};E.getDataLabelLength=function(aC,ay,aB){var aA=this,aD=[0,0],az=1.3;aA.selectChart.select("svg").selectAll(".dummy").data([aC,ay]).enter().append("text").text(function(aE){return aA.dataLabelFormat(aE.id)(aE)}).each(function(aF,aE){aD[aE]=this.getBoundingClientRect()[aB]*az}).remove();return aD};E.isNoneArc=function(ay){return this.hasTarget(this.data.targets,ay.id)},E.isArc=function(ay){return"data" in ay&&this.hasTarget(this.data.targets,ay.data.id)};E.findSameXOfValues=function(ay,az){var aA,aC=ay[az].x,aB=[];for(aA=az-1;aA>=0;aA--){if(aC!==ay[aA].x){break}aB.push(ay[aA])}for(aA=az;aA<ay.length;aA++){if(aC!==ay[aA].x){break}aB.push(ay[aA])}return aB};E.findClosestFromTargets=function(ay,aB){var az=this,aA;aA=ay.map(function(aC){return az.findClosest(aC.values,aB)});return az.findClosest(aA,aB)};E.findClosest=function(aA,aC){var az=this,ay=az.config.point_sensitivity,aB;aA.filter(function(aD){return aD&&az.isBarType(aD.id)}).forEach(function(aE){var aD=az.main.select("."+D.bars+az.getTargetSelectorSuffix(aE.id)+" ."+D.bar+"-"+aE.index).node();if(!aB&&az.isWithinBar(aD)){aB=aE}});aA.filter(function(aD){return aD&&!az.isBarType(aD.id)}).forEach(function(aD){var aE=az.dist(aD,aC);if(aE<ay){ay=aE;aB=aD}});return aB};E.dist=function(aD,aF){var aB=this,aC=aB.config,aA=aC.axis_rotated?1:0,az=aC.axis_rotated?0:1,aE=aB.circleY(aD,aD.index),ay=aB.x(aD.x);return Math.sqrt(Math.pow(ay-aF[aA],2)+Math.pow(aE-aF[az],2))};E.convertValuesToStep=function(ay){var aA=[].concat(ay),az;if(!this.isCategorized()){return ay}for(az=ay.length+1;0<az;az--){aA[az]=aA[az-1]}aA[0]={x:aA[0].x-1,value:aA[0].value,id:aA[0].id};aA[ay.length+1]={x:aA[ay.length].x+1,value:aA[ay.length].value,id:aA[ay.length].id};return aA};E.updateDataAttributes=function(aB,aA){var ay=this,az=ay.config,aC=az["data_"+aB];if(typeof aA==="undefined"){return aC}Object.keys(aA).forEach(function(aD){aC[aD]=aA[aD]});ay.redraw({withLegend:true});return aC};E.load=function(ay,aA){var az=this;if(ay){if(aA.filter){ay=ay.filter(aA.filter)}if(aA.type||aA.types){ay.forEach(function(aB){var aC=aA.types&&aA.types[aB.id]?aA.types[aB.id]:aA.type;az.setTargetType(aB.id,aC)})}az.data.targets.forEach(function(aC){for(var aB=0;aB<ay.length;aB++){if(aC.id===ay[aB].id){aC.values=ay[aB].values;ay.splice(aB,1);break}}});az.data.targets=az.data.targets.concat(ay)}az.updateTargets(az.data.targets);az.redraw({withUpdateOrgXDomain:true,withUpdateXDomain:true,withLegend:true});if(aA.done){aA.done()}};E.loadFromArgs=function(az){var ay=this;if(az.data){ay.load(ay.convertDataToTargets(az.data),az)}else{if(az.url){ay.convertUrlToData(az.url,az.mimeType,az.headers,az.keys,function(aA){ay.load(ay.convertDataToTargets(aA),az)})}else{if(az.json){ay.load(ay.convertDataToTargets(ay.convertJsonToData(az.json,az.keys)),az)}else{if(az.rows){ay.load(ay.convertDataToTargets(ay.convertRowsToData(az.rows)),az)}else{if(az.columns){ay.load(ay.convertDataToTargets(ay.convertColumnsToData(az.columns)),az)}else{ay.load(null,az)}}}}}};E.unload=function(az,ay){var aA=this;if(!ay){ay=function ay(){}}az=az.filter(function(aB){return aA.hasTarget(aA.data.targets,aB)});if(!az||az.length===0){ay();return}aA.svg.selectAll(az.map(function(aB){return aA.selectorTarget(aB)})).transition().style("opacity",0).remove().call(aA.endall,ay);az.forEach(function(aB){aA.withoutFadeIn[aB]=false;if(aA.legend){aA.legend.selectAll("."+D.legendItem+aA.getTargetSelectorSuffix(aB)).remove()}aA.data.targets=aA.data.targets.filter(function(aC){return aC.id!==aB})})};E.getYDomainMin=function(aE){var aI=this,aA=aI.config,ay=aI.mapToIds(aE),aH=aI.getValuesAsIdKeyed(aE),aC,aB,aG,aF,az,aD;if(aA.data_groups.length>0){aD=aI.hasNegativeValueInTargets(aE);for(aC=0;aC<aA.data_groups.length;aC++){aF=aA.data_groups[aC].filter(function(aJ){return ay.indexOf(aJ)>=0});if(aF.length===0){continue}aG=aF[0];if(aD&&aH[aG]){aH[aG].forEach(function(aJ,aK){aH[aG][aK]=aJ<0?aJ:0})}for(aB=1;aB<aF.length;aB++){az=aF[aB];if(!aH[az]){continue}aH[az].forEach(function(aJ,aK){if(aI.axis.getId(az)===aI.axis.getId(aG)&&aH[aG]&&!(aD&&+aJ>0)){aH[aG][aK]+=+aJ}})}}}return aI.d3.min(Object.keys(aH).map(function(aJ){return aI.d3.min(aH[aJ])}))};E.getYDomainMax=function(aE){var aI=this,aB=aI.config,ay=aI.mapToIds(aE),aH=aI.getValuesAsIdKeyed(aE),aD,aC,aG,aF,az,aA;if(aB.data_groups.length>0){aA=aI.hasPositiveValueInTargets(aE);for(aD=0;aD<aB.data_groups.length;aD++){aF=aB.data_groups[aD].filter(function(aJ){return ay.indexOf(aJ)>=0});if(aF.length===0){continue}aG=aF[0];if(aA&&aH[aG]){aH[aG].forEach(function(aJ,aK){aH[aG][aK]=aJ>0?aJ:0})}for(aC=1;aC<aF.length;aC++){az=aF[aC];if(!aH[az]){continue}aH[az].forEach(function(aJ,aK){if(aI.axis.getId(az)===aI.axis.getId(aG)&&aH[aG]&&!(aA&&+aJ<0)){aH[aG][aK]+=+aJ}})}}}return aI.d3.max(Object.keys(aH).map(function(aJ){return aI.d3.max(aH[aJ])}))};E.getYDomain=function(aV,aS,aP){var aI=this,aW=aI.config,aA=aV.filter(function(aZ){return aI.axis.getId(aZ.id)===aS}),aF=aP?aI.filterByXDomain(aA,aP):aA,ay=aS==="y2"?aW.axis_y2_min:aW.axis_y_min,az=aS==="y2"?aW.axis_y2_max:aW.axis_y_max,aM=aI.getYDomainMin(aF),aO=aI.getYDomainMax(aF),aY,aD,aK,aB,aX,aU=aS==="y2"?aW.axis_y2_center:aW.axis_y_center,aH,aC,aJ,aE,aG,aN,aQ=aI.hasType("bar",aF)&&aW.bar_zerobased||aI.hasType("area",aF)&&aW.area_zerobased,aT=aS==="y2"?aW.axis_y2_inverted:aW.axis_y_inverted,aR=aI.hasDataLabel()&&aW.axis_rotated,aL=aI.hasDataLabel()&&!aW.axis_rotated;aM=k(ay)?ay:k(az)?aM<az?aM:az-10:aM;aO=k(az)?az:k(ay)?ay<aO?aO:ay+10:aO;if(aF.length===0){return aS==="y2"?aI.y2.domain():aI.y.domain()}if(isNaN(aM)){aM=0}if(isNaN(aO)){aO=aM}if(aM===aO){aM<0?aO=0:aM=0}aG=aM>=0&&aO>=0;aN=aM<=0&&aO<=0;if(k(ay)&&aG||k(az)&&aN){aQ=false}if(aQ){if(aG){aM=0}if(aN){aO=0}}aD=Math.abs(aO-aM);aK=aB=aX=aD*0.1;if(typeof aU!=="undefined"){aH=Math.max(Math.abs(aM),Math.abs(aO));aO=aU+aH;aM=aU-aH}if(aR){aC=aI.getDataLabelLength(aM,aO,"width");aJ=P(aI.y.range());aE=[aC[0]/aJ,aC[1]/aJ];aB+=aD*(aE[1]/(1-aE[0]-aE[1]));aX+=aD*(aE[0]/(1-aE[0]-aE[1]))}else{if(aL){aC=aI.getDataLabelLength(aM,aO,"height");aB+=aI.axis.convertPixelsToAxisPadding(aC[1],aD);aX+=aI.axis.convertPixelsToAxisPadding(aC[0],aD)}}if(aS==="y"&&N(aW.axis_y_padding)){aB=aI.axis.getPadding(aW.axis_y_padding,"top",aB,aD);aX=aI.axis.getPadding(aW.axis_y_padding,"bottom",aX,aD)}if(aS==="y2"&&N(aW.axis_y2_padding)){aB=aI.axis.getPadding(aW.axis_y2_padding,"top",aB,aD);aX=aI.axis.getPadding(aW.axis_y2_padding,"bottom",aX,aD)}if(aQ){if(aG){aX=aM}if(aN){aB=-aO}}aY=[aM-aX,aO+aB];return aT?aY.reverse():aY};E.getXDomainMin=function(ay){var az=this,aA=az.config;return J(aA.axis_x_min)?az.isTimeSeries()?this.parseDate(aA.axis_x_min):aA.axis_x_min:az.d3.min(ay,function(aB){return az.d3.min(aB.values,function(aC){return aC.x})})};E.getXDomainMax=function(ay){var az=this,aA=az.config;return J(aA.axis_x_max)?az.isTimeSeries()?this.parseDate(aA.axis_x_max):aA.axis_x_max:az.d3.max(ay,function(aB){return az.d3.max(aB.values,function(aC){return aC.x})})};E.getXDomainPadding=function(aB){var ay=this,aA=ay.config,aD=aB[1]-aB[0],aE,aC,az,aF;if(ay.isCategorized()){aC=0}else{if(ay.hasType("bar")){aE=ay.getMaxDataCount();aC=aE>1?aD/(aE-1)/2:0.5}else{aC=aD*0.01}}if(at(aA.axis_x_padding)==="object"&&N(aA.axis_x_padding)){az=k(aA.axis_x_padding.left)?aA.axis_x_padding.left:aC;aF=k(aA.axis_x_padding.right)?aA.axis_x_padding.right:aC}else{if(typeof aA.axis_x_padding==="number"){az=aF=aA.axis_x_padding}else{az=aF=aC}}return{left:az,right:aF}};E.getXDomain=function(az){var aA=this,aC=[aA.getXDomainMin(az),aA.getXDomainMax(az)],aB=aC[0],aE=aC[1],aF=aA.getXDomainPadding(aC),aD=0,ay=0;if(aB-aE===0&&!aA.isCategorized()){if(aA.isTimeSeries()){aB=new Date(aB.getTime()*0.5);aE=new Date(aE.getTime()*1.5)}else{aB=aB===0?1:aB*0.5;aE=aE===0?-1:aE*1.5}}if(aB||aB===0){aD=aA.isTimeSeries()?new Date(aB.getTime()-aF.left):aB-aF.left}if(aE||aE===0){ay=aA.isTimeSeries()?new Date(aE.getTime()+aF.right):aE+aF.right}return[aD,ay]};E.updateXDomain=function(az,aC,aE,ay,aD){var aA=this,aB=aA.config;if(aE){aA.x.domain(aD?aD:aA.d3.extent(aA.getXDomain(az)));aA.orgXDomain=aA.x.domain();if(aB.zoom_enabled){aA.zoom.scale(aA.x).updateScaleExtent()}aA.subX.domain(aA.x.domain());if(aA.brush){aA.brush.scale(aA.subX)}}if(aC){aA.x.domain(aD?aD:!aA.brush||aA.brush.empty()?aA.orgXDomain:aA.brush.extent());if(aB.zoom_enabled){aA.zoom.scale(aA.x).updateScaleExtent()}}if(ay){aA.x.domain(aA.trimXDomain(aA.x.orgDomain()))}return aA.x.domain()};E.trimXDomain=function(aA){var aB=this.getZoomDomain(),az=aB[0],ay=aB[1];if(aA[0]<=az){aA[1]=+aA[1]+(az-aA[0]);aA[0]=az}if(ay<=aA[1]){aA[0]=+aA[0]-(aA[1]-ay);aA[1]=ay}return aA};E.drag=function(aE){var aJ=this,aA=aJ.config,aD=aJ.main,aK=aJ.d3;var aG,aF,aI,aH,aC,az,aB,ay;if(aJ.hasArcType()){return}if(!aA.data_selection_enabled){return}if(aA.zoom_enabled&&!aJ.zoom.altDomain){return}if(!aA.data_selection_multiple){return}aG=aJ.dragStart[0];aF=aJ.dragStart[1];aI=aE[0];aH=aE[1];aC=Math.min(aG,aI);az=Math.max(aG,aI);aB=aA.data_selection_grouped?aJ.margin.top:Math.min(aF,aH);ay=aA.data_selection_grouped?aJ.height:Math.max(aF,aH);aD.select("."+D.dragarea).attr("x",aC).attr("y",aB).attr("width",az-aC).attr("height",ay-aB);aD.selectAll("."+D.shapes).selectAll("."+D.shape).filter(function(aL){return aA.data_selection_isselectable(aL)}).each(function(aS,aO){var aR=aK.select(this),aM=aR.classed(D.SELECTED),aL=aR.classed(D.INCLUDED),aU,aT,aV,aN,aQ,aW=false,aP;if(aR.classed(D.circle)){aU=aR.attr("cx")*1;aT=aR.attr("cy")*1;aQ=aJ.togglePoint;aW=aC<aU&&aU<az&&aB<aT&&aT<ay}else{if(aR.classed(D.bar)){aP=U(this);aU=aP.x;aT=aP.y;aV=aP.width;aN=aP.height;aQ=aJ.togglePath;aW=!(az<aU||aU+aV<aC)&&!(ay<aT||aT+aN<aB)}else{return}}if(aW^aL){aR.classed(D.INCLUDED,!aL);aR.classed(D.SELECTED,!aM);aQ.call(aJ,!aM,aR,aS,aO)}})};E.dragstart=function(aA){var ay=this,az=ay.config;if(ay.hasArcType()){return}if(!az.data_selection_enabled){return}ay.dragStart=aA;ay.main.select("."+D.chart).append("rect").attr("class",D.dragarea).style("opacity",0.1);ay.dragging=true};E.dragend=function(){var ay=this,az=ay.config;if(ay.hasArcType()){return}if(!az.data_selection_enabled){return}ay.main.select("."+D.dragarea).transition().duration(100).style("opacity",0).remove();ay.main.selectAll("."+D.shape).classed(D.INCLUDED,false);ay.dragging=false};E.getYFormat=function(az){var ay=this,aA=az&&!ay.hasType("gauge")?ay.defaultArcValueFormat:ay.yFormat,aB=az&&!ay.hasType("gauge")?ay.defaultArcValueFormat:ay.y2Format;return function(aC,aD,aF){var aE=ay.axis.getId(aF)==="y2"?aB:aA;return aE.call(ay,aC,aD)}};E.yFormat=function(az){var ay=this,aA=ay.config,aB=aA.axis_y_tick_format?aA.axis_y_tick_format:ay.defaultValueFormat;return aB(az)};E.y2Format=function(az){var ay=this,aA=ay.config,aB=aA.axis_y2_tick_format?aA.axis_y2_tick_format:ay.defaultValueFormat;return aB(az)};E.defaultValueFormat=function(ay){return k(ay)?+ay:""};E.defaultArcValueFormat=function(ay,az){return(az*100).toFixed(1)+"%"};E.dataLabelFormat=function(aA){var ay=this,az=ay.config.data_labels,aC,aB=function aB(aD){return k(aD)?+aD:""};if(typeof az.format==="function"){aC=az.format}else{if(at(az.format)==="object"){if(az.format[aA]){aC=az.format[aA]===true?aB:az.format[aA]}else{aC=function aC(){return""}}}else{aC=aB}}return aC};E.initGrid=function(){var ay=this,az=ay.config,aA=ay.d3;ay.grid=ay.main.append("g").attr("clip-path",ay.clipPathForGrid).attr("class",D.grid);if(az.grid_x_show){ay.grid.append("g").attr("class",D.xgrids)}if(az.grid_y_show){ay.grid.append("g").attr("class",D.ygrids)}if(az.grid_focus_show){ay.grid.append("g").attr("class",D.xgridFocus).append("line").attr("class",D.xgridFocus)}ay.xgrid=aA.selectAll([]);if(!az.grid_lines_front){ay.initGridLines()}};E.initGridLines=function(){var ay=this,az=ay.d3;ay.gridLines=ay.main.append("g").attr("clip-path",ay.clipPathForGrid).attr("class",D.grid+" "+D.gridLines);ay.gridLines.append("g").attr("class",D.xgridLines);ay.gridLines.append("g").attr("class",D.ygridLines);ay.xgridLines=az.selectAll([])};E.updateXGrid=function(aB){var aG=this,aA=aG.config,aH=aG.d3,aC=aG.generateGridData(aA.grid_x_type,aG.x),aF=aG.isCategorized()?aG.xAxis.tickOffset():0;aG.xgridAttr=aA.axis_rotated?{x1:0,x2:aG.width,y1:function aE(aI){return aG.x(aI)-aF},y2:function aD(aI){return aG.x(aI)-aF}}:{x1:function az(aI){return aG.x(aI)+aF},x2:function ay(aI){return aG.x(aI)+aF},y1:0,y2:aG.height};aG.xgrid=aG.main.select("."+D.xgrids).selectAll("."+D.xgrid).data(aC);aG.xgrid.enter().append("line").attr("class",D.xgrid);if(!aB){aG.xgrid.attr(aG.xgridAttr).style("opacity",function(){return +aH.select(this).attr(aA.axis_rotated?"y1":"x1")===(aA.axis_rotated?aG.height:0)?0:1})}aG.xgrid.exit().remove()};E.updateYGrid=function(){var ay=this,az=ay.config,aA=ay.yAxis.tickValues()||ay.y.ticks(az.grid_y_ticks);ay.ygrid=ay.main.select("."+D.ygrids).selectAll("."+D.ygrid).data(aA);ay.ygrid.enter().append("line").attr("class",D.ygrid);ay.ygrid.attr("x1",az.axis_rotated?ay.y:0).attr("x2",az.axis_rotated?ay.y:ay.width).attr("y1",az.axis_rotated?0:ay.y).attr("y2",az.axis_rotated?ay.height:ay.y);ay.ygrid.exit().remove();ay.smoothLines(ay.ygrid,"grid")};E.gridTextAnchor=function(ay){return ay.position?ay.position:"end"};E.gridTextDx=function(ay){return ay.position==="start"?4:ay.position==="middle"?0:-4};E.xGridTextX=function(ay){return ay.position==="start"?-this.height:ay.position==="middle"?-this.height/2:0};E.yGridTextX=function(ay){return ay.position==="start"?0:ay.position==="middle"?this.width/2:this.width};E.updateGrid=function(aE){var aA=this,ay=aA.main,aC=aA.config,aD,aB,az;aA.grid.style("visibility",aA.hasArcType()?"hidden":"visible");ay.select("line."+D.xgridFocus).style("visibility","hidden");if(aC.grid_x_show){aA.updateXGrid()}aA.xgridLines=ay.select("."+D.xgridLines).selectAll("."+D.xgridLine).data(aC.grid_x_lines);aD=aA.xgridLines.enter().append("g").attr("class",function(aF){return D.xgridLine+(aF["class"]?" "+aF["class"]:"")});aD.append("line").style("opacity",0);aD.append("text").attr("text-anchor",aA.gridTextAnchor).attr("transform",aC.axis_rotated?"":"rotate(-90)").attr("dx",aA.gridTextDx).attr("dy",-5).style("opacity",0);aA.xgridLines.exit().transition().duration(aE).style("opacity",0).remove();if(aC.grid_y_show){aA.updateYGrid()}aA.ygridLines=ay.select("."+D.ygridLines).selectAll("."+D.ygridLine).data(aC.grid_y_lines);aB=aA.ygridLines.enter().append("g").attr("class",function(aF){return D.ygridLine+(aF["class"]?" "+aF["class"]:"")});aB.append("line").style("opacity",0);aB.append("text").attr("text-anchor",aA.gridTextAnchor).attr("transform",aC.axis_rotated?"rotate(-90)":"").attr("dx",aA.gridTextDx).attr("dy",-5).style("opacity",0);az=aA.yv.bind(aA);aA.ygridLines.select("line").transition().duration(aE).attr("x1",aC.axis_rotated?az:0).attr("x2",aC.axis_rotated?az:aA.width).attr("y1",aC.axis_rotated?0:az).attr("y2",aC.axis_rotated?aA.height:az).style("opacity",1);aA.ygridLines.select("text").transition().duration(aE).attr("x",aC.axis_rotated?aA.xGridTextX.bind(aA):aA.yGridTextX.bind(aA)).attr("y",az).text(function(aF){return aF.text}).style("opacity",1);aA.ygridLines.exit().transition().duration(aE).style("opacity",0).remove()};E.redrawGrid=function(aC){var aA=this,aB=aA.config,ay=aA.xv.bind(aA),az=aA.xgridLines.select("line"),aD=aA.xgridLines.select("text");return[(aC?az.transition():az).attr("x1",aB.axis_rotated?0:ay).attr("x2",aB.axis_rotated?aA.width:ay).attr("y1",aB.axis_rotated?ay:0).attr("y2",aB.axis_rotated?ay:aA.height).style("opacity",1),(aC?aD.transition():aD).attr("x",aB.axis_rotated?aA.yGridTextX.bind(aA):aA.xGridTextX.bind(aA)).attr("y",ay).text(function(aE){return aE.text}).style("opacity",1)]};E.showXGridFocus=function(aC){var aA=this,aB=aA.config,az=aC.filter(function(aE){return aE&&k(aE.value)}),ay=aA.main.selectAll("line."+D.xgridFocus),aD=aA.xx.bind(aA);if(!aB.tooltip_show){return}if(aA.hasType("scatter")||aA.hasArcType()){return}ay.style("visibility","visible").data([az[0]]).attr(aB.axis_rotated?"y1":"x1",aD).attr(aB.axis_rotated?"y2":"x2",aD);aA.smoothLines(ay,"grid")};E.hideXGridFocus=function(){this.main.select("line."+D.xgridFocus).style("visibility","hidden")};E.updateXgridFocus=function(){var ay=this,az=ay.config;ay.main.select("line."+D.xgridFocus).attr("x1",az.axis_rotated?0:-10).attr("x2",az.axis_rotated?ay.width:-10).attr("y1",az.axis_rotated?-10:0).attr("y2",az.axis_rotated?-10:ay.height)};E.generateGridData=function(aE,az){var aG=this,aF=[],aD,aB,aC,aA,ay=aG.main.select("."+D.axisX).selectAll(".tick").size();if(aE==="year"){aD=aG.getXDomain();aB=aD[0].getFullYear();aC=aD[1].getFullYear();for(aA=aB;aA<=aC;aA++){aF.push(new Date(aA+"-01-01 00:00:00"))}}else{aF=az.ticks(10);if(aF.length>ay){aF=aF.filter(function(aH){return(""+aH).indexOf(".")<0})}}return aF};E.getGridFilterToRemove=function(ay){return ay?function(az){var aA=false;[].concat(ay).forEach(function(aB){if("value" in aB&&az.value===aB.value||"class" in aB&&az["class"]===aB["class"]){aA=true}});return aA}:function(){return true}};E.removeGridLines=function(aF,aE){var aA=this,aC=aA.config,aD=aA.getGridFilterToRemove(aF),ay=function ay(aG){return !aD(aG)},az=aE?D.xgridLines:D.ygridLines,aB=aE?D.xgridLine:D.ygridLine;aA.main.select("."+az).selectAll("."+aB).filter(aD).transition().duration(aC.transition_duration).style("opacity",0).remove();if(aE){aC.grid_x_lines=aC.grid_x_lines.filter(ay)}else{aC.grid_y_lines=aC.grid_y_lines.filter(ay)}};E.initEventRect=function(){var ay=this;ay.main.select("."+D.chart).append("g").attr("class",D.eventRects).style("fill-opacity",0)};E.redrawEventRect=function(){var ay=this,az=ay.config,aD,aC,aB=ay.isMultipleX();var aA=ay.main.select("."+D.eventRects).style("cursor",az.zoom_enabled?az.axis_rotated?"ns-resize":"ew-resize":null).classed(D.eventRectsMultiple,aB).classed(D.eventRectsSingle,!aB);aA.selectAll("."+D.eventRect).remove();ay.eventRect=aA.selectAll("."+D.eventRect);if(aB){aD=ay.eventRect.data([0]);ay.generateEventRectsForMultipleXs(aD.enter());ay.updateEventRect(aD)}else{aC=ay.getMaxDataCountTarget(ay.data.targets);aA.datum(aC?aC.values:[]);ay.eventRect=aA.selectAll("."+D.eventRect);aD=ay.eventRect.data(function(aE){return aE});ay.generateEventRectsForSingleX(aD.enter());ay.updateEventRect(aD);aD.exit().remove()}};E.updateEventRect=function(aF){var aG=this,aA=aG.config,aD,aC,aE,aB,az,ay;aF=aF||aG.eventRect.data(function(aH){return aH});if(aG.isMultipleX()){aD=0;aC=0;aE=aG.width;aB=aG.height}else{if((aG.isCustomX()||aG.isTimeSeries())&&!aG.isCategorized()){aG.updateXs();az=function az(aJ){var aH=aG.getPrevX(aJ.index),aI=aG.getNextX(aJ.index);if(aH===null&&aI===null){return aA.axis_rotated?aG.height:aG.width}if(aH===null){aH=aG.x.domain()[0]}if(aI===null){aI=aG.x.domain()[1]}return Math.max(0,(aG.x(aI)-aG.x(aH))/2)};ay=function ay(aK){var aI=aG.getPrevX(aK.index),aJ=aG.getNextX(aK.index),aH=aG.data.xs[aK.id][aK.index];if(aI===null&&aJ===null){return 0}if(aI===null){aI=aG.x.domain()[0]}return(aG.x(aH)+aG.x(aI))/2}}else{az=aG.getEventRectWidth();ay=function ay(aH){return aG.x(aH.x)-az/2}}aD=aA.axis_rotated?0:ay;aC=aA.axis_rotated?ay:0;aE=aA.axis_rotated?aG.width:az;aB=aA.axis_rotated?az:aG.height}aF.attr("class",aG.classEvent.bind(aG)).attr("x",aD).attr("y",aC).attr("width",aE).attr("height",aB)};E.generateEventRectsForSingleX=function(aA){var ay=this,aB=ay.d3,az=ay.config;aA.append("rect").attr("class",ay.classEvent.bind(ay)).style("cursor",az.data_selection_enabled&&az.data_selection_grouped?"pointer":null).on("mouseover",function(aD){var aC=aD.index;if(ay.dragging||ay.flowing){return}if(ay.hasArcType()){return}if(az.point_focus_expand_enabled){ay.expandCircles(aC,null,true)}ay.expandBars(aC,null,true);ay.main.selectAll("."+D.shape+"-"+aC).each(function(aE){az.data_onmouseover.call(ay.api,aE)})}).on("mouseout",function(aD){var aC=aD.index;if(!ay.config){return}if(ay.hasArcType()){return}ay.hideXGridFocus();ay.hideTooltip();ay.unexpandCircles();ay.unexpandBars();ay.main.selectAll("."+D.shape+"-"+aC).each(function(aE){az.data_onmouseout.call(ay.api,aE)})}).on("mousemove",function(aF){var aE,aC=aF.index,aD=ay.svg.select("."+D.eventRect+"-"+aC);if(ay.dragging||ay.flowing){return}if(ay.hasArcType()){return}if(ay.isStepType(aF)&&ay.config.line_step_type==="step-after"&&aB.mouse(this)[0]<ay.x(ay.getXValue(aF.id,aC))){aC-=1}aE=ay.filterTargetsToShow(ay.data.targets).map(function(aG){return ay.addName(ay.getValueOnIndex(aG.values,aC))});if(az.tooltip_grouped){ay.showTooltip(aE,this);ay.showXGridFocus(aE)}if(az.tooltip_grouped&&(!az.data_selection_enabled||az.data_selection_grouped)){return}ay.main.selectAll("."+D.shape+"-"+aC).each(function(){aB.select(this).classed(D.EXPANDED,true);if(az.data_selection_enabled){aD.style("cursor",az.data_selection_grouped?"pointer":null)}if(!az.tooltip_grouped){ay.hideXGridFocus();ay.hideTooltip();if(!az.data_selection_grouped){ay.unexpandCircles(aC);ay.unexpandBars(aC)}}}).filter(function(aG){return ay.isWithinShape(this,aG)}).each(function(aG){if(az.data_selection_enabled&&(az.data_selection_grouped||az.data_selection_isselectable(aG))){aD.style("cursor","pointer")}if(!az.tooltip_grouped){ay.showTooltip([aG],this);ay.showXGridFocus([aG]);if(az.point_focus_expand_enabled){ay.expandCircles(aC,aG.id,true)}ay.expandBars(aC,aG.id,true)}})}).on("click",function(aD){var aC=aD.index;if(ay.hasArcType()||!ay.toggleShape){return}if(ay.cancelClick){ay.cancelClick=false;return}if(ay.isStepType(aD)&&az.line_step_type==="step-after"&&aB.mouse(this)[0]<ay.x(ay.getXValue(aD.id,aC))){aC-=1}ay.main.selectAll("."+D.shape+"-"+aC).each(function(aE){if(az.data_selection_grouped||ay.isWithinShape(this,aE)){ay.toggleShape(this,aE,aC);ay.config.data_onclick.call(ay.api,aE,this)}})}).call(az.data_selection_draggable&&ay.drag?aB.behavior.drag().origin(Object).on("drag",function(){ay.drag(aB.mouse(this))}).on("dragstart",function(){ay.dragstart(aB.mouse(this))}).on("dragend",function(){ay.dragend()}):function(){})};E.generateEventRectsForMultipleXs=function(aA){var ay=this,aB=ay.d3,az=ay.config;function aC(){ay.svg.select("."+D.eventRect).style("cursor",null);ay.hideXGridFocus();ay.hideTooltip();ay.unexpandCircles();ay.unexpandBars()}aA.append("rect").attr("x",0).attr("y",0).attr("width",ay.width).attr("height",ay.height).attr("class",D.eventRect).on("mouseout",function(){if(!ay.config){return}if(ay.hasArcType()){return}aC()}).on("mousemove",function(){var aE=ay.filterTargetsToShow(ay.data.targets);var aD,aF,aH,aG;if(ay.dragging){return}if(ay.hasArcType(aE)){return}aD=aB.mouse(this);aF=ay.findClosestFromTargets(aE,aD);if(ay.mouseover&&(!aF||aF.id!==ay.mouseover.id)){az.data_onmouseout.call(ay.api,ay.mouseover);ay.mouseover=undefined}if(!aF){aC();return}if(ay.isScatterType(aF)||!az.tooltip_grouped){aH=[aF]}else{aH=ay.filterByX(aE,aF.x)}aG=aH.map(function(aI){return ay.addName(aI)});ay.showTooltip(aG,this);if(az.point_focus_expand_enabled){ay.expandCircles(aF.index,aF.id,true)}ay.expandBars(aF.index,aF.id,true);ay.showXGridFocus(aG);if(ay.isBarType(aF.id)||ay.dist(aF,aD)<az.point_sensitivity){ay.svg.select("."+D.eventRect).style("cursor","pointer");if(!ay.mouseover){az.data_onmouseover.call(ay.api,aF);ay.mouseover=aF}}}).on("click",function(){var aE=ay.filterTargetsToShow(ay.data.targets);var aD,aF;if(ay.hasArcType(aE)){return}aD=aB.mouse(this);aF=ay.findClosestFromTargets(aE,aD);if(!aF){return}if(ay.isBarType(aF.id)||ay.dist(aF,aD)<az.point_sensitivity){ay.main.selectAll("."+D.shapes+ay.getTargetSelectorSuffix(aF.id)).selectAll("."+D.shape+"-"+aF.index).each(function(){if(az.data_selection_grouped||ay.isWithinShape(this,aF)){ay.toggleShape(this,aF,aF.index);ay.config.data_onclick.call(ay.api,aF,this)}})}}).call(az.data_selection_draggable&&ay.drag?aB.behavior.drag().origin(Object).on("drag",function(){ay.drag(aB.mouse(this))}).on("dragstart",function(){ay.dragstart(aB.mouse(this))}).on("dragend",function(){ay.dragend()}):function(){})};E.dispatchEvent=function(aE,aC,aD){var aH=this,aA="."+D.eventRect+(!aH.isMultipleX()?"-"+aC:""),az=aH.main.select(aA).node(),aB=az.getBoundingClientRect(),aG=aB.left+(aD?aD[0]:0),aF=aB.top+(aD?aD[1]:0),ay=document.createEvent("MouseEvents");ay.initMouseEvent(aE,true,true,window,0,aG,aF,aG,aF,false,false,false,false,0,null);az.dispatchEvent(ay)};E.initLegend=function(){var ay=this;ay.legendItemTextBox={};ay.legendHasRendered=false;ay.legend=ay.svg.append("g").attr("transform",ay.getTranslate("legend"));if(!ay.config.legend_show){ay.legend.style("visibility","hidden");ay.hiddenLegendIds=ay.mapToIds(ay.data.targets);return}ay.updateLegendWithDefaults()};E.updateLegendWithDefaults=function(){var ay=this;ay.updateLegend(ay.mapToIds(ay.data.targets),{withTransform:false,withTransitionForTransform:false,withTransition:false})};E.updateSizeForLegend=function(az,aB){var ay=this,aA=ay.config,aC={top:ay.isLegendTop?ay.getCurrentPaddingTop()+aA.legend_inset_y+5.5:ay.currentHeight-az-ay.getCurrentPaddingBottom()-aA.legend_inset_y,left:ay.isLegendLeft?ay.getCurrentPaddingLeft()+aA.legend_inset_x+0.5:ay.currentWidth-aB-ay.getCurrentPaddingRight()-aA.legend_inset_x+0.5};ay.margin3={top:ay.isLegendRight?0:ay.isLegendInset?aC.top:ay.currentHeight-az,right:NaN,bottom:0,left:ay.isLegendRight?ay.currentWidth-aB:ay.isLegendInset?aC.left:0}};E.transformLegend=function(az){var ay=this;(az?ay.legend.transition():ay.legend).attr("transform",ay.getTranslate("legend"))};E.updateLegendStep=function(ay){this.legendStep=ay};E.updateLegendItemWidth=function(ay){this.legendItemWidth=ay};E.updateLegendItemHeight=function(ay){this.legendItemHeight=ay};E.getLegendWidth=function(){var ay=this;return ay.config.legend_show?ay.isLegendRight||ay.isLegendInset?ay.legendItemWidth*(ay.legendStep+1):ay.currentWidth:0};E.getLegendHeight=function(){var ay=this,az=0;if(ay.config.legend_show){if(ay.isLegendRight){az=ay.currentHeight}else{az=Math.max(20,ay.legendItemHeight)*(ay.legendStep+1)}}return az};E.opacityForLegend=function(ay){return ay.classed(D.legendItemHidden)?null:1};E.opacityForUnfocusedLegend=function(ay){return ay.classed(D.legendItemHidden)?null:0.3};E.toggleFocusLegend=function(az,ay){var aA=this;az=aA.mapToTargetIds(az);aA.legend.selectAll("."+D.legendItem).filter(function(aB){return az.indexOf(aB)>=0}).classed(D.legendItemFocused,ay).transition().duration(100).style("opacity",function(){var aB=ay?aA.opacityForLegend:aA.opacityForUnfocusedLegend;return aB.call(aA,aA.d3.select(this))})};E.revertLegend=function(){var ay=this,az=ay.d3;ay.legend.selectAll("."+D.legendItem).classed(D.legendItemFocused,false).transition().duration(100).style("opacity",function(){return ay.opacityForLegend(az.select(this))})};E.showLegend=function(ay){var az=this,aA=az.config;if(!aA.legend_show){aA.legend_show=true;az.legend.style("visibility","visible");if(!az.legendHasRendered){az.updateLegendWithDefaults()}}az.removeHiddenLegendIds(ay);az.legend.selectAll(az.selectorLegends(ay)).style("visibility","visible").transition().style("opacity",function(){return az.opacityForLegend(az.d3.select(this))})};E.hideLegend=function(ay){var az=this,aA=az.config;if(aA.legend_show&&C(ay)){aA.legend_show=false;az.legend.style("visibility","hidden")}az.addHiddenLegendIds(ay);az.legend.selectAll(az.selectorLegends(ay)).style("opacity",0).style("visibility","hidden")};E.clearLegendItemTextBoxCache=function(){this.legendItemTextBox={}};E.updateLegend=function(aA,aO,aD){var a2=this,aS=a2.config;var a7,az,aE,aC,a1,a5,aI,ay,aL;var a6=4,aH=10,aN=0,a0=0,aG=10,aW=aS.legend_item_tile_width+5;var aZ,aY=0,aK={},aB={},aX={},aF=[0],aR={},aP=0;var a3,aJ;var aV,aU,aQ,aT;aA=aA.filter(function(a8){return !J(aS.data_names[a8])||aS.data_names[a8]!==null});aO=aO||{};a3=t(aO,"withTransition",true);aJ=t(aO,"withTransitionForTransform",true);function aM(a8,a9){if(!a2.legendItemTextBox[a9]){a2.legendItemTextBox[a9]=a2.getTextRect(a8.textContent,D.legendItem,a8)}return a2.legendItemTextBox[a9]}function a4(bb,ba,bj){var bi=bj===0,bf=bj===aA.length-1,bg=aM(bb,ba),bk=bg.width+aW+(bf&&!(a2.isLegendRight||a2.isLegendInset)?0:aH)+aS.legend_padding,bd=bg.height+a6,bh=a2.isLegendRight||a2.isLegendInset?bd:bk,a8=a2.isLegendRight||a2.isLegendInset?a2.getLegendHeight():a2.getLegendWidth(),be,a9;function bc(bm,bl){if(!bl){be=(a8-aY-bh)/2;if(be<aG){be=(a8-bh)/2;aY=0;aP++}}aR[bm]=aP;aF[aP]=a2.isLegendInset?10:be;aK[bm]=aY;aY+=bh}if(bi){aY=0;aP=0;aN=0;a0=0}if(aS.legend_show&&!a2.isLegendToShow(ba)){aB[ba]=aX[ba]=aR[ba]=aK[ba]=0;return}aB[ba]=bk;aX[ba]=bd;if(!aN||bk>=aN){aN=bk}if(!a0||bd>=a0){a0=bd}a9=a2.isLegendRight||a2.isLegendInset?a0:aN;if(aS.legend_equally){Object.keys(aB).forEach(function(bl){aB[bl]=aN});Object.keys(aX).forEach(function(bl){aX[bl]=a0});be=(a8-a9*aA.length)/2;if(be<aG){aY=0;aP=0;aA.forEach(function(bl){bc(bl)})}else{bc(ba,true)}}else{bc(ba)}}if(a2.isLegendInset){aP=aS.legend_inset_step?aS.legend_inset_step:aA.length;a2.updateLegendStep(aP)}if(a2.isLegendRight){a7=function a7(a8){return aN*aR[a8]};aC=function aC(a8){return aF[aR[a8]]+aK[a8]}}else{if(a2.isLegendInset){a7=function a7(a8){return aN*aR[a8]+10};aC=function aC(a8){return aF[aR[a8]]+aK[a8]}}else{a7=function a7(a8){return aF[aR[a8]]+aK[a8]};aC=function aC(a8){return a0*aR[a8]}}}az=function az(a9,a8){return a7(a9,a8)+4+aS.legend_item_tile_width};a1=function a1(a9,a8){return aC(a9,a8)+9};aE=function aE(a9,a8){return a7(a9,a8)};a5=function a5(a9,a8){return aC(a9,a8)-5};aI=function aI(a9,a8){return a7(a9,a8)-2};ay=function ay(a9,a8){return a7(a9,a8)-2+aS.legend_item_tile_width};aL=function aL(a9,a8){return aC(a9,a8)+4};aZ=a2.legend.selectAll("."+D.legendItem).data(aA).enter().append("g").attr("class",function(a8){return a2.generateClass(D.legendItem,a8)}).style("visibility",function(a8){return a2.isLegendToShow(a8)?"visible":"hidden"}).style("cursor","pointer").on("click",function(a8){if(aS.legend_item_onclick){aS.legend_item_onclick.call(a2,a8)}else{if(a2.d3.event.altKey){a2.api.hide();a2.api.show(a8)}else{a2.api.toggle(a8);a2.isTargetToShow(a8)?a2.api.focus(a8):a2.api.revert()}}}).on("mouseover",function(a8){if(aS.legend_item_onmouseover){aS.legend_item_onmouseover.call(a2,a8)}else{a2.d3.select(this).classed(D.legendItemFocused,true);if(!a2.transiting&&a2.isTargetToShow(a8)){a2.api.focus(a8)}}}).on("mouseout",function(a8){if(aS.legend_item_onmouseout){aS.legend_item_onmouseout.call(a2,a8)}else{a2.d3.select(this).classed(D.legendItemFocused,false);a2.api.revert()}});aZ.append("text").text(function(a8){return J(aS.data_names[a8])?aS.data_names[a8]:a8}).each(function(a9,a8){a4(this,a9,a8)}).style("pointer-events","none").attr("x",a2.isLegendRight||a2.isLegendInset?az:-200).attr("y",a2.isLegendRight||a2.isLegendInset?-200:a1);aZ.append("rect").attr("class",D.legendItemEvent).style("fill-opacity",0).attr("x",a2.isLegendRight||a2.isLegendInset?aE:-200).attr("y",a2.isLegendRight||a2.isLegendInset?-200:a5);aZ.append("line").attr("class",D.legendItemTile).style("stroke",a2.color).style("pointer-events","none").attr("x1",a2.isLegendRight||a2.isLegendInset?aI:-200).attr("y1",a2.isLegendRight||a2.isLegendInset?-200:aL).attr("x2",a2.isLegendRight||a2.isLegendInset?ay:-200).attr("y2",a2.isLegendRight||a2.isLegendInset?-200:aL).attr("stroke-width",aS.legend_item_tile_height);aT=a2.legend.select("."+D.legendBackground+" rect");if(a2.isLegendInset&&aN>0&&aT.size()===0){aT=a2.legend.insert("g","."+D.legendItem).attr("class",D.legendBackground).append("rect")}aV=a2.legend.selectAll("text").data(aA).text(function(a8){return J(aS.data_names[a8])?aS.data_names[a8]:a8}).each(function(a9,a8){a4(this,a9,a8)});(a3?aV.transition():aV).attr("x",az).attr("y",a1);aU=a2.legend.selectAll("rect."+D.legendItemEvent).data(aA);(a3?aU.transition():aU).attr("width",function(a8){return aB[a8]}).attr("height",function(a8){return aX[a8]}).attr("x",aE).attr("y",a5);aQ=a2.legend.selectAll("line."+D.legendItemTile).data(aA);(a3?aQ.transition():aQ).style("stroke",a2.color).attr("x1",aI).attr("y1",aL).attr("x2",ay).attr("y2",aL);if(aT){(a3?aT.transition():aT).attr("height",a2.getLegendHeight()-12).attr("width",aN*(aP+1)+10)}a2.legend.selectAll("."+D.legendItem).classed(D.legendItemHidden,function(a8){return !a2.isTargetToShow(a8)});a2.updateLegendItemWidth(aN);a2.updateLegendItemHeight(a0);a2.updateLegendStep(aP);a2.updateSizes();a2.updateScales();a2.updateSvgSize();a2.transformAll(aJ,aD);a2.legendHasRendered=true};E.initRegion=function(){var ay=this;ay.region=ay.main.append("g").attr("clip-path",ay.clipPath).attr("class",D.regions)};E.updateRegion=function(aA){var ay=this,az=ay.config;ay.region.style("visibility",ay.hasArcType()?"hidden":"visible");ay.mainRegion=ay.main.select("."+D.regions).selectAll("."+D.region).data(az.regions);ay.mainRegion.enter().append("g").append("rect").style("fill-opacity",0);ay.mainRegion.attr("class",ay.classRegion.bind(ay));ay.mainRegion.exit().transition().duration(aA).style("opacity",0).remove()};E.redrawRegion=function(aB){var aA=this,aE=aA.mainRegion.selectAll("rect").each(function(){var aF=aA.d3.select(this.parentNode).datum();aA.d3.select(this).datum(aF)}),ay=aA.regionX.bind(aA),aD=aA.regionY.bind(aA),az=aA.regionWidth.bind(aA),aC=aA.regionHeight.bind(aA);return[(aB?aE.transition():aE).attr("x",ay).attr("y",aD).attr("width",az).attr("height",aC).style("fill-opacity",function(aF){return k(aF.opacity)?aF.opacity:0.1})]};E.regionX=function(aC){var ay=this,az=ay.config,aB,aA=aC.axis==="y"?ay.y:ay.y2;if(aC.axis==="y"||aC.axis==="y2"){aB=az.axis_rotated?"start" in aC?aA(aC.start):0:0}else{aB=az.axis_rotated?0:"start" in aC?ay.x(ay.isTimeSeries()?ay.parseDate(aC.start):aC.start):0}return aB};E.regionY=function(aC){var ay=this,az=ay.config,aB,aA=aC.axis==="y"?ay.y:ay.y2;if(aC.axis==="y"||aC.axis==="y2"){aB=az.axis_rotated?0:"end" in aC?aA(aC.end):0}else{aB=az.axis_rotated?"start" in aC?ay.x(ay.isTimeSeries()?ay.parseDate(aC.start):aC.start):0:0}return aB};E.regionWidth=function(aC){var az=this,aA=az.config,aD=az.regionX(aC),ay,aB=aC.axis==="y"?az.y:az.y2;if(aC.axis==="y"||aC.axis==="y2"){ay=aA.axis_rotated?"end" in aC?aB(aC.end):az.width:az.width}else{ay=aA.axis_rotated?az.width:"end" in aC?az.x(az.isTimeSeries()?az.parseDate(aC.end):aC.end):az.width}return ay<aD?0:ay-aD};E.regionHeight=function(aC){var az=this,aA=az.config,aD=this.regionY(aC),ay,aB=aC.axis==="y"?az.y:az.y2;if(aC.axis==="y"||aC.axis==="y2"){ay=aA.axis_rotated?az.height:"start" in aC?aB(aC.start):az.height}else{ay=aA.axis_rotated?"end" in aC?az.x(az.isTimeSeries()?az.parseDate(aC.end):aC.end):az.height:az.height}return ay<aD?0:ay-aD};E.isRegionOnX=function(ay){return !ay.axis||ay.axis==="x"};E.getScale=function(az,ay,aA){return(aA?this.d3.time.scale():this.d3.scale.linear()).range([az,ay])};E.getX=function(aC,ay,aD,aF){var az=this,aE=az.getScale(aC,ay,az.isTimeSeries()),aB=aD?aE.domain(aD):aE,aA;if(az.isCategorized()){aF=aF||function(){return 0};aE=function aE(aI,aH){var aG=aB(aI)+aF(aI);return aH?aG:Math.ceil(aG)}}else{aE=function aE(aI,aH){var aG=aB(aI);return aH?aG:Math.ceil(aG)}}for(aA in aB){aE[aA]=aB[aA]}aE.orgDomain=function(){return aB.domain()};if(az.isCategorized()){aE.domain=function(aG){if(!arguments.length){aG=this.orgDomain();return[aG[0],aG[1]+1]}aB.domain(aG);return aE}}return aE};E.getY=function(az,ay,aA){var aB=this.getScale(az,ay,this.isTimeSeriesY());if(aA){aB.domain(aA)}return aB};E.getYScale=function(ay){return this.axis.getId(ay)==="y2"?this.y2:this.y};E.getSubYScale=function(ay){return this.axis.getId(ay)==="y2"?this.subY2:this.subY};E.updateScales=function(){var az=this,aA=az.config,ay=!az.x;az.xMin=aA.axis_rotated?1:0;az.xMax=aA.axis_rotated?az.height:az.width;az.yMin=aA.axis_rotated?0:az.height;az.yMax=aA.axis_rotated?az.width:1;az.subXMin=az.xMin;az.subXMax=az.xMax;az.subYMin=aA.axis_rotated?0:az.height2;az.subYMax=aA.axis_rotated?az.width2:1;az.x=az.getX(az.xMin,az.xMax,ay?undefined:az.x.orgDomain(),function(){return az.xAxis.tickOffset()});az.y=az.getY(az.yMin,az.yMax,ay?aA.axis_y_default:az.y.domain());az.y2=az.getY(az.yMin,az.yMax,ay?aA.axis_y2_default:az.y2.domain());az.subX=az.getX(az.xMin,az.xMax,az.orgXDomain,function(aB){return aB%1?0:az.subXAxis.tickOffset()});az.subY=az.getY(az.subYMin,az.subYMax,ay?aA.axis_y_default:az.subY.domain());az.subY2=az.getY(az.subYMin,az.subYMax,ay?aA.axis_y2_default:az.subY2.domain());az.xAxisTickFormat=az.axis.getXAxisTickFormat();az.xAxisTickValues=az.axis.getXAxisTickValues();az.yAxisTickValues=az.axis.getYAxisTickValues();az.y2AxisTickValues=az.axis.getY2AxisTickValues();az.xAxis=az.axis.getXAxis(az.x,az.xOrient,az.xAxisTickFormat,az.xAxisTickValues,aA.axis_x_tick_outer);az.subXAxis=az.axis.getXAxis(az.subX,az.subXOrient,az.xAxisTickFormat,az.xAxisTickValues,aA.axis_x_tick_outer);az.yAxis=az.axis.getYAxis(az.y,az.yOrient,aA.axis_y_tick_format,az.yAxisTickValues,aA.axis_y_tick_outer);az.y2Axis=az.axis.getYAxis(az.y2,az.y2Orient,aA.axis_y2_tick_format,az.y2AxisTickValues,aA.axis_y2_tick_outer);if(!ay){if(az.brush){az.brush.scale(az.subX)}if(aA.zoom_enabled){az.zoom.scale(az.x)}}if(az.updateArc){az.updateArc()}};E.selectPoint=function(aD,aE,aB){var az=this,aA=az.config,ay=(aA.axis_rotated?az.circleY:az.circleX).bind(az),aF=(aA.axis_rotated?az.circleX:az.circleY).bind(az),aC=az.pointSelectR.bind(az);aA.data_onselected.call(az.api,aE,aD.node());az.main.select("."+D.selectedCircles+az.getTargetSelectorSuffix(aE.id)).selectAll("."+D.selectedCircle+"-"+aB).data([aE]).enter().append("circle").attr("class",function(){return az.generateClass(D.selectedCircle,aB)}).attr("cx",ay).attr("cy",aF).attr("stroke",function(){return az.color(aE)}).attr("r",function(aG){return az.pointSelectR(aG)*1.4}).transition().duration(100).attr("r",aC)};E.unselectPoint=function(aA,aB,az){var ay=this;ay.config.data_onunselected.call(ay.api,aB,aA.node());ay.main.select("."+D.selectedCircles+ay.getTargetSelectorSuffix(aB.id)).selectAll("."+D.selectedCircle+"-"+az).transition().duration(100).attr("r",0).remove()};E.togglePoint=function(az,aA,aB,ay){az?this.selectPoint(aA,aB,ay):this.unselectPoint(aA,aB,ay)};E.selectPath=function(az,aA){var ay=this;ay.config.data_onselected.call(ay,aA,az.node());if(ay.config.interaction_brighten){az.transition().duration(100).style("fill",function(){return ay.d3.rgb(ay.color(aA)).brighter(0.75)})}};E.unselectPath=function(az,aA){var ay=this;ay.config.data_onunselected.call(ay,aA,az.node());if(ay.config.interaction_brighten){az.transition().duration(100).style("fill",function(){return ay.color(aA)})}};E.togglePath=function(az,aA,aB,ay){az?this.selectPath(aA,aB,ay):this.unselectPath(aA,aB,ay)};E.getToggle=function(aA,aB){var az=this,ay;if(aA.nodeName==="circle"){if(az.isStepType(aB)){ay=function ay(){}}else{ay=az.togglePoint}}else{if(aA.nodeName==="path"){ay=az.togglePath}}return ay};E.toggleShape=function(aC,aE,aA){var aF=this,aG=aF.d3,az=aF.config,aD=aG.select(aC),ay=aD.classed(D.SELECTED),aB=aF.getToggle(aC,aE).bind(aF);if(az.data_selection_enabled&&az.data_selection_isselectable(aE)){if(!az.data_selection_multiple){aF.main.selectAll("."+D.shapes+(az.data_selection_grouped?aF.getTargetSelectorSuffix(aE.id):"")).selectAll("."+D.shape).each(function(aJ,aI){var aH=aG.select(this);if(aH.classed(D.SELECTED)){aB(false,aH.classed(D.SELECTED,false),aJ,aI)}})}aD.classed(D.SELECTED,!ay);aB(!ay,aD,aE,aA)}};E.initBar=function(){var ay=this;ay.main.select("."+D.chart).append("g").attr("class",D.chartBars)};E.updateTargetsForBar=function(az){var aB=this,aD=aB.config,aF,ay,aC=aB.classChartBar.bind(aB),aE=aB.classBars.bind(aB),aA=aB.classFocus.bind(aB);aF=aB.main.select("."+D.chartBars).selectAll("."+D.chartBar).data(az).attr("class",function(aG){return aC(aG)+aA(aG)});ay=aF.enter().append("g").attr("class",aC).style("pointer-events","none");ay.append("g").attr("class",aE).style("cursor",function(aG){return aD.data_selection_isselectable(aG)?"pointer":null})};E.updateBar=function(aD){var aA=this,ay=aA.barData.bind(aA),aB=aA.classBar.bind(aA),aC=aA.initialOpacity.bind(aA),az=function az(aE){return aA.color(aE.id)};aA.mainBar=aA.main.selectAll("."+D.bars).selectAll("."+D.bar).data(ay);aA.mainBar.enter().append("path").attr("class",aB).style("stroke",az).style("fill",az);aA.mainBar.style("opacity",aC);aA.mainBar.exit().transition().duration(aD).remove()};E.redrawBar=function(ay,az){return[(az?this.mainBar.transition(Math.random().toString()):this.mainBar).attr("d",ay).style("fill",this.color).style("opacity",1)]};E.getBarW=function(aC,aB){var az=this,aA=az.config,ay=typeof aA.bar_width==="number"?aA.bar_width:aB?aC.tickInterval()*aA.bar_width_ratio/aB:0;return aA.bar_width_max&&ay>aA.bar_width_max?aA.bar_width_max:ay};E.getBars=function(az,aA){var ay=this;return(aA?ay.main.selectAll("."+D.bars+ay.getTargetSelectorSuffix(aA)):ay.main).selectAll("."+D.bar+(k(az)?"-"+az:""))};E.expandBars=function(az,aB,aA){var ay=this;if(aA){ay.unexpandBars()}ay.getBars(az,aB).classed(D.EXPANDED,true)};E.unexpandBars=function(az){var ay=this;ay.getBars(az).classed(D.EXPANDED,false)};E.generateDrawBar=function(az,ay){var aA=this,aC=aA.config,aB=aA.generateGetBarPoints(az,ay);return function(aI,aF){var aG=aB(aI,aF);var aE=aC.axis_rotated?1:0;var aD=aC.axis_rotated?0:1;var aH="M "+aG[0][aE]+","+aG[0][aD]+" L"+aG[1][aE]+","+aG[1][aD]+" L"+aG[2][aE]+","+aG[2][aD]+" L"+aG[3][aE]+","+aG[3][aD]+" z";return aH}};E.generateGetBarPoints=function(aD,aG){var aF=this,aB=aG?aF.subXAxis:aF.xAxis,aE=aD.__max__+1,az=aF.getBarW(aB,aE),ay=aF.getShapeX(az,aE,aD,!!aG),aH=aF.getShapeY(!!aG),aC=aF.getShapeOffset(aF.isBarType,aD,!!aG),aA=aG?aF.getSubYScale:aF.getYScale;return function(aM,aI){var aJ=aA.call(aF,aM.id)(0),aL=aC(aM,aI)||aJ,aN=ay(aM),aK=aH(aM);if(aF.config.axis_rotated){if(0<aM.value&&aK<aJ||aM.value<0&&aJ<aK){aK=aJ}}return[[aN,aL],[aN,aK-(aJ-aL)],[aN+az,aK-(aJ-aL)],[aN+az,aL]]}};E.isWithinBar=function(aC){var aE=this.d3.mouse(aC),aB=aC.getBoundingClientRect(),ay=aC.pathSegList.getItem(0),aL=aC.pathSegList.getItem(1),aJ=Math.min(ay.x,aL.x),aH=Math.min(ay.y,aL.y),aK=aB.width,aA=aB.height,az=2,aI=aJ-az,aF=aJ+aK+az,aG=aH+aA+az,aD=aH-az;return aI<aE[0]&&aE[0]<aF&&aD<aE[1]&&aE[1]<aG};E.getShapeIndices=function(aD){var az=this,aB=az.config,aE={},aC=0,aA,ay;az.filterTargetsToShow(az.data.targets.filter(aD,az)).forEach(function(aF){for(aA=0;aA<aB.data_groups.length;aA++){if(aB.data_groups[aA].indexOf(aF.id)<0){continue}for(ay=0;ay<aB.data_groups[aA].length;ay++){if(aB.data_groups[aA][ay] in aE){aE[aF.id]=aE[aB.data_groups[aA][ay]];break}}}if(F(aE[aF.id])){aE[aF.id]=aC++}});aE.__max__=aC-1;return aE};E.getShapeX=function(aD,az,aC,ay){var aA=this,aB=ay?aA.subX:aA.x;return function(aF){var aE=aF.id in aC?aC[aF.id]:0;return aF.x||aF.x===0?aB(aF.x)-aD*(az/2-aE):0}};E.getShapeY=function(ay){var az=this;return function(aB){var aA=ay?az.getSubYScale(aB.id):az.getYScale(aB.id);return aA(aB.value)}};E.getShapeOffset=function(aC,aD,ay){var aB=this,aA=aB.orderTargets(aB.filterTargetsToShow(aB.data.targets.filter(aC,aB))),az=aA.map(function(aE){return aE.id});return function(aI,aE){var aH=ay?aB.getSubYScale(aI.id):aB.getYScale(aI.id),aF=aH(0),aG=aF;aA.forEach(function(aK){var aJ=aB.isStepType(aI)?aB.convertValuesToStep(aK.values):aK.values;if(aK.id===aI.id||aD[aK.id]!==aD[aI.id]){return}if(az.indexOf(aK.id)<az.indexOf(aI.id)){if(typeof aJ[aE]==="undefined"||+aJ[aE].x!==+aI.x){aE=-1;aJ.forEach(function(aL,aM){if(aL.x===aI.x){aE=aM}})}if(aE in aJ&&aJ[aE].value*aI.value>=0){aG+=aH(aJ[aE].value)-aF}}});return aG}};E.isWithinShape=function(aA,aB){var az=this,ay=az.d3.select(aA),aC;if(!az.isTargetToShow(aB.id)){aC=false}else{if(aA.nodeName==="circle"){aC=az.isStepType(aB)?az.isWithinStep(aA,az.getYScale(aB.id)(aB.value)):az.isWithinCircle(aA,az.pointSelectR(aB)*1.5)}else{if(aA.nodeName==="path"){aC=ay.classed(D.bar)?az.isWithinBar(aA):true}}}return aC};E.getInterpolate=function(aA){var az=this,ay=az.isInterpolationType(az.config.spline_interpolation_type)?az.config.spline_interpolation_type:"cardinal";return az.isSplineType(aA)?ay:az.isStepType(aA)?az.config.line_step_type:"linear"};E.initLine=function(){var ay=this;ay.main.select("."+D.chart).append("g").attr("class",D.chartLines)};E.updateTargetsForLine=function(aG){var aH=this,aA=aH.config,ay,az,aC=aH.classChartLine.bind(aH),aD=aH.classLines.bind(aH),aE=aH.classAreas.bind(aH),aF=aH.classCircles.bind(aH),aB=aH.classFocus.bind(aH);ay=aH.main.select("."+D.chartLines).selectAll("."+D.chartLine).data(aG).attr("class",function(aI){return aC(aI)+aB(aI)});az=ay.enter().append("g").attr("class",aC).style("opacity",0).style("pointer-events","none");az.append("g").attr("class",aD);az.append("g").attr("class",aE);az.append("g").attr("class",function(aI){return aH.generateClass(D.selectedCircles,aI.id)});az.append("g").attr("class",aF).style("cursor",function(aI){return aA.data_selection_isselectable(aI)?"pointer":null});aG.forEach(function(aI){aH.main.selectAll("."+D.selectedCircles+aH.getTargetSelectorSuffix(aI.id)).selectAll("."+D.selectedCircle).each(function(aJ){aJ.value=aI.values[aJ.index].value})})};E.updateLine=function(az){var ay=this;ay.mainLine=ay.main.selectAll("."+D.lines).selectAll("."+D.line).data(ay.lineData.bind(ay));ay.mainLine.enter().append("path").attr("class",ay.classLine.bind(ay)).style("stroke",ay.color);ay.mainLine.style("opacity",ay.initialOpacity.bind(ay)).style("shape-rendering",function(aA){return ay.isStepType(aA)?"crispEdges":""}).attr("transform",null);ay.mainLine.exit().transition().duration(az).style("opacity",0).remove()};E.redrawLine=function(az,ay){return[(ay?this.mainLine.transition(Math.random().toString()):this.mainLine).attr("d",az).style("stroke",this.color).style("opacity",1)]};E.generateDrawLine=function(ay,aF){var aE=this,az=aE.config,aG=aE.d3.svg.line(),aC=aE.generateGetLinePoints(ay,aF),aA=aF?aE.getSubYScale:aE.getYScale,aB=function aB(aH){return(aF?aE.subxx:aE.xx).call(aE,aH)},aD=function aD(aI,aH){return az.data_groups.length>0?aC(aI,aH)[0][1]:aA.call(aE,aI.id)(aI.value)};aG=az.axis_rotated?aG.x(aD).y(aB):aG.x(aB).y(aD);if(!az.line_connectNull){aG=aG.defined(function(aH){return aH.value!=null})}return function(aM){var aI=az.line_connectNull?aE.filterRemoveNull(aM.values):aM.values,aH=aF?aE.x:aE.subX,aN=aA.call(aE,aM.id),aJ=0,aK=0,aL;if(aE.isLineType(aM)){if(az.data_regions[aM.id]){aL=aE.lineWithRegions(aI,aH,aN,az.data_regions[aM.id])}else{if(aE.isStepType(aM)){aI=aE.convertValuesToStep(aI)}aL=aG.interpolate(aE.getInterpolate(aM))(aI)}}else{if(aI[0]){aJ=aH(aI[0].x);aK=aN(aI[0].value)}aL=az.axis_rotated?"M "+aK+" "+aJ:"M "+aJ+" "+aK}return aL?aL:"M 0 0"}};E.generateGetLinePoints=function(ay,aG){var aF=this,aA=aF.config,aC=ay.__max__+1,aE=aF.getShapeX(0,aC,ay,!!aG),aD=aF.getShapeY(!!aG),aB=aF.getShapeOffset(aF.isLineType,ay,!!aG),az=aG?aF.getSubYScale:aF.getYScale;return function(aL,aH){var aI=az.call(aF,aL.id)(0),aK=aB(aL,aH)||aI,aM=aE(aL),aJ=aD(aL);if(aA.axis_rotated){if(0<aL.value&&aJ<aI||aL.value<0&&aI<aJ){aJ=aI}}return[[aM,aJ-(aI-aK)],[aM,aJ-(aI-aK)],[aM,aJ-(aI-aK)],[aM,aJ-(aI-aK)]]}};E.lineWithRegions=function(aS,aD,aC,aK){var aI=this,aU=aI.config,aM=-1,aP,aO,aL="M",aF,aG,aQ,aH,aE,aT,aJ,aB,aV=aI.isCategorized()?0.5:0,aN,aR,ay=[];function az(aW,aY){var aX;for(aX=0;aX<aY.length;aX++){if(aY[aX].start<aW&&aW<=aY[aX].end){return true}}return false}if(J(aK)){for(aP=0;aP<aK.length;aP++){ay[aP]={};if(F(aK[aP].start)){ay[aP].start=aS[0].x}else{ay[aP].start=aI.isTimeSeries()?aI.parseDate(aK[aP].start):aK[aP].start}if(F(aK[aP].end)){ay[aP].end=aS[aS.length-1].x}else{ay[aP].end=aI.isTimeSeries()?aI.parseDate(aK[aP].end):aK[aP].end}}}aN=aU.axis_rotated?function(aW){return aC(aW.value)}:function(aW){return aD(aW.x)};aR=aU.axis_rotated?function(aW){return aD(aW.x)}:function(aW){return aC(aW.value)};function aA(aW){return"M"+aW[0][0]+" "+aW[0][1]+" "+aW[1][0]+" "+aW[1][1]}if(aI.isTimeSeries()){aF=function aF(aX,aW,a0,a1){var aY=aX.x.getTime(),aZ=aW.x-aX.x,a4=new Date(aY+aZ*a0),a3=new Date(aY+aZ*(a0+a1)),a2;if(aU.axis_rotated){a2=[[aC(aQ(a0)),aD(a4)],[aC(aQ(a0+a1)),aD(a3)]]}else{a2=[[aD(a4),aC(aQ(a0))],[aD(a3),aC(aQ(a0+a1))]]}return aA(a2)}}else{aF=function aF(a0,aY,aW,aZ){var aX;if(aU.axis_rotated){aX=[[aC(aQ(aW),true),aD(aG(aW))],[aC(aQ(aW+aZ),true),aD(aG(aW+aZ))]]}else{aX=[[aD(aG(aW),true),aC(aQ(aW))],[aD(aG(aW+aZ),true),aC(aQ(aW+aZ))]]}return aA(aX)}}for(aP=0;aP<aS.length;aP++){if(F(ay)||!az(aS[aP].x,ay)){aL+=" "+aN(aS[aP])+" "+aR(aS[aP])}else{aG=aI.getScale(aS[aP-1].x+aV,aS[aP].x+aV,aI.isTimeSeries());aQ=aI.getScale(aS[aP-1].value,aS[aP].value);aH=aD(aS[aP].x)-aD(aS[aP-1].x);aE=aC(aS[aP].value)-aC(aS[aP-1].value);aT=Math.sqrt(Math.pow(aH,2)+Math.pow(aE,2));aJ=2/aT;aB=aJ*2;for(aO=aJ;aO<=1;aO+=aB){aL+=aF(aS[aP-1],aS[aP],aO,aJ)}}aM=aS[aP].x}return aL};E.updateArea=function(aA){var ay=this,az=ay.d3;ay.mainArea=ay.main.selectAll("."+D.areas).selectAll("."+D.area).data(ay.lineData.bind(ay));ay.mainArea.enter().append("path").attr("class",ay.classArea.bind(ay)).style("fill",ay.color).style("opacity",function(){ay.orgAreaOpacity=+az.select(this).style("opacity");return 0});ay.mainArea.style("opacity",ay.orgAreaOpacity);ay.mainArea.exit().transition().duration(aA).style("opacity",0).remove()};E.redrawArea=function(az,ay){return[(ay?this.mainArea.transition(Math.random().toString()):this.mainArea).attr("d",az).style("fill",this.color).style("opacity",this.orgAreaOpacity)]};E.generateDrawArea=function(aB,aH){var aG=this,az=aG.config,ay=aG.d3.svg.area(),aD=aG.generateGetAreaPoints(aB,aH),aA=aH?aG.getSubYScale:aG.getYScale,aC=function aC(aI){return(aH?aG.subxx:aG.xx).call(aG,aI)},aF=function aF(aJ,aI){return az.data_groups.length>0?aD(aJ,aI)[0][1]:aA.call(aG,aJ.id)(aG.getAreaBaseValue(aJ.id))},aE=function aE(aJ,aI){return az.data_groups.length>0?aD(aJ,aI)[1][1]:aA.call(aG,aJ.id)(aJ.value)};ay=az.axis_rotated?ay.x0(aF).x1(aE).y(aC):ay.x(aC).y0(az.area_above?0:aF).y1(aE);if(!az.line_connectNull){ay=ay.defined(function(aI){return aI.value!==null})}return function(aM){var aI=az.line_connectNull?aG.filterRemoveNull(aM.values):aM.values,aJ=0,aK=0,aL;if(aG.isAreaType(aM)){if(aG.isStepType(aM)){aI=aG.convertValuesToStep(aI)}aL=ay.interpolate(aG.getInterpolate(aM))(aI)}else{if(aI[0]){aJ=aG.x(aI[0].x);aK=aG.getYScale(aM.id)(aI[0].value)}aL=az.axis_rotated?"M "+aK+" "+aJ:"M "+aJ+" "+aK}return aL?aL:"M 0 0"}};E.getAreaBaseValue=function(){return 0};E.generateGetAreaPoints=function(aB,aG){var aF=this,az=aF.config,aC=aB.__max__+1,aE=aF.getShapeX(0,aC,aB,!!aG),aD=aF.getShapeY(!!aG),aA=aF.getShapeOffset(aF.isAreaType,aB,!!aG),ay=aG?aF.getSubYScale:aF.getYScale;return function(aL,aH){var aI=ay.call(aF,aL.id)(0),aK=aA(aL,aH)||aI,aM=aE(aL),aJ=aD(aL);if(az.axis_rotated){if(0<aL.value&&aJ<aI||aL.value<0&&aI<aJ){aJ=aI}}return[[aM,aK],[aM,aJ-(aI-aK)],[aM,aJ-(aI-aK)],[aM,aK]]}};E.updateCircle=function(){var ay=this;ay.mainCircle=ay.main.selectAll("."+D.circles).selectAll("."+D.circle).data(ay.lineOrScatterData.bind(ay));ay.mainCircle.enter().append("circle").attr("class",ay.classCircle.bind(ay)).attr("r",ay.pointR.bind(ay)).style("fill",ay.color);ay.mainCircle.style("opacity",ay.initialOpacityForCircle.bind(ay));ay.mainCircle.exit().remove()};E.redrawCircle=function(ay,aB,az){var aA=this.main.selectAll("."+D.selectedCircle);return[(az?this.mainCircle.transition(Math.random().toString()):this.mainCircle).style("opacity",this.opacityForCircle.bind(this)).style("fill",this.color).attr("cx",ay).attr("cy",aB),(az?aA.transition(Math.random().toString()):aA).attr("cx",ay).attr("cy",aB)]};E.circleX=function(ay){return ay.x||ay.x===0?this.x(ay.x):null};E.updateCircleY=function(){var ay=this,aA,az;if(ay.config.data_groups.length>0){aA=ay.getShapeIndices(ay.isLineType),az=ay.generateGetLinePoints(aA);ay.circleY=function(aC,aB){return az(aC,aB)[0][1]}}else{ay.circleY=function(aB){return ay.getYScale(aB.id)(aB.value)}}};E.getCircles=function(az,aA){var ay=this;return(aA?ay.main.selectAll("."+D.circles+ay.getTargetSelectorSuffix(aA)):ay.main).selectAll("."+D.circle+(k(az)?"-"+az:""))};E.expandCircles=function(az,aC,aB){var ay=this,aA=ay.pointExpandedR.bind(ay);if(aB){ay.unexpandCircles()}ay.getCircles(az,aC).classed(D.EXPANDED,true).attr("r",aA)};E.unexpandCircles=function(az){var ay=this,aA=ay.pointR.bind(ay);ay.getCircles(az).filter(function(){return ay.d3.select(this).classed(D.EXPANDED)}).classed(D.EXPANDED,false).attr("r",aA)};E.pointR=function(aA){var ay=this,az=ay.config;return ay.isStepType(aA)?0:z(az.point_r)?az.point_r(aA):az.point_r};E.pointExpandedR=function(aA){var ay=this,az=ay.config;return az.point_focus_expand_enabled?az.point_focus_expand_r?az.point_focus_expand_r:ay.pointR(aA)*1.75:ay.pointR(aA)};E.pointSelectR=function(aA){var ay=this,az=ay.config;return z(az.point_select_r)?az.point_select_r(aA):az.point_select_r?az.point_select_r:ay.pointR(aA)*4};E.isWithinCircle=function(aD,aC){var aB=this.d3,aA=aB.mouse(aD),az=aB.select(aD),ay=+az.attr("cx"),aE=+az.attr("cy");return Math.sqrt(Math.pow(ay-aA[0],2)+Math.pow(aE-aA[1],2))<aC};E.isWithinStep=function(ay,az){return Math.abs(az-this.d3.mouse(ay)[1])<30};E.getCurrentWidth=function(){var ay=this,az=ay.config;return az.size_width?az.size_width:ay.getParentWidth()};E.getCurrentHeight=function(){var ay=this,az=ay.config,aA=az.size_height?az.size_height:ay.getParentHeight();return aA>0?aA:320/(ay.hasType("gauge")&&!az.gauge_fullCircle?2:1)};E.getCurrentPaddingTop=function(){var ay=this,az=ay.config,aA=k(az.padding_top)?az.padding_top:0;if(ay.title&&ay.title.node()){aA+=ay.getTitlePadding()}return aA};E.getCurrentPaddingBottom=function(){var ay=this.config;return k(ay.padding_bottom)?ay.padding_bottom:0};E.getCurrentPaddingLeft=function(ay){var az=this,aA=az.config;if(k(aA.padding_left)){return aA.padding_left}else{if(aA.axis_rotated){return !aA.axis_x_show?1:Math.max(Q(az.getAxisWidthByAxisId("x",ay)),40)}else{if(!aA.axis_y_show||aA.axis_y_inner){return az.axis.getYAxisLabelPosition().isOuter?30:1}else{return Q(az.getAxisWidthByAxisId("y",ay))}}}};E.getCurrentPaddingRight=function(){var ay=this,az=ay.config,aB=10,aA=ay.isLegendRight?ay.getLegendWidth()+20:0;if(k(az.padding_right)){return az.padding_right+1}else{if(az.axis_rotated){return aB+aA}else{if(!az.axis_y2_show||az.axis_y2_inner){return 2+aA+(ay.axis.getY2AxisLabelPosition().isOuter?20:0)}else{return Q(ay.getAxisWidthByAxisId("y2"))+aA}}}};E.getParentRectValue=function(az){var aA=this.selectChart.node(),ay;while(aA&&aA.tagName!=="BODY"){try{ay=aA.getBoundingClientRect()[az]}catch(aB){if(az==="width"){ay=aA.offsetWidth}}if(ay){break}aA=aA.parentNode}return ay};E.getParentWidth=function(){return this.getParentRectValue("width")};E.getParentHeight=function(){var ay=this.selectChart.style("height");return ay.indexOf("px")>0?+ay.replace("px",""):0};E.getSvgLeft=function(aE){var aG=this,az=aG.config,aC=az.axis_rotated||!az.axis_rotated&&!az.axis_y_inner,aH=az.axis_rotated?D.axisX:D.axisY,ay=aG.main.select("."+aH).node(),aF=ay&&aC?ay.getBoundingClientRect():{right:0},aD=aG.selectChart.node().getBoundingClientRect(),aB=aG.hasArcType(),aA=aF.right-aD.left-(aB?0:aG.getCurrentPaddingLeft(aE));return aA>0?aA:0};E.getAxisWidthByAxisId=function(aB,az){var aA=this,ay=aA.axis.getLabelPositionById(aB);return aA.axis.getMaxTickWidth(aB,az)+(ay.isInner?20:40)};E.getHorizontalAxisHeight=function(aB){var ay=this,az=ay.config,aA=30;if(aB==="x"&&!az.axis_x_show){return 8}if(aB==="x"&&az.axis_x_height){return az.axis_x_height}if(aB==="y"&&!az.axis_y_show){return az.legend_show&&!ay.isLegendRight&&!ay.isLegendInset?10:1}if(aB==="y2"&&!az.axis_y2_show){return ay.rotated_padding_top}if(aB==="x"&&!az.axis_rotated&&az.axis_x_tick_rotate){aA=30+ay.axis.getMaxTickWidth(aB)*Math.cos(Math.PI*(90-az.axis_x_tick_rotate)/180)}if(aB==="y"&&az.axis_rotated&&az.axis_y_tick_rotate){aA=30+ay.axis.getMaxTickWidth(aB)*Math.cos(Math.PI*(90-az.axis_y_tick_rotate)/180)}return aA+(ay.axis.getLabelPositionById(aB).isInner?0:10)+(aB==="y2"?-10:0)};E.getEventRectWidth=function(){return Math.max(0,this.xAxis.tickInterval())};E.initBrush=function(){var ay=this,az=ay.d3;ay.brush=az.svg.brush().on("brush",function(){ay.redrawForBrush()});ay.brush.update=function(){if(ay.context){ay.context.select("."+D.brush).call(this)}return this};ay.brush.scale=function(aA){return ay.config.axis_rotated?this.y(aA):this.x(aA)}};E.initSubchart=function(){var az=this,aA=az.config,aB=az.context=az.svg.append("g").attr("transform",az.getTranslate("context")),ay=aA.subchart_show?"visible":"hidden";aB.style("visibility",ay);aB.append("g").attr("clip-path",az.clipPathForSubchart).attr("class",D.chart);aB.select("."+D.chart).append("g").attr("class",D.chartBars);aB.select("."+D.chart).append("g").attr("class",D.chartLines);aB.append("g").attr("clip-path",az.clipPath).attr("class",D.brush).call(az.brush);az.axes.subx=aB.append("g").attr("class",D.axisX).attr("transform",az.getTranslate("subx")).attr("clip-path",aA.axis_rotated?"":az.clipPathForXAxis).style("visibility",aA.subchart_axis_x_show?ay:"hidden")};E.updateTargetsForSubchart=function(aH){var aK=this,az=aK.context,aA=aK.config,aJ,aG,ay,aE,aI=aK.classChartBar.bind(aK),aF=aK.classBars.bind(aK),aC=aK.classChartLine.bind(aK),aB=aK.classLines.bind(aK),aD=aK.classAreas.bind(aK);if(aA.subchart_show){aE=az.select("."+D.chartBars).selectAll("."+D.chartBar).data(aH).attr("class",aI);ay=aE.enter().append("g").style("opacity",0).attr("class",aI);ay.append("g").attr("class",aF);aG=az.select("."+D.chartLines).selectAll("."+D.chartLine).data(aH).attr("class",aC);aJ=aG.enter().append("g").style("opacity",0).attr("class",aC);aJ.append("g").attr("class",aB);aJ.append("g").attr("class",aD);az.selectAll("."+D.brush+" rect").attr(aA.axis_rotated?"width":"height",aA.axis_rotated?aK.width2:aK.height2)}};E.updateBarForSubchart=function(az){var ay=this;ay.contextBar=ay.context.selectAll("."+D.bars).selectAll("."+D.bar).data(ay.barData.bind(ay));ay.contextBar.enter().append("path").attr("class",ay.classBar.bind(ay)).style("stroke","none").style("fill",ay.color);ay.contextBar.style("opacity",ay.initialOpacity.bind(ay));ay.contextBar.exit().transition().duration(az).style("opacity",0).remove()};E.redrawBarForSubchart=function(az,ay,aA){(ay?this.contextBar.transition(Math.random().toString()).duration(aA):this.contextBar).attr("d",az).style("opacity",1)};E.updateLineForSubchart=function(az){var ay=this;ay.contextLine=ay.context.selectAll("."+D.lines).selectAll("."+D.line).data(ay.lineData.bind(ay));ay.contextLine.enter().append("path").attr("class",ay.classLine.bind(ay)).style("stroke",ay.color);ay.contextLine.style("opacity",ay.initialOpacity.bind(ay));ay.contextLine.exit().transition().duration(az).style("opacity",0).remove()};E.redrawLineForSubchart=function(ay,az,aA){(az?this.contextLine.transition(Math.random().toString()).duration(aA):this.contextLine).attr("d",ay).style("opacity",1)};E.updateAreaForSubchart=function(aA){var ay=this,az=ay.d3;ay.contextArea=ay.context.selectAll("."+D.areas).selectAll("."+D.area).data(ay.lineData.bind(ay));ay.contextArea.enter().append("path").attr("class",ay.classArea.bind(ay)).style("fill",ay.color).style("opacity",function(){ay.orgAreaOpacity=+az.select(this).style("opacity");return 0});ay.contextArea.style("opacity",0);ay.contextArea.exit().transition().duration(aA).style("opacity",0).remove()};E.redrawAreaForSubchart=function(az,ay,aA){(ay?this.contextArea.transition(Math.random().toString()).duration(aA):this.contextArea).attr("d",az).style("fill",this.color).style("opacity",this.orgAreaOpacity)};E.redrawSubchart=function(aH,aG,aD,az,aC,aE,ay){var aI=this,aK=aI.d3,aB=aI.config,aF,aA,aJ;aI.context.style("visibility",aB.subchart_show?"visible":"hidden");if(aB.subchart_show){if(aK.event&&aK.event.type==="zoom"){aI.brush.extent(aI.x.orgDomain()).update()}if(aH){if(!aI.brush.empty()){aI.brush.extent(aI.x.orgDomain()).update()}aF=aI.generateDrawArea(aC,true);aA=aI.generateDrawBar(aE,true);aJ=aI.generateDrawLine(ay,true);aI.updateBarForSubchart(aD);aI.updateLineForSubchart(aD);aI.updateAreaForSubchart(aD);aI.redrawBarForSubchart(aA,aD,aD);aI.redrawLineForSubchart(aJ,aD,aD);aI.redrawAreaForSubchart(aF,aD,aD)}}};E.redrawForBrush=function(){var az=this,ay=az.x;az.redraw({withTransition:false,withY:az.config.zoom_rescale,withSubchart:false,withUpdateXDomain:true,withDimension:false});az.config.subchart_onbrush.call(az.api,ay.orgDomain())};E.transformContext=function(az,aB){var ay=this,aA;if(aB&&aB.axisSubX){aA=aB.axisSubX}else{aA=ay.context.select("."+D.axisX);if(az){aA=aA.transition()}}ay.context.attr("transform",ay.getTranslate("context"));aA.attr("transform",ay.getTranslate("subx"))};E.getDefaultExtent=function(){var ay=this,az=ay.config,aA=z(az.axis_x_extent)?az.axis_x_extent(ay.getXDomain(ay.data.targets)):az.axis_x_extent;if(ay.isTimeSeries()){aA=[ay.parseDate(aA[0]),ay.parseDate(aA[1])]}return aA};E.initText=function(){var ay=this;ay.main.select("."+D.chart).append("g").attr("class",D.chartTexts);ay.mainText=ay.d3.selectAll([])};E.updateTargetsForText=function(az){var aB=this,aE,ay,aC=aB.classChartText.bind(aB),aD=aB.classTexts.bind(aB),aA=aB.classFocus.bind(aB);aE=aB.main.select("."+D.chartTexts).selectAll("."+D.chartText).data(az).attr("class",function(aF){return aC(aF)+aA(aF)});ay=aE.enter().append("g").attr("class",aC).style("opacity",0).style("pointer-events","none");ay.append("g").attr("class",aD)};E.updateText=function(aC){var az=this,aA=az.config,aB=az.barOrLineData.bind(az),ay=az.classText.bind(az);az.mainText=az.main.selectAll("."+D.texts).selectAll("."+D.text).data(aB);az.mainText.enter().append("text").attr("class",ay).attr("text-anchor",function(aD){return aA.axis_rotated?aD.value<0?"end":"start":"middle"}).style("stroke","none").style("fill",function(aD){return az.color(aD)}).style("fill-opacity",0);az.mainText.text(function(aF,aE,aD){return az.dataLabelFormat(aF.id)(aF.value,aF.id,aE,aD)});az.mainText.exit().transition().duration(aC).style("fill-opacity",0).remove()};E.redrawText=function(aB,aA,az,ay){return[(ay?this.mainText.transition():this.mainText).attr("x",aB).attr("y",aA).style("fill",this.color).style("fill-opacity",az?0:this.opacityForText.bind(this))]};E.getTextRect=function(aE,ay,aB){var aD=this.d3.select("body").append("div").classed("c3",true),aA=aD.append("svg").style("visibility","hidden").style("position","fixed").style("top",0).style("left",0),az=this.d3.select(aB).style("font"),aC;aA.selectAll(".dummy").data([aE]).enter().append("text").classed(ay?ay:"",true).style("font",az).text(aE).each(function(){aC=this.getBoundingClientRect()});aD.remove();return aC};E.generateXYForText=function(aB,aD,az,ay){var aG=this,aA=aG.generateGetAreaPoints(aB,false),aE=aG.generateGetBarPoints(aD,false),aC=aG.generateGetLinePoints(az,false),aF=ay?aG.getXForText:aG.getYForText;return function(aJ,aI){var aH=aG.isAreaType(aJ)?aA:aG.isBarType(aJ)?aE:aC;return aF.call(aG,aH(aJ,aI),aJ,this)}};E.getXForText=function(aA,aE,az){var ay=this,aB=az.getBoundingClientRect(),aD,aC;if(ay.config.axis_rotated){aC=ay.isBarType(aE)?4:6;aD=aA[2][1]+aC*(aE.value<0?-1:1)}else{aD=ay.hasType("bar")?(aA[2][0]+aA[0][0])/2:aA[0][0]}if(aE.value===null){if(aD>ay.width){aD=ay.width-aB.width}else{if(aD<0){aD=4}}}return aD};E.getYForText=function(aA,aD,az){var ay=this,aC=az.getBoundingClientRect(),aB;if(ay.config.axis_rotated){aB=(aA[0][0]+aA[2][0]+aC.height*0.6)/2}else{aB=aA[2][1];if(aD.value<0||aD.value===0&&!ay.hasPositiveValue){aB+=aC.height;if(ay.isBarType(aD)&&ay.isSafari()){aB-=3}else{if(!ay.isBarType(aD)&&ay.isChrome()){aB+=3}}}else{aB+=ay.isBarType(aD)?-3:-6}}if(aD.value===null&&!ay.config.axis_rotated){if(aB<aC.height){aB=aC.height}else{if(aB>this.height){aB=this.height-4}}}return aB};E.initTitle=function(){var ay=this;ay.title=ay.svg.append("text").text(ay.config.title_text).attr("class",ay.CLASS.title)};E.redrawTitle=function(){var ay=this;ay.title.attr("x",ay.xForTitle.bind(ay)).attr("y",ay.yForTitle.bind(ay))};E.xForTitle=function(){var aA=this,aB=aA.config,az=aB.title_position||"left",ay;if(az.indexOf("right")>=0){ay=aA.currentWidth-aA.getTextRect(aA.title.node().textContent,aA.CLASS.title,aA.title.node()).width-aB.title_padding.right}else{if(az.indexOf("center")>=0){ay=(aA.currentWidth-aA.getTextRect(aA.title.node().textContent,aA.CLASS.title,aA.title.node()).width)/2}else{ay=aB.title_padding.left}}return ay};E.yForTitle=function(){var ay=this;return ay.config.title_padding.top+ay.getTextRect(ay.title.node().textContent,ay.CLASS.title,ay.title.node()).height};E.getTitlePadding=function(){var ay=this;return ay.yForTitle()+ay.config.title_padding.bottom};E.initTooltip=function(){var ay=this,az=ay.config,aA;ay.tooltip=ay.selectChart.style("position","relative").append("div").attr("class",D.tooltipContainer).style("position","absolute").style("pointer-events","none").style("display","none");if(az.tooltip_init_show){if(ay.isTimeSeries()&&r(az.tooltip_init_x)){az.tooltip_init_x=ay.parseDate(az.tooltip_init_x);for(aA=0;aA<ay.data.targets[0].values.length;aA++){if(ay.data.targets[0].values[aA].x-az.tooltip_init_x===0){break}}az.tooltip_init_x=aA}ay.tooltip.html(az.tooltip_contents.call(ay,ay.data.targets.map(function(aB){return ay.addName(aB.values[az.tooltip_init_x])}),ay.axis.getXAxisTickFormat(),ay.getYFormat(ay.hasArcType()),ay.color));ay.tooltip.style("top",az.tooltip_init_position.top).style("left",az.tooltip_init_position.left).style("display","block")}};E.getTooltipSortFunction=function(){var aB=this,aC=aB.config;if(aC.data_groups.length===0||aC.tooltip_order!==undefined){var aA=aC.tooltip_order;if(aA===undefined){aA=aC.data_order}var az=function az(aE){return aE?aE.value:null};if(r(aA)&&aA.toLowerCase()==="asc"){return function(aF,aE){return az(aF)-az(aE)}}else{if(r(aA)&&aA.toLowerCase()==="desc"){return function(aF,aE){return az(aE)-az(aF)}}else{if(z(aA)){var ay=aA;if(aC.tooltip_order===undefined){ay=function ay(aF,aE){return aA(aF?{id:aF.id,values:[aF]}:null,aE?{id:aE.id,values:[aE]}:null)}}return ay}else{if(K(aA)){return function(aF,aE){return aA.indexOf(aF.id)-aA.indexOf(aE.id)}}}}}}else{var aD=aB.orderTargets(aB.data.targets).map(function(aE){return aE.id});if(aB.isOrderAsc()||aB.isOrderDesc()){aD=aD.reverse()}return function(aF,aE){return aD.indexOf(aF.id)-aD.indexOf(aE.id)}}};E.getTooltipContent=function(aH,az,aB,aD){var aM=this,aA=aM.config,aF=aA.tooltip_format_title||az,aC=aA.tooltip_format_name||function(aO){return aO},aG=aA.tooltip_format_value||aB,aL,aE,aJ,aK,ay,aN;var aI=this.getTooltipSortFunction();if(aI){aH.sort(aI)}for(aE=0;aE<aH.length;aE++){if(!(aH[aE]&&(aH[aE].value||aH[aE].value===0))){continue}if(!aL){aJ=j(aF?aF(aH[aE].x):aH[aE].x);aL="<table class='"+aM.CLASS.tooltip+"'>"+(aJ||aJ===0?"<tr><th colspan='2'>"+aJ+"</th></tr>":"")}aK=j(aG(aH[aE].value,aH[aE].ratio,aH[aE].id,aH[aE].index,aH));if(aK!==undefined){if(aH[aE].name===null){continue}ay=j(aC(aH[aE].name,aH[aE].ratio,aH[aE].id,aH[aE].index));aN=aM.levelColor?aM.levelColor(aH[aE].value):aD(aH[aE].id);aL+="<tr class='"+aM.CLASS.tooltipName+"-"+aM.getTargetSelectorSuffix(aH[aE].id)+"'>";aL+="<td class='name'><span style='background-color:"+aN+"'></span>"+ay+"</td>";aL+="<td class='value'>"+aK+"</td>";aL+="</tr>"}}return aL+"</table>"};E.tooltipPosition=function(az,aG,aI,aF){var aK=this,aB=aK.config,aL=aK.d3;var aD,aJ,aA,aE,aC;var ay=aK.hasArcType(),aH=aL.mouse(aF);if(ay){aJ=(aK.width-(aK.isLegendRight?aK.getLegendWidth():0))/2+aH[0];aE=aK.height/2+aH[1]+20}else{aD=aK.getSvgLeft(true);if(aB.axis_rotated){aJ=aD+aH[0]+100;aA=aJ+aG;aC=aK.currentWidth-aK.getCurrentPaddingRight();aE=aK.x(az[0].x)+20}else{aJ=aD+aK.getCurrentPaddingLeft(true)+aK.x(az[0].x)+20;aA=aJ+aG;aC=aD+aK.currentWidth-aK.getCurrentPaddingRight();aE=aH[1]+15}if(aA>aC){aJ-=aA-aC+20}if(aE+aI>aK.currentHeight){aE-=aI+30}}if(aE<0){aE=0}return{top:aE,left:aJ}};E.showTooltip=function(aF,aC){var aH=this,aB=aH.config;var aD,aG,aE;var az=aH.hasArcType(),ay=aF.filter(function(aI){return aI&&k(aI.value)}),aA=aB.tooltip_position||E.tooltipPosition;if(ay.length===0||!aB.tooltip_show){return}aH.tooltip.html(aB.tooltip_contents.call(aH,aF,aH.axis.getXAxisTickFormat(),aH.getYFormat(az),aH.color)).style("display","block");aD=aH.tooltip.property("offsetWidth");aG=aH.tooltip.property("offsetHeight");aE=aA.call(this,ay,aD,aG,aC);aH.tooltip.style("top",aE.top+"px").style("left",aE.left+"px")};E.hideTooltip=function(){this.tooltip.style("display","none")};E.setTargetType=function(ay,aB){var az=this,aA=az.config;az.mapToTargetIds(ay).forEach(function(aC){az.withoutFadeIn[aC]=aB===aA.data_types[aC];aA.data_types[aC]=aB});if(!ay){aA.data_type=aB}};E.hasType=function(aC,ay){var az=this,aB=az.config.data_types,aA=false;ay=ay||az.data.targets;if(ay&&ay.length){ay.forEach(function(aE){var aD=aB[aE.id];if(aD&&aD.indexOf(aC)>=0||!aD&&aC==="line"){aA=true}})}else{if(Object.keys(aB).length){Object.keys(aB).forEach(function(aD){if(aB[aD]===aC){aA=true}})}else{aA=az.config.data_type===aC}}return aA};E.hasArcType=function(ay){return this.hasType("pie",ay)||this.hasType("donut",ay)||this.hasType("gauge",ay)};E.isLineType=function(az){var ay=this.config,aA=r(az)?az:az.id;return !ay.data_types[aA]||["line","spline","area","area-spline","step","area-step"].indexOf(ay.data_types[aA])>=0};E.isStepType=function(ay){var az=r(ay)?ay:ay.id;return["step","area-step"].indexOf(this.config.data_types[az])>=0};E.isSplineType=function(ay){var az=r(ay)?ay:ay.id;return["spline","area-spline"].indexOf(this.config.data_types[az])>=0};E.isAreaType=function(ay){var az=r(ay)?ay:ay.id;return["area","area-spline","area-step"].indexOf(this.config.data_types[az])>=0};E.isBarType=function(ay){var az=r(ay)?ay:ay.id;return this.config.data_types[az]==="bar"};E.isScatterType=function(ay){var az=r(ay)?ay:ay.id;return this.config.data_types[az]==="scatter"};E.isPieType=function(ay){var az=r(ay)?ay:ay.id;return this.config.data_types[az]==="pie"};E.isGaugeType=function(ay){var az=r(ay)?ay:ay.id;return this.config.data_types[az]==="gauge"};E.isDonutType=function(ay){var az=r(ay)?ay:ay.id;return this.config.data_types[az]==="donut"};E.isArcType=function(ay){return this.isPieType(ay)||this.isDonutType(ay)||this.isGaugeType(ay)};E.lineData=function(ay){return this.isLineType(ay)?[ay]:[]};E.arcData=function(ay){return this.isArcType(ay.data)?[ay]:[]};E.barData=function(ay){return this.isBarType(ay)?ay.values:[]};E.lineOrScatterData=function(ay){return this.isLineType(ay)||this.isScatterType(ay)?ay.values:[]};E.barOrLineData=function(ay){return this.isBarType(ay)||this.isLineType(ay)?ay.values:[]};E.isInterpolationType=function(ay){return["linear","linear-closed","basis","basis-open","basis-closed","bundle","cardinal","cardinal-open","cardinal-closed","monotone"].indexOf(ay)>=0};E.isSafari=function(){var ay=window.navigator.userAgent;return ay.indexOf("Safari")>=0&&ay.indexOf("Chrome")<0};E.isChrome=function(){var ay=window.navigator.userAgent;return ay.indexOf("Chrome")>=0};E.initZoom=function(){var az=this,aB=az.d3,aA=az.config,ay;az.zoom=aB.behavior.zoom().on("zoomstart",function(){ay=aB.event.sourceEvent;az.zoom.altDomain=aB.event.sourceEvent.altKey?az.x.orgDomain():null;aA.zoom_onzoomstart.call(az.api,aB.event.sourceEvent)}).on("zoom",function(){az.redrawForZoom.call(az)}).on("zoomend",function(){var aC=aB.event.sourceEvent;if(aC&&ay.clientX===aC.clientX&&ay.clientY===aC.clientY){return}az.redrawEventRect();az.updateZoom();aA.zoom_onzoomend.call(az.api,az.x.orgDomain())});az.zoom.scale=function(aC){return aA.axis_rotated?this.y(aC):this.x(aC)};az.zoom.orgScaleExtent=function(){var aC=aA.zoom_extent?aA.zoom_extent:[1,10];return[aC[0],Math.max(az.getMaxDataCount()/aC[1],aC[1])]};az.zoom.updateScaleExtent=function(){var aD=P(az.x.orgDomain())/P(az.getZoomDomain()),aC=this.orgScaleExtent();this.scaleExtent([aC[0]*aD,aC[1]*aD]);return this}};E.getZoomDomain=function(){var az=this,aA=az.config,aC=az.d3,aB=aC.min([az.orgXDomain[0],aA.zoom_x_min]),ay=aC.max([az.orgXDomain[1],aA.zoom_x_max]);return[aB,ay]};E.updateZoom=function(){var ay=this,az=ay.config.zoom_enabled?ay.zoom:function(){};ay.main.select("."+D.zoomRect).call(az).on("dblclick.zoom",null);ay.main.selectAll("."+D.eventRect).call(az).on("dblclick.zoom",null)};E.redrawForZoom=function(){var az=this,aB=az.d3,aA=az.config,aC=az.zoom,ay=az.x;if(!aA.zoom_enabled){return}if(az.filterTargetsToShow(az.data.targets).length===0){return}if(aB.event.sourceEvent.type==="mousemove"&&aC.altDomain){ay.domain(aC.altDomain);aC.scale(ay).updateScaleExtent();return}if(az.isCategorized()&&ay.orgDomain()[0]===az.orgXDomain[0]){ay.domain([az.orgXDomain[0]-1e-10,ay.orgDomain()[1]])}az.redraw({withTransition:false,withY:aA.zoom_rescale,withSubchart:false,withEventRect:false,withDimension:false});if(aB.event.sourceEvent.type==="mousemove"){az.cancelClick=true}aA.zoom_onzoom.call(az.api,ay.orgDomain())};return I})))},{d3:30}],30:[function(b,c,a){!function(){var hn={version:"3.5.17"};var bO=[].slice,dO=function(d3){return bO.call(d3)};var bN=this.document;function d7(d3){return d3&&(d3.ownerDocument||d3.document||d3).documentElement}function fx(d3){return d3&&(d3.ownerDocument&&d3.ownerDocument.defaultView||d3.document&&d3||d3.defaultView)}if(bN){try{dO(bN.documentElement.childNodes)[0].nodeType}catch(hc){dO=function(ib){var d3=ib.length,ic=new Array(d3);while(d3--){ic[d3]=ib[d3]}return ic}}}if(!Date.now){Date.now=function(){return +new Date()}}if(bN){try{bN.createElement("DIV").style.setProperty("opacity",0,"")}catch(fv){var dM=this.Element.prototype,b2=dM.setAttribute,g5=dM.setAttributeNS,dA=this.CSSStyleDeclaration.prototype,gN=dA.setProperty;dM.setAttribute=function(d3,ib){b2.call(this,d3,ib+"")};dM.setAttributeNS=function(ic,d3,ib){g5.call(this,ic,d3,ib+"")};dA.setProperty=function(d3,ic,ib){gN.call(this,d3,ic+"",ib)}}}hn.ascending=fh;function fh(ib,d3){return ib<d3?-1:ib>d3?1:ib>=d3?0:NaN}hn.descending=function(ib,d3){return d3<ib?-1:d3>ib?1:d3>=ib?0:NaN};hn.min=function(ig,id){var ic=-1,ie=ig.length,ib,d3;if(arguments.length===1){while(++ic<ie){if((d3=ig[ic])!=null&&d3>=d3){ib=d3;break}}while(++ic<ie){if((d3=ig[ic])!=null&&ib>d3){ib=d3}}}else{while(++ic<ie){if((d3=id.call(ig,ig[ic],ic))!=null&&d3>=d3){ib=d3;break}}while(++ic<ie){if((d3=id.call(ig,ig[ic],ic))!=null&&ib>d3){ib=d3}}}return ib};hn.max=function(ig,id){var ic=-1,ie=ig.length,ib,d3;if(arguments.length===1){while(++ic<ie){if((d3=ig[ic])!=null&&d3>=d3){ib=d3;break}}while(++ic<ie){if((d3=ig[ic])!=null&&d3>ib){ib=d3}}}else{while(++ic<ie){if((d3=id.call(ig,ig[ic],ic))!=null&&d3>=d3){ib=d3;break}}while(++ic<ie){if((d3=id.call(ig,ig[ic],ic))!=null&&d3>ib){ib=d3}}}return ib};hn.extent=function(ih,id){var ic=-1,ig=ih.length,ib,d3,ie;if(arguments.length===1){while(++ic<ig){if((d3=ih[ic])!=null&&d3>=d3){ib=ie=d3;break}}while(++ic<ig){if((d3=ih[ic])!=null){if(ib>d3){ib=d3}if(ie<d3){ie=d3}}}}else{while(++ic<ig){if((d3=id.call(ih,ih[ic],ic))!=null&&d3>=d3){ib=ie=d3;break}}while(++ic<ig){if((d3=id.call(ih,ih[ic],ic))!=null){if(ib>d3){ib=d3}if(ie<d3){ie=d3}}}}return[ib,ie]};function hs(d3){return d3===null?NaN:+d3}function bb(d3){return !isNaN(d3)}hn.sum=function(ig,id){var ic=0,ie=ig.length,d3,ib=-1;if(arguments.length===1){while(++ib<ie){if(bb(d3=+ig[ib])){ic+=d3}}}else{while(++ib<ie){if(bb(d3=+id.call(ig,ig[ib],ib))){ic+=d3}}}return ic};hn.mean=function(ih,ie){var id=0,ig=ih.length,d3,ic=-1,ib=ig;if(arguments.length===1){while(++ic<ig){if(bb(d3=hs(ih[ic]))){id+=d3}else{--ib}}}else{while(++ic<ig){if(bb(d3=hs(ie.call(ih,ih[ic],ic)))){id+=d3}else{--ib}}}if(ib){return id/ib}};hn.quantile=function(ib,ig){var ic=(ib.length-1)*ig+1,id=Math.floor(ic),d3=+ib[id-1],ie=ic-id;return ie?d3+ie*(ib[id]-d3):d3};hn.median=function(ig,id){var ib=[],ie=ig.length,d3,ic=-1;if(arguments.length===1){while(++ic<ie){if(bb(d3=hs(ig[ic]))){ib.push(d3)}}}else{while(++ic<ie){if(bb(d3=hs(id.call(ig,ig[ic],ic)))){ib.push(d3)}}}if(ib.length){return hn.quantile(ib.sort(fh),0.5)}};hn.variance=function(ig,ie){var d3=ig.length,ib=0,ii,ih,ij=0,id=-1,ic=0;if(arguments.length===1){while(++id<d3){if(bb(ii=hs(ig[id]))){ih=ii-ib;ib+=ih/++ic;ij+=ih*(ii-ib)}}}else{while(++id<d3){if(bb(ii=hs(ie.call(ig,ig[id],id)))){ih=ii-ib;ib+=ih/++ic;ij+=ih*(ii-ib)}}}if(ic>1){return ij/(ic-1)}};hn.deviation=function(){var d3=hn.variance.apply(this,arguments);return d3?Math.sqrt(d3):d3};function gn(d3){return{left:function(ic,ib,ig,ie){if(arguments.length<3){ig=0}if(arguments.length<4){ie=ic.length}while(ig<ie){var id=ig+ie>>>1;if(d3(ic[id],ib)<0){ig=id+1}else{ie=id}}return ig},right:function(ic,ib,ig,ie){if(arguments.length<3){ig=0}if(arguments.length<4){ie=ic.length}while(ig<ie){var id=ig+ie>>>1;if(d3(ic[id],ib)>0){ie=id}else{ig=id+1}}return ig}}}var cZ=gn(fh);hn.bisectLeft=cZ.left;hn.bisect=hn.bisectRight=cZ.right;hn.bisector=function(d3){return gn(d3.length===1?function(ic,ib){return fh(d3(ic),ib)}:d3)};hn.shuffle=function(ig,ie,id){if((d3=arguments.length)<3){id=ig.length;if(d3<2){ie=0}}var d3=id-ie,ic,ib;while(d3){ib=Math.random()*d3--|0;ic=ig[d3+ie],ig[d3+ie]=ig[ib+ie],ig[ib+ie]=ic}return ig};hn.permute=function(id,ib){var ic=ib.length,d3=new Array(ic);while(ic--){d3[ic]=id[ib[ic]]}return d3};hn.pairs=function(ig){var d3=0,ie=ig.length-1,id,ic=ig[0],ib=new Array(ie<0?0:ie);while(d3<ie){ib[d3]=[id=ic,ic=ig[++d3]]}return ib};hn.transpose=function(ib){if(!(ih=ib.length)){return[]}for(var id=-1,d3=hn.min(ib,bT),ie=new Array(d3);++id<d3;){for(var ic=-1,ih,ig=ie[id]=new Array(ih);++ic<ih;){ig[ic]=ib[ic][id]}}return ie};function bT(d3){return d3.length}hn.zip=function(){return hn.transpose(arguments)};hn.keys=function(ic){var ib=[];for(var d3 in ic){ib.push(d3)}return ib};hn.values=function(ic){var d3=[];for(var ib in ic){d3.push(ic[ib])}return d3};hn.entries=function(ic){var d3=[];for(var ib in ic){d3.push({key:ib,value:ic[ib]})}return d3};hn.merge=function(ie){var ih=ie.length,ib,id=-1,ic=0,d3,ig;while(++id<ih){ic+=ie[id].length}d3=new Array(ic);while(--ih>=0){ig=ie[ih];ib=ig.length;while(--ib>=0){d3[--ic]=ig[ib]}}return d3};var cG=Math.abs;hn.range=function(ih,ie,ig){if(arguments.length<3){ig=1;if(arguments.length<2){ie=ih;ih=0}}if((ie-ih)/ig===Infinity){throw new Error("infinite range")}var ib=[],d3=gj(cG(ig)),id=-1,ic;ih*=d3,ie*=d3,ig*=d3;if(ig<0){while((ic=ih+ig*++id)>ie){ib.push(ic/d3)}}else{while((ic=ih+ig*++id)<ie){ib.push(ic/d3)}}return ib};function gj(d3){var ib=1;while(d3*ib%1){ib*=10}return ib}function h3(ic,ib){for(var d3 in ib){Object.defineProperty(ic.prototype,d3,{value:ib[d3],enumerable:false})}}hn.map=function(d3,id){var ie=new aH();if(d3 instanceof aH){d3.forEach(function(ii,ij){ie.set(ii,ij)})}else{if(Array.isArray(d3)){var ic=-1,ih=d3.length,ig;if(arguments.length===1){while(++ic<ih){ie.set(ic,d3[ic])}}else{while(++ic<ih){ie.set(id.call(d3,ig=d3[ic],ic),ig)}}}else{for(var ib in d3){ie.set(ib,d3[ib])}}}return ie};function aH(){this._=Object.create(null)}var db="__proto__",cF="\x00";h3(aH,{has:gH,get:function(d3){return this._[a0(d3)]},set:function(d3,ib){return this._[a0(d3)]=ib},remove:cW,keys:fu,values:function(){var d3=[];for(var ib in this._){d3.push(this._[ib])}return d3},entries:function(){var d3=[];for(var ib in this._){d3.push({key:a1(ib),value:this._[ib]})}return d3},size:hF,empty:az,forEach:function(ib){for(var d3 in this._){ib.call(this,a1(d3),this._[d3])}}});function a0(d3){return(d3+="")===db||d3[0]===cF?cF+d3:d3}function a1(d3){return(d3+="")[0]===cF?d3.slice(1):d3}function gH(d3){return a0(d3) in this._}function cW(d3){return(d3=a0(d3)) in this._&&delete this._[d3]}function fu(){var ib=[];for(var d3 in this._){ib.push(a1(d3))}return ib}function hF(){var ib=0;for(var d3 in this._){++ib}return ib}function az(){for(var d3 in this._){return false}return true}hn.nest=function(){var id={},ic=[],ih=[],ib,ie;function ig(ij,ir,ip){if(ip>=ic.length){return ie?ie.call(id,ir):ib?ir.sort(ib):ir}var iq=-1,ii=ir.length,iu=ic[ip++],io,im,il,ik=new aH(),it;while(++iq<ii){if(it=ik.get(io=iu(im=ir[iq]))){it.push(im)}else{ik.set(io,[im])}}if(ij){im=ij();il=function(iw,iv){im.set(iw,ig(ij,iv,ip))}}else{im={};il=function(iw,iv){im[iw]=ig(ij,iv,ip)}}ik.forEach(il);return im}function d3(ij,ik){if(ik>=ic.length){return ij}var il=[],ii=ih[ik++];ij.forEach(function(im,io){il.push({key:im,values:d3(io,ik)})});return ii?il.sort(function(io,im){return ii(io.key,im.key)}):il}id.map=function(ij,ii){return ig(ii,ij,0)};id.entries=function(ii){return d3(ig(hn.map,ii,0),0)};id.key=function(ii){ic.push(ii);return id};id.sortKeys=function(ii){ih[ic.length-1]=ii;return id};id.sortValues=function(ii){ib=ii;return id};id.rollup=function(ii){ie=ii;return id};return id};hn.set=function(id){var ic=new dr();if(id){for(var d3=0,ib=id.length;d3<ib;++d3){ic.add(id[d3])}}return ic};function dr(){this._=Object.create(null)}h3(dr,{has:gH,add:function(d3){this._[a0(d3+="")]=true;return d3},remove:cW,values:fu,size:hF,empty:az,forEach:function(ib){for(var d3 in this._){ib.call(this,a1(d3))}}});hn.behavior={};function gk(d3){return d3}hn.rebind=function(ic,ib){var d3=1,ie=arguments.length,id;while(++d3<ie){ic[id=arguments[d3]]=ez(ic,ib,ib[id])}return ic};function ez(ib,d3,ic){return function(){var id=ic.apply(d3,arguments);return id===d3?ib:id}}function dg(ic,ib){if(ib in ic){return ib}ib=ib.charAt(0).toUpperCase()+ib.slice(1);for(var id=0,ie=J.length;id<ie;++id){var d3=J[id]+ib;if(d3 in ic){return d3}}}var J=["webkit","ms","moz","Moz","o","O"];function aG(){}hn.dispatch=function(){var d3=new eU(),ib=-1,ic=arguments.length;while(++ib<ic){d3[arguments[ib]]=ff(d3)}return d3};function eU(){}eU.prototype.on=function(ic,id){var ib=ic.indexOf("."),d3="";if(ib>=0){d3=ic.slice(ib+1);ic=ic.slice(0,ib)}if(ic){return arguments.length<2?this[ic].on(d3):this[ic].on(d3,id)}if(arguments.length===2){if(id==null){for(ic in this){if(this.hasOwnProperty(ic)){this[ic].on(d3,null)}}}return this}};function ff(d3){var ic=[],ib=new aH();function id(){var ih=ic,ig=-1,ii=ih.length,ie;while(++ig<ii){if(ie=ih[ig].on){ie.apply(this,arguments)}}return d3}id.on=function(ig,ii){var ie=ib.get(ig),ih;if(arguments.length<2){return ie&&ie.on}if(ie){ie.on=null;ic=ic.slice(0,ih=ic.indexOf(ie)).concat(ic.slice(ih+1));ib.remove(ig)}if(ii){ic.push(ib.set(ig,{on:ii}))}return d3};return id}hn.event=null;function v(){hn.event.preventDefault()}function ad(){var ib=hn.event,d3;while(d3=ib.sourceEvent){ib=d3}return ib}function hh(ic){var d3=new eU(),ib=0,id=arguments.length;while(++ib<id){d3[arguments[ib]]=ff(d3)}d3.of=function(ig,ie){return function(ih){try{var ii=ih.sourceEvent=hn.event;ih.target=ic;hn.event=ih;d3[ih.type].apply(ig,ie)}finally{hn.event=ii}}};return d3}hn.requote=function(d3){return d3.replace(c8,"\\$&")};var c8=/[\\\^\$\*\+\?\|\[\]\(\)\.\{\}]/g;var h5={}.__proto__?function(ib,d3){ib.__proto__=d3}:function(ib,d3){for(var ic in d3){ib[ic]=d3[ic]}};function dZ(d3){h5(d3,dY);return d3}var dq=function(d3,ib){return ib.querySelector(d3)},f6=function(d3,ib){return ib.querySelectorAll(d3)},d=function(ic,d3){var ib=ic.matches||ic[dg(ic,"matchesSelector")];d=function(ie,id){return ib.call(ie,id)};return d(ic,d3)};if(typeof Sizzle==="function"){dq=function(d3,ib){return Sizzle(d3,ib)[0]||null};f6=Sizzle;d=Sizzle.matchesSelector}hn.selection=function(){return hn.select(bN.documentElement)};var dY=hn.selection.prototype=[];dY.select=function(ig){var ic=[],ik,d3,ij,id;ig=y(ig);for(var ih=-1,ie=this.length;++ih<ie;){ic.push(ik=[]);ik.parentNode=(ij=this[ih]).parentNode;for(var ii=-1,ib=ij.length;++ii<ib;){if(id=ij[ii]){ik.push(d3=ig.call(id,id.__data__,ii,ih));if(d3&&"__data__" in id){d3.__data__=id.__data__}}else{ik.push(null)}}}return dZ(ic)};function y(d3){return typeof d3==="function"?d3:function(){return dq(d3,this)}}dY.selectAll=function(ie){var ib=[],ij,ic;ie=c1(ie);for(var ig=-1,id=this.length;++ig<id;){for(var ii=this[ig],ih=-1,d3=ii.length;++ih<d3;){if(ic=ii[ih]){ib.push(ij=dO(ie.call(ic,ic.__data__,ih,ig)));ij.parentNode=ic}}}return dZ(ib)};function c1(d3){return typeof d3==="function"?d3:function(){return f6(d3,this)}}var fQ="http://www.w3.org/1999/xhtml";var ed={svg:"http://www.w3.org/2000/svg",xhtml:fQ,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};hn.ns={prefix:ed,qualify:function(d3){var ib=d3.indexOf(":"),ic=d3;if(ib>=0&&(ic=d3.slice(0,ib))!=="xmlns"){d3=d3.slice(ib+1)}return ed.hasOwnProperty(ic)?{space:ed[ic],local:d3}:d3}};dY.attr=function(d3,ic){if(arguments.length<2){if(typeof d3==="string"){var ib=this.node();d3=hn.ns.qualify(d3);return d3.local?ib.getAttributeNS(d3.space,d3.local):ib.getAttribute(d3)}for(ic in d3){this.each(bu(ic,d3[ic]))}return this}return this.each(bu(d3,ic))};function bu(ic,ih){ic=hn.ns.qualify(ic);function ib(){this.removeAttribute(ic)}function ii(){this.removeAttributeNS(ic.space,ic.local)}function ig(){this.setAttribute(ic,ih)}function ie(){this.setAttributeNS(ic.space,ic.local,ih)}function d3(){var ij=ih.apply(this,arguments);if(ij==null){this.removeAttribute(ic)}else{this.setAttribute(ic,ij)}}function id(){var ij=ih.apply(this,arguments);if(ij==null){this.removeAttributeNS(ic.space,ic.local)}else{this.setAttributeNS(ic.space,ic.local,ij)}}return ih==null?ic.local?ii:ib:typeof ih==="function"?ic.local?id:d3:ic.local?ie:ig}function cH(d3){return d3.trim().replace(/\s+/g," ")}dY.classed=function(d3,id){if(arguments.length<2){if(typeof d3==="string"){var ic=this.node(),ie=(d3=gu(d3)).length,ib=-1;if(id=ic.classList){while(++ib<ie){if(!id.contains(d3[ib])){return false}}}else{id=ic.getAttribute("class");while(++ib<ie){if(!gP(d3[ib]).test(id)){return false}}}return true}for(id in d3){this.each(gD(id,d3[id]))}return this}return this.each(gD(d3,id))};function gP(d3){return new RegExp("(?:^|\\s+)"+hn.requote(d3)+"(?:\\s+|$)","g")}function gu(d3){return(d3+"").trim().split(/^|\s+/)}function gD(ib,id){ib=gu(ib).map(h1);var ie=ib.length;function d3(){var ig=-1;while(++ig<ie){ib[ig](this,id)}}function ic(){var ih=-1,ig=id.apply(this,arguments);while(++ih<ie){ib[ih](this,ig)}}return typeof id==="function"?ic:d3}function h1(d3){var ib=gP(d3);return function(ic,id){if(ie=ic.classList){return id?ie.add(d3):ie.remove(d3)}var ie=ic.getAttribute("class")||"";if(id){ib.lastIndex=0;if(!ib.test(ie)){ic.setAttribute("class",cH(ie+" "+d3))}}else{ic.setAttribute("class",cH(ie.replace(ib," ")))}}}dY.style=function(d3,id,ib){var ie=arguments.length;if(ie<3){if(typeof d3!=="string"){if(ie<2){id=""}for(ib in d3){this.each(fK(ib,d3[ib],id))}return this}if(ie<2){var ic=this.node();return fx(ic).getComputedStyle(ic,null).getPropertyValue(d3)}ib=""}return this.each(fK(d3,id,ib))};function fK(ic,ig,id){function ib(){this.style.removeProperty(ic)}function ie(){this.style.setProperty(ic,ig,id)}function d3(){var ih=ig.apply(this,arguments);if(ih==null){this.style.removeProperty(ic)}else{this.style.setProperty(ic,ih,id)}}return ig==null?ib:typeof ig==="function"?d3:ie}dY.property=function(d3,ib){if(arguments.length<2){if(typeof d3==="string"){return this.node()[d3]}for(ib in d3){this.each(hH(ib,d3[ib]))}return this}return this.each(hH(d3,ib))};function hH(ib,id){function d3(){delete this[ib]}function ic(){this[ib]=id}function ie(){var ig=id.apply(this,arguments);if(ig==null){delete this[ib]}else{this[ib]=ig}}return id==null?d3:typeof id==="function"?ie:ic}dY.text=function(d3){return arguments.length?this.each(typeof d3==="function"?function(){var ib=d3.apply(this,arguments);this.textContent=ib==null?"":ib}:d3==null?function(){this.textContent=""}:function(){this.textContent=d3}):this.node().textContent};dY.html=function(d3){return arguments.length?this.each(typeof d3==="function"?function(){var ib=d3.apply(this,arguments);this.innerHTML=ib==null?"":ib}:d3==null?function(){this.innerHTML=""}:function(){this.innerHTML=d3}):this.node().innerHTML};dY.append=function(d3){d3=aC(d3);return this.select(function(){return this.appendChild(d3.apply(this,arguments))})};function aC(d3){function ib(){var id=this.ownerDocument,ie=this.namespaceURI;return ie===fQ&&id.documentElement.namespaceURI===fQ?id.createElement(d3):id.createElementNS(ie,d3)}function ic(){return this.ownerDocument.createElementNS(d3.space,d3.local)}return typeof d3==="function"?d3:(d3=hn.ns.qualify(d3)).local?ic:ib}dY.insert=function(d3,ib){d3=aC(d3);ib=y(ib);return this.select(function(){return this.insertBefore(d3.apply(this,arguments),ib.apply(this,arguments)||null)})};dY.remove=function(){return this.each(ej)};function ej(){var d3=this.parentNode;if(d3){d3.removeChild(this)}}dY.data=function(ii,ik){var ie=-1,ib=this.length,ij,ic;if(!arguments.length){ii=new Array(ib=(ij=this[0]).length);while(++ie<ib){if(ic=ij[ie]){ii[ie]=ic.__data__}}return ii}function ig(iw,iq){var it,im=iw.length,ip=iq.length,iv=Math.min(im,ip),iz=new Array(ip),ix=new Array(ip),iu=new Array(im),io,il;if(ik){var iA=new aH(),iy=new Array(im),ir;for(it=-1;++it<im;){if(io=iw[it]){if(iA.has(ir=ik.call(io,io.__data__,it))){iu[it]=io}else{iA.set(ir,io)}iy[it]=ir}}for(it=-1;++it<ip;){if(!(io=iA.get(ir=ik.call(iq,il=iq[it],it)))){ix[it]=K(il)}else{if(io!==true){iz[it]=io;io.__data__=il}}iA.set(ir,true)}for(it=-1;++it<im;){if(it in iy&&iA.get(iy[it])!==true){iu[it]=iw[it]}}}else{for(it=-1;++it<iv;){io=iw[it];il=iq[it];if(io){io.__data__=il;iz[it]=io}else{ix[it]=K(il)}}for(;it<ip;++it){ix[it]=K(iq[it])}for(;it<im;++it){iu[it]=iw[it]}}ix.update=iz;ix.parentNode=iz.parentNode=iu.parentNode=iw.parentNode;ih.push(ix);id.push(iz);d3.push(iu)}var ih=bV([]),id=dZ([]),d3=dZ([]);if(typeof ii==="function"){while(++ie<ib){ig(ij=this[ie],ii.call(ij,ij.parentNode.__data__,ie))}}else{while(++ie<ib){ig(ij=this[ie],ii)}}id.enter=function(){return ih};id.exit=function(){return d3};return id};function K(d3){return{__data__:d3}}dY.datum=function(d3){return arguments.length?this.property("__data__",d3):this.property("__data__")};dY.filter=function(d3){var ic=[],ij,ii,id;if(typeof d3!=="function"){d3=a8(d3)}for(var ig=0,ie=this.length;ig<ie;ig++){ic.push(ij=[]);ij.parentNode=(ii=this[ig]).parentNode;for(var ih=0,ib=ii.length;ih<ib;ih++){if((id=ii[ih])&&d3.call(id,id.__data__,ih,ig)){ij.push(id)}}}return dZ(ic)};function a8(d3){return function(){return d(this,d3)}}dY.order=function(){for(var ib=-1,d3=this.length;++ib<d3;){for(var ig=this[ib],ic=ig.length-1,id=ig[ic],ie;--ic>=0;){if(ie=ig[ic]){if(id&&id!==ie.nextSibling){id.parentNode.insertBefore(ie,id)}id=ie}}}return this};dY.sort=function(ib){ib=gM.apply(this,arguments);for(var ic=-1,d3=this.length;++ic<d3;){this[ic].sort(ib)}return this.order()};function gM(d3){if(!arguments.length){d3=fh}return function(ic,ib){return ic&&ib?d3(ic.__data__,ib.__data__):!ic-!ib}}dY.each=function(d3){return cI(this,function(id,ic,ib){d3.call(id,id.__data__,ic,ib)})};function cI(ib,ii){for(var ic=0,d3=ib.length;ic<d3;ic++){for(var ig=ib[ic],id=0,ih=ig.length,ie;id<ih;id++){if(ie=ig[id]){ii(ie,id,ic)}}}return ib}dY.call=function(ib){var d3=dO(arguments);ib.apply(d3[0]=this,d3);return this};dY.empty=function(){return !this.node()};dY.node=function(){for(var ib=0,d3=this.length;ib<d3;ib++){for(var ie=this[ib],ic=0,ig=ie.length;ic<ig;ic++){var id=ie[ic];if(id){return id}}}return null};dY.size=function(){var d3=0;cI(this,function(){++d3});return d3};function bV(d3){h5(d3,e3);return d3}var e3=[];hn.selection.enter=bV;hn.selection.enter.prototype=e3;e3.append=dY.append;e3.empty=dY.empty;e3.node=dY.node;e3.call=dY.call;e3.size=dY.size;e3.select=function(ig){var ic=[],il,d3,ij,ik,ie;for(var ih=-1,id=this.length;++ih<id;){ij=(ik=this[ih]).update;ic.push(il=[]);il.parentNode=ik.parentNode;for(var ii=-1,ib=ik.length;++ii<ib;){if(ie=ik[ii]){il.push(ij[ii]=d3=ig.call(ik.parentNode,ie.__data__,ii,ih));d3.__data__=ie.__data__}else{il.push(null)}}}return dZ(ic)};e3.insert=function(d3,ib){if(arguments.length<2){ib=gt(this)}return dY.insert.call(this,d3,ib)};function gt(ic){var d3,ib;return function(ii,ie,id){var ih=ic[id].update,ij=ih.length,ig;if(id!=ib){ib=id,d3=0}if(ie>=d3){d3=ie+1}while(!(ig=ih[d3])&&++d3<ij){}return ig}}hn.select=function(d3){var ib;if(typeof d3==="string"){ib=[dq(d3,bN)];ib.parentNode=bN.documentElement}else{ib=[d3];ib.parentNode=d7(d3)}return dZ([ib])};hn.selectAll=function(d3){var ib;if(typeof d3==="string"){ib=dO(f6(d3,bN));ib.parentNode=bN.documentElement}else{ib=dO(d3);ib.parentNode=null}return dZ([ib])};dY.on=function(ib,ic,d3){var id=arguments.length;if(id<3){if(typeof ib!=="string"){if(id<2){ic=false}for(d3 in ib){this.each(l(d3,ib[d3],ic))}return this}if(id<2){return(id=this.node()["__on"+ib])&&id._}d3=false}return this.each(l(ib,ic,d3))};function l(ij,id,ik){var d3="__on"+ij,ig=ij.indexOf("."),ib=fp;if(ig>0){ij=ij.slice(0,ig)}var ic=bJ.get(ij);if(ic){ij=ic,ib=ao}function ie(){var il=this[d3];if(il){this.removeEventListener(ij,il,il.$);delete this[d3]}}function ii(){var il=ib(id,dO(arguments));ie.call(this);this.addEventListener(ij,this[d3]=il,il.$=ik);il._=id}function ih(){var ip=new RegExp("^__on([^.]+)"+hn.requote(ij)+"$"),io;for(var im in this){if(io=im.match(ip)){var il=this[im];this.removeEventListener(io[1],il,il.$);delete this[im]}}}return ig?id?ii:ie:id?aG:ih}var bJ=hn.map({mouseenter:"mouseover",mouseleave:"mouseout"});if(bN){bJ.forEach(function(d3){if("on"+d3 in bN){bJ.remove(d3)}})}function fp(ib,d3){return function(ic){var id=hn.event;hn.event=ic;d3[0]=this.__data__;try{ib.apply(this,d3)}finally{hn.event=id}}}function ao(ic,d3){var ib=fp(ic,d3);return function(ig){var ie=this,id=ig.relatedTarget;if(!id||id!==ie&&!(id.compareDocumentPosition(ie)&8)){ib.call(ie,ig)}}}var cc,gJ=0;function bK(ig){var ic=".dragsuppress-"+ ++gJ,ie="click"+ic,ib=hn.select(fx(ig)).on("touchmove"+ic,v).on("dragstart"+ic,v).on("selectstart"+ic,v);if(cc==null){cc="onselectstart" in ig?false:dg(ig.style,"userSelect")}if(cc){var id=d7(ig).style,d3=id[cc];id[cc]="none"}return function(ih){ib.on(ic,null);if(cc){id[cc]=d3}if(ih){var ii=function(){ib.on(ie,null)};ib.on(ie,function(){v();ii()},true);setTimeout(ii,0)}}}hn.mouse=function(d3){return aX(d3,ad())};var cD=this.navigator&&/WebKit/.test(this.navigator.userAgent)?-1:0;function aX(ic,ih){if(ih.changedTouches){ih=ih.changedTouches[0]}var id=ic.ownerSVGElement||ic;if(id.createSVGPoint){var d3=id.createSVGPoint();if(cD<0){var ig=fx(ic);if(ig.scrollX||ig.scrollY){id=hn.select("body").append("svg").style({position:"absolute",top:0,left:0,margin:0,padding:0,border:"none"},"important");var ib=id[0][0].getScreenCTM();cD=!(ib.f||ib.e);id.remove()}}if(cD){d3.x=ih.pageX,d3.y=ih.pageY}else{d3.x=ih.clientX,d3.y=ih.clientY}d3=d3.matrixTransform(ic.getScreenCTM().inverse());return[d3.x,d3.y]}var ie=ic.getBoundingClientRect();return[ih.clientX-ie.left-ic.clientLeft,ih.clientY-ie.top-ic.clientTop]}hn.touch=function(d3,id,ib){if(arguments.length<3){ib=id,id=ad().changedTouches}if(id){for(var ic=0,ig=id.length,ie;ic<ig;++ic){if((ie=id[ic]).identifier===ib){return aX(d3,ie)}}}};hn.behavior.drag=function(){var ie=hh(id,"drag","dragstart","dragend"),d3=null,ib=ic(aG,hn.mouse,fx,"mousemove","mouseup"),ig=ic(hl,hn.touch,gk,"touchmove","touchend");function id(){this.on("mousedown.drag",ib).on("touchstart.drag",ig)}function ic(il,ih,ik,ij,ii){return function(){var iu=this,iv=hn.event.target.correspondingElement||hn.event.target,iA=iu.parentNode,iw=ie.of(iu,arguments),iy=0,io=il(),im=".drag"+(io==null?"":"-"+io),ir,ip=hn.select(ik(iv)).on(ij+im,ix).on(ii+im,iz),it=bK(iv),iq=ih(iA,io);if(d3){ir=d3.apply(iu,arguments);ir=[ir.x-iq[0],ir.y-iq[1]]}else{ir=[0,0]}iw({type:"dragstart"});function ix(){var iC=ih(iA,io),iD,iB;if(!iC){return}iD=iC[0]-iq[0];iB=iC[1]-iq[1];iy|=iD|iB;iq=iC;iw({type:"drag",x:iC[0]+ir[0],y:iC[1]+ir[1],dx:iD,dy:iB})}function iz(){if(!ih(iA,io)){return}ip.on(ij+im,null).on(ii+im,null);it(iy);iw({type:"dragend"})}}}id.origin=function(ih){if(!arguments.length){return d3}d3=ih;return id};return hn.rebind(id,ie,"on")};function hl(){return hn.event.changedTouches[0].identifier}hn.touches=function(d3,ib){if(arguments.length<2){ib=ad().touches}return ib?dO(ib).map(function(id){var ic=aX(d3,id);ic.identifier=id.identifier;return ic}):[]};var gm=0.000001,eD=gm*gm,gd=Math.PI,f7=2*gd,gE=f7-gm,ep=gd/2,I=gd/180,hE=180/gd;function b9(d3){return d3>0?1:d3<0?-1:0}function eZ(ib,d3,ic){return(d3[0]-ib[0])*(ic[1]-ib[1])-(d3[1]-ib[1])*(ic[0]-ib[0])}function ac(d3){return d3>1?0:d3<-1?gd:Math.acos(d3)}function cf(d3){return d3>1?ep:d3<-1?-ep:Math.asin(d3)}function dW(d3){return((d3=Math.exp(d3))-1/d3)/2}function bE(d3){return((d3=Math.exp(d3))+1/d3)/2}function fr(d3){return((d3=Math.exp(2*d3))-1)/(d3+1)}function aD(d3){return(d3=Math.sin(d3/2))*d3}var ga=Math.SQRT2,Z=2,X=4;hn.interpolateZoom=function(ib,d3){var il=ib[0],ir=ib[1],ij=ib[2],ik=d3[0],iq=d3[1],ih=d3[2],ii=ik-il,ig=iq-ir,it=ii*ii+ig*ig,io,ic;if(it<eD){ic=Math.log(ih/ij)/ga;io=function(iv){return[il+iv*ii,ir+iv*ig,ij*Math.exp(ga*iv*ic)]}}else{var iu=Math.sqrt(it),ie=(ih*ih-ij*ij+X*it)/(2*ij*Z*iu),id=(ih*ih-ij*ij-X*it)/(2*ih*Z*iu),ip=Math.log(Math.sqrt(ie*ie+1)-ie),im=Math.log(Math.sqrt(id*id+1)-id);ic=(im-ip)/ga;io=function(iw){var ix=iw*ic,iy=bE(ip),iv=ij/(Z*iu)*(iy*fr(ga*ix+ip)-dW(ip));return[il+iv*ii,ir+iv*ig,ij*iy/bE(ga*ix+ip)]}}io.duration=ic*1000;return io};hn.behavior.zoom=function(){var ip={x:0,y:0,k:1},iG,il,iI,iv=[960,500],id=fU,d3=250,iF=0,iz="mousedown.zoom",iH="mousemove.zoom",iA="mouseup.zoom",iw,iD="touchstart.zoom",ik,iB=hh(ic,"zoomstart","zoom","zoomend"),iE,iC,ii,ig;if(!g4){g4="onwheel" in bN?(cx=function(){return -hn.event.deltaY*(hn.event.deltaMode?120:1)},"wheel"):"onmousewheel" in bN?(cx=function(){return hn.event.wheelDelta},"mousewheel"):(cx=function(){return -hn.event.detail},"MozMousePixelScroll")}function ic(iK){iK.on(iz,ie).on(g4+".zoom",iq).on("dblclick.zoom",im).on(iD,ih)}ic.event=function(iK){iK.each(function(){var iM=iB.of(this,arguments),iL=ip;if(aq){hn.select(this).transition().each("start.zoom",function(){ip=this.__chart__||{x:0,y:0,k:1};ix(iM)}).tween("zoom:zoom",function(){var iP=iv[0],iO=iv[1],iN=il?il[0]:iP/2,iR=il?il[1]:iO/2,iQ=hn.interpolateZoom([(iN-ip.x)/ip.k,(iR-ip.y)/ip.k,iP/ip.k],[(iN-iL.x)/iL.k,(iR-iL.y)/iL.k,iP/iL.k]);return function(iU){var iS=iQ(iU),iT=iP/iS[2];this.__chart__=ip={x:iN-iS[0]*iT,y:iR-iS[1]*iT,k:iT};iu(iM)}}).each("interrupt.zoom",function(){it(iM)}).each("end.zoom",function(){it(iM)})}else{this.__chart__=ip;ix(iM);iu(iM);it(iM)}})};ic.translate=function(iK){if(!arguments.length){return[ip.x,ip.y]}ip={x:+iK[0],y:+iK[1],k:ip.k};io();return ic};ic.scale=function(iK){if(!arguments.length){return ip.k}ip={x:ip.x,y:ip.y,k:null};ij(+iK);io();return ic};ic.scaleExtent=function(iK){if(!arguments.length){return id}id=iK==null?fU:[+iK[0],+iK[1]];return ic};ic.center=function(iK){if(!arguments.length){return iI}iI=iK&&[+iK[0],+iK[1]];return ic};ic.size=function(iK){if(!arguments.length){return iv}iv=iK&&[+iK[0],+iK[1]];return ic};ic.duration=function(iK){if(!arguments.length){return d3}d3=+iK;return ic};ic.x=function(iK){if(!arguments.length){return iC}iC=iK;iE=iK.copy();ip={x:0,y:0,k:1};return ic};ic.y=function(iK){if(!arguments.length){return ig}ig=iK;ii=iK.copy();ip={x:0,y:0,k:1};return ic};function ib(iK){return[(iK[0]-ip.x)/ip.k,(iK[1]-ip.y)/ip.k]}function iy(iK){return[iK[0]*ip.k+ip.x,iK[1]*ip.k+ip.y]}function ij(iK){ip.k=Math.max(id[0],Math.min(id[1],iK))}function iJ(iL,iK){iK=iy(iK);ip.x+=iL[0]-iK[0];ip.y+=iL[1]-iK[1]}function ir(iM,iN,iK,iL){iM.__chart__={x:ip.x,y:ip.y,k:ip.k};ij(Math.pow(2,iL));iJ(il=iN,iK);iM=hn.select(iM);if(d3>0){iM=iM.transition().duration(d3)}iM.call(ic.event)}function io(){if(iC){iC.domain(iE.range().map(function(iK){return(iK-ip.x)/ip.k}).map(iE.invert))}if(ig){ig.domain(ii.range().map(function(iK){return(iK-ip.y)/ip.k}).map(ii.invert))}}function ix(iK){if(!iF++){iK({type:"zoomstart"})}}function iu(iK){io();iK({type:"zoom",scale:ip.k,translate:[ip.x,ip.y]})}function it(iK){if(!--iF){iK({type:"zoomend"}),il=null}}function ie(){var iQ=this,iM=iB.of(iQ,arguments),iK=0,iN=hn.select(fx(iQ)).on(iH,iO).on(iA,iR),iL=ib(hn.mouse(iQ)),iP=bK(iQ);cU.call(iQ);ix(iM);function iO(){iK=1;iJ(hn.mouse(iQ),iL);iu(iM)}function iR(){iN.on(iH,null).on(iA,null);iP(iK);it(iM)}}function ih(){var iQ=this,iS=iB.of(iQ,arguments),iO={},iU=0,iR,iL=".zoom-"+hn.event.changedTouches[0].identifier,iM="touchmove"+iL,iY="touchend"+iL,iP=[],iV=hn.select(iQ),iN=bK(iQ);iT();ix(iS);iV.on(iz,null).on(iD,iT);function iK(){var iZ=hn.touches(iQ);iR=ip.k;iZ.forEach(function(i0){if(i0.identifier in iO){iO[i0.identifier]=ib(i0)}});return iZ}function iT(){var i6=hn.event.target;hn.select(i6).on(iM,iW).on(iY,iX);iP.push(i6);var i3=hn.event.changedTouches;for(var i4=0,i2=i3.length;i4<i2;++i4){iO[i3[i4].identifier]=null}var i5=iK(),i1=Date.now();if(i5.length===1){if(i1-ik<500){var i0=i5[0];ir(iQ,i0,iO[i0.identifier],Math.floor(Math.log(ip.k)/Math.LN2)+1);v()}ik=i1}else{if(i5.length>1){var i0=i5[0],iZ=i5[1],i8=i0[0]-iZ[0],i7=i0[1]-iZ[1];iU=i8*i8+i7*i7}}}function iW(){var i3=hn.touches(iQ),i7,i1,i6,i0;cU.call(iQ);for(var i2=0,iZ=i3.length;i2<iZ;++i2,i0=null){i6=i3[i2];if(i0=iO[i6.identifier]){if(i1){break}i7=i6,i1=i0}}if(i0){var i5=(i5=i6[0]-i7[0])*i5+(i5=i6[1]-i7[1])*i5,i4=iU&&Math.sqrt(i5/iU);i7=[(i7[0]+i6[0])/2,(i7[1]+i6[1])/2];i1=[(i1[0]+i0[0])/2,(i1[1]+i0[1])/2];ij(i4*iR)}ik=null;iJ(i7,i1);iu(iS)}function iX(){if(hn.event.touches.length){var i1=hn.event.changedTouches;for(var i0=0,i2=i1.length;i0<i2;++i0){delete iO[i1[i0].identifier]}for(var iZ in iO){return void iK()}}hn.selectAll(iP).on(iL,null);iV.on(iz,ie).on(iD,ih);iN();it(iS)}}function iq(){var iK=iB.of(this,arguments);if(iw){clearTimeout(iw)}else{cU.call(this),iG=ib(il=iI||hn.mouse(this)),ix(iK)}iw=setTimeout(function(){iw=null;it(iK)},50);v();ij(Math.pow(2,cx()*0.002)*ip.k);iJ(il,iG);iu(iK)}function im(){var iL=hn.mouse(this),iK=Math.log(ip.k)/Math.LN2;ir(this,iL,ib(iL),hn.event.shiftKey?Math.ceil(iK)-1:Math.floor(iK)+1)}return hn.rebind(ic,iB,"on")};var fU=[0,Infinity],cx,g4;hn.color=gU;function gU(){}gU.prototype.toString=function(){return this.rgb()+""};hn.hsl=eH;function eH(ic,ib,d3){return this instanceof eH?void (this.h=+ic,this.s=+ib,this.l=+d3):arguments.length<2?ic instanceof eH?new eH(ic.h,ic.s,ic.l):aW(""+ic,gw,eH):new eH(ic,ib,d3)}var ex=eH.prototype=new gU();ex.brighter=function(d3){d3=Math.pow(0.7,arguments.length?d3:1);return new eH(this.h,this.s,this.l/d3)};ex.darker=function(d3){d3=Math.pow(0.7,arguments.length?d3:1);return new eH(this.h,this.s,d3*this.l)};ex.rgb=function(){return bg(this.h,this.s,this.l)};function bg(ig,ie,d3){var id,ic;ig=isNaN(ig)?0:(ig%=360)<0?ig+360:ig;ie=isNaN(ie)?0:ie<0?0:ie>1?1:ie;d3=d3<0?0:d3>1?1:d3;ic=d3<=0.5?d3*(1+ie):d3+ie-d3*ie;id=2*d3-ic;function ib(ii){if(ii>360){ii-=360}else{if(ii<0){ii+=360}}if(ii<60){return id+(ic-id)*ii/60}if(ii<180){return ic}if(ii<240){return id+(ic-id)*(240-ii)/60}return id}function ih(ii){return Math.round(ib(ii)*255)}return new er(ih(ig+120),ih(ig),ih(ig-120))}hn.hcl=bC;function bC(ib,ic,d3){return this instanceof bC?void (this.h=+ib,this.c=+ic,this.l=+d3):arguments.length<2?ib instanceof bC?new bC(ib.h,ib.c,ib.l):ib instanceof cn?gG(ib.l,ib.a,ib.b):gG((ib=d0((ib=hn.rgb(ib)).r,ib.g,ib.b)).l,ib.a,ib.b):new bC(ib,ic,d3)}var hf=bC.prototype=new gU();hf.brighter=function(d3){return new bC(this.h,this.c,Math.min(100,this.l+bs*(arguments.length?d3:1)))};hf.darker=function(d3){return new bC(this.h,this.c,Math.max(0,this.l-bs*(arguments.length?d3:1)))};hf.rgb=function(){return bD(this.h,this.c,this.l).rgb()};function bD(ib,ic,d3){if(isNaN(ib)){ib=0}if(isNaN(ic)){ic=0}return new cn(d3,Math.cos(ib*=I)*ic,Math.sin(ib)*ic)}hn.lab=cn;function cn(ic,ib,d3){return this instanceof cn?void (this.l=+ic,this.a=+ib,this.b=+d3):arguments.length<2?ic instanceof cn?new cn(ic.l,ic.a,ic.b):ic instanceof bC?bD(ic.h,ic.c,ic.l):d0((ic=er(ic)).r,ic.g,ic.b):new cn(ic,ib,d3)}var bs=18;var bh=0.95047,bf=1,bc=1.08883;var gx=cn.prototype=new gU();gx.brighter=function(d3){return new cn(Math.min(100,this.l+bs*(arguments.length?d3:1)),this.a,this.b)};gx.darker=function(d3){return new cn(Math.max(0,this.l-bs*(arguments.length?d3:1)),this.a,this.b)};gx.rgb=function(){return aB(this.l,this.a,this.b)};function aB(id,ic,ib){var ig=(id+16)/116,d3=ig+ic/500,ie=ig-ib/200;d3=g0(d3)*bh;ig=g0(ig)*bf;ie=g0(ie)*bc;return new er(g(3.2404542*d3-1.5371385*ig-0.4985314*ie),g(-0.969266*d3+1.8760108*ig+0.041556*ie),g(0.0556434*d3-0.2040259*ig+1.0572252*ie))}function gG(ic,ib,d3){return ic>0?new bC(Math.atan2(d3,ib)*hE,Math.sqrt(ib*ib+d3*d3),ic):new bC(NaN,NaN,ic)}function g0(d3){return d3>0.206893034?d3*d3*d3:(d3-4/29)/7.787037}function gp(d3){return d3>0.008856?Math.pow(d3,1/3):7.787037*d3+4/29}function g(d3){return Math.round(255*(d3<=0.00304?12.92*d3:1.055*Math.pow(d3,1/2.4)-0.055))}hn.rgb=er;function er(ic,ib,d3){return this instanceof er?void (this.r=~~ic,this.g=~~ib,this.b=~~d3):arguments.length<2?ic instanceof er?new er(ic.r,ic.g,ic.b):aW(""+ic,er,bg):new er(ic,ib,d3)}function de(d3){return new er(d3>>16,d3>>8&255,d3&255)}function dw(d3){return de(d3)+""}var eI=er.prototype=new gU();eI.brighter=function(ib){ib=Math.pow(0.7,arguments.length?ib:1);var ie=this.r,id=this.g,d3=this.b,ic=30;if(!ie&&!id&&!d3){return new er(ic,ic,ic)}if(ie&&ie<ic){ie=ic}if(id&&id<ic){id=ic}if(d3&&d3<ic){d3=ic}return new er(Math.min(255,ie/ib),Math.min(255,id/ib),Math.min(255,d3/ib))};eI.darker=function(d3){d3=Math.pow(0.7,arguments.length?d3:1);return new er(d3*this.r,d3*this.g,d3*this.b)};eI.hsl=function(){return gw(this.r,this.g,this.b)};eI.toString=function(){return"#"+cv(this.r)+cv(this.g)+cv(this.b)};function cv(d3){return d3<16?"0"+Math.max(0,d3).toString(16):Math.min(255,d3).toString(16)}function aW(ig,id,ih){var d3=0,ic=0,ie=0,ij,ii,ib;ij=/([a-z]+)\((.*)\)/.exec(ig=ig.toLowerCase());if(ij){ii=ij[2].split(",");switch(ij[1]){case"hsl":return ih(parseFloat(ii[0]),parseFloat(ii[1])/100,parseFloat(ii[2])/100);case"rgb":return id(eW(ii[0]),eW(ii[1]),eW(ii[2]))}}if(ib=al.get(ig)){return id(ib.r,ib.g,ib.b)}if(ig!=null&&ig.charAt(0)==="#"&&!isNaN(ib=parseInt(ig.slice(1),16))){if(ig.length===4){d3=(ib&3840)>>4;d3=d3>>4|d3;ic=ib&240;ic=ic>>4|ic;ie=ib&15;ie=ie<<4|ie}else{if(ig.length===7){d3=(ib&16711680)>>16;ic=(ib&65280)>>8;ie=ib&255}}}return id(d3,ic,ie)}function gw(d3,ie,ih){var ic=Math.min(d3/=255,ie/=255,ih/=255),ii=Math.max(d3,ie,ih),ig=ii-ic,id,ij,ib=(ii+ic)/2;if(ig){ij=ib<0.5?ig/(ii+ic):ig/(2-ii-ic);if(d3==ii){id=(ie-ih)/ig+(ie<ih?6:0)}else{if(ie==ii){id=(ih-d3)/ig+2}else{id=(d3-ie)/ig+4}}id*=60}else{id=NaN;ij=ib>0&&ib<1?0:id}return new eH(id,ij,ib)}function d0(id,ic,ib){id=dD(id);ic=dD(ic);ib=dD(ib);var d3=gp((0.4124564*id+0.3575761*ic+0.1804375*ib)/bh),ig=gp((0.2126729*id+0.7151522*ic+0.072175*ib)/bf),ie=gp((0.0193339*id+0.119192*ic+0.9503041*ib)/bc);return cn(116*ig-16,500*(d3-ig),200*(ig-ie))}function dD(d3){return(d3/=255)<=0.04045?d3/12.92:Math.pow((d3+0.055)/1.055,2.4)}function eW(ib){var d3=parseFloat(ib);return ib.charAt(ib.length-1)==="%"?Math.round(d3*2.55):d3}var al=hn.map({aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074});al.forEach(function(d3,ib){al.set(d3,de(ib))});function Q(d3){return typeof d3==="function"?d3:function(){return d3}}hn.functor=Q;hn.xhr=W(gk);function W(d3){return function(ib,ic,id){if(arguments.length===2&&typeof ic==="function"){id=ic,ic=null}return hY(ib,ic,d3,id)}}function hY(d3,ic,ie,ij){var ik={},ii=hn.dispatch("beforesend","progress","load","error"),id={},ig=new XMLHttpRequest(),ih=null;if(this.XDomainRequest&&!("withCredentials" in ig)&&/^(http(s)?:)?\/\//.test(d3)){ig=new XDomainRequest()}"onload" in ig?ig.onload=ig.onerror=ib:ig.onreadystatechange=function(){ig.readyState>3&&ib()};function ib(){var im=ig.status,il;if(!im&&fH(ig)||im>=200&&im<300||im===304){try{il=ie.call(ik,ig)}catch(io){ii.error.call(ik,io);return}ii.load.call(ik,il)}else{ii.error.call(ik,ig)}}ig.onprogress=function(il){var im=hn.event;hn.event=il;try{ii.progress.call(ik,ig)}finally{hn.event=im}};ik.header=function(il,im){il=(il+"").toLowerCase();if(arguments.length<2){return id[il]}if(im==null){delete id[il]}else{id[il]=im+""}return ik};ik.mimeType=function(il){if(!arguments.length){return ic}ic=il==null?null:il+"";return ik};ik.responseType=function(il){if(!arguments.length){return ih}ih=il;return ik};ik.response=function(il){ie=il;return ik};["get","post"].forEach(function(il){ik[il]=function(){return ik.send.apply(ik,[il].concat(dO(arguments)))}});ik.send=function(ip,im,io){if(arguments.length===2&&typeof im==="function"){io=im,im=null}ig.open(ip,d3,true);if(ic!=null&&!("accept" in id)){id.accept=ic+",*/*"}if(ig.setRequestHeader){for(var il in id){ig.setRequestHeader(il,id[il])}}if(ic!=null&&ig.overrideMimeType){ig.overrideMimeType(ic)}if(ih!=null){ig.responseType=ih}if(io!=null){ik.on("error",io).on("load",function(iq){io(null,iq)})}ii.beforesend.call(ik,ig);ig.send(im==null?null:im);return ik};ik.abort=function(){ig.abort();return ik};hn.rebind(ik,ii,"on");return ij==null?ik:ik.get(d6(ij))}function d6(d3){return d3.length===1?function(ib,ic){d3(ib==null?ic:null)}:d3}function fH(ib){var d3=ib.responseType;return d3&&d3!=="text"?ib.response:ib.responseText}hn.dsv=function(d3,ib){var id=new RegExp('["'+d3+"\n]"),ig=d3.charCodeAt(0);function ii(ik,im,io){if(arguments.length<3){io=im,im=null}var il=hY(ik,ib,im==null?ie:ic(im),io);il.row=function(ip){return arguments.length?il.response((im=ip)==null?ie:ic(ip)):im};return il}function ie(ik){return ii.parse(ik.responseText)}function ic(ik){return function(il){return ii.parse(il.responseText,ik)}}ii.parse=function(im,ik){var il;return ii.parseRows(im,function(iq,ip){if(il){return il(iq,ip-1)}var io=new Function("d","return {"+iq.map(function(ir,it){return JSON.stringify(ir)+": d["+it+"]"}).join(",")+"}");il=ik?function(it,ir){return ik(io(it),ir)}:io})};ii.parseRows=function(iv,ip){var il={},io={},ix=[],iq=iv.length,iu=0,ik=0,iw,ir;function im(){if(iu>=iq){return io}if(ir){return ir=false,il}var iz=iu;if(iv.charCodeAt(iz)===34){var iA=iz;while(iA++<iq){if(iv.charCodeAt(iA)===34){if(iv.charCodeAt(iA+1)!==34){break}++iA}}iu=iA+2;var iB=iv.charCodeAt(iA+1);if(iB===13){ir=true;if(iv.charCodeAt(iA+2)===10){++iu}}else{if(iB===10){ir=true}}return iv.slice(iz+1,iA).replace(/""/g,'"')}while(iu<iq){var iB=iv.charCodeAt(iu++),iy=1;if(iB===10){ir=true}else{if(iB===13){ir=true;if(iv.charCodeAt(iu)===10){++iu,++iy}}else{if(iB!==ig){continue}}}return iv.slice(iz,iu-iy)}return iv.slice(iz)}while((iw=im())!==io){var it=[];while(iw!==il&&iw!==io){it.push(iw);iw=im()}if(ip&&(it=ip(it,ik++))==null){continue}ix.push(it)}return ix};ii.format=function(im){if(Array.isArray(im[0])){return ii.formatRows(im)}var il=new dr(),ik=[];im.forEach(function(ip){for(var io in ip){if(!il.has(io)){ik.push(il.add(io))}}});return[ik.map(ih).join(d3)].concat(im.map(function(io){return ik.map(function(ip){return ih(io[ip])}).join(d3)})).join("\n")};ii.formatRows=function(ik){return ik.map(ij).join("\n")};function ij(ik){return ik.map(ih).join(d3)}function ih(ik){return id.test(ik)?'"'+ik.replace(/\"/g,'""')+'"':ik}return ii};hn.csv=hn.dsv(",","text/csv");hn.tsv=hn.dsv("	","text/tab-separated-values");var d1,ae,cq,fe,ht=this[dg(this,"requestAnimationFrame")]||function(d3){setTimeout(d3,17)};hn.timer=function(){g2.apply(this,arguments)};function g2(ig,d3,ic){var ie=arguments.length;if(ie<2){d3=0}if(ie<3){ic=Date.now()}var ib=ic+d3,id={c:ig,t:ib,n:null};if(ae){ae.n=id}else{d1=id}ae=id;if(!cq){fe=clearTimeout(fe);cq=1;ht(hu)}return id}function hu(){var ib=bF(),d3=ab()-ib;if(d3>24){if(isFinite(d3)){clearTimeout(fe);fe=setTimeout(hu,d3)}cq=0}else{cq=1;ht(hu)}}hn.timer.flush=function(){bF();ab()};function bF(){var d3=Date.now(),ib=d1;while(ib){if(d3>=ib.t&&ib.c(d3-ib.t)){ib.c=null}ib=ib.n}return d3}function ab(){var ib,d3=d1,ic=Infinity;while(d3){if(d3.c){if(d3.t<ic){ic=d3.t}d3=(ib=d3).n}else{d3=ib?ib.n=d3.n:d1=d3.n}}ae=ib;return ic}function ef(d3,ib){return ib-(d3?Math.ceil(Math.log(d3)/Math.LN10):1)}hn.round=function(d3,ib){return ib?Math.round(d3*(ib=Math.pow(10,ib)))/ib:Math.round(d3)};var cu=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"].map(dN);hn.formatPrefix=function(ic,d3){var ib=0;if(ic=+ic){if(ic<0){ic*=-1}if(d3){ic=hn.round(ic,ef(ic,d3))}ib=1+Math.floor(1e-12+Math.log(ic)/Math.LN10);ib=Math.max(-24,Math.min(24,Math.floor((ib-1)/3)*3))}return cu[8+ib/3]};function dN(ic,ib){var d3=Math.pow(10,cG(8-ib)*3);return{scale:ib>8?function(id){return id/d3}:function(id){return id*d3},symbol:ic}}function bo(d3){var id=d3.decimal,ig=d3.thousands,ie=d3.grouping,ic=d3.currency,ib=ie&&ig?function(io,ik){var ij=io.length,ii=[],ih=0,im=ie[0],il=0;while(ij>0&&im>0){if(il+im+1>ik){im=Math.max(1,ik-il)}ii.push(io.substring(ij-=im,ij+im));if((il+=im+1)>ik){break}im=ie[ih=(ih+1)%ie.length]}return ii.reverse().join(ig)}:gk;return function(iw){var iq=cz.exec(iw),iy=iq[1]||" ",it=iq[2]||">",ii=iq[3]||"-",ik=iq[4]||"",il=iq[5],ih=+iq[6],iz=iq[7],ip=iq[8],iu=iq[9],ij=1,ir="",ix="",io=false,iv=true;if(ip){ip=+ip.substring(1)}if(il||iy==="0"&&it==="="){il=iy="0";it="="}switch(iu){case"n":iz=true;iu="g";break;case"%":ij=100;ix="%";iu="f";break;case"p":ij=100;ix="%";iu="r";break;case"b":case"o":case"x":case"X":if(ik==="#"){ir="0"+iu.toLowerCase()}case"c":iv=false;case"d":io=true;ip=0;break;case"s":ij=-1;iu="r";break}if(ik==="$"){ir=ic[0],ix=ic[1]}if(iu=="r"&&!ip){iu="g"}if(ip!=null){if(iu=="g"){ip=Math.max(1,Math.min(21,ip))}else{if(iu=="e"||iu=="f"){ip=Math.max(0,Math.min(20,ip))}}}iu=w.get(iu)||bn;var im=il&&iz;return function(iI){var iG=ix;if(io&&iI%1){return""}var iC=iI<0||iI===0&&1/iI<0?(iI=-iI,"-"):ii==="-"?"":ii;if(ij<0){var iJ=hn.formatPrefix(iI,ip);iI=iJ.scale(iI);iG=iJ.symbol+ix}else{iI*=ij}iI=iu(iI,ip);var iE=iI.lastIndexOf("."),iH,iA;if(iE<0){var iD=iv?iI.lastIndexOf("e"):-1;if(iD<0){iH=iI,iA=""}else{iH=iI.substring(0,iD),iA=iI.substring(iD)}}else{iH=iI.substring(0,iE);iA=id+iI.substring(iE+1)}if(!il&&iz){iH=ib(iH,Infinity)}var iB=ir.length+iH.length+iA.length+(im?0:iC.length),iF=iB<ih?new Array(iB=ih-iB+1).join(iy):"";if(im){iH=ib(iF+iH,iF.length?ih-iA.length:Infinity)}iC+=ir;iI=iH+iA;return(it==="<"?iC+iI+iF:it===">"?iF+iC+iI:it==="^"?iF.substring(0,iB>>=1)+iC+iI+iF.substring(iB):iC+(im?iI:iF+iI))+iG}}}var cz=/(?:([^{])?([<>=^]))?([+\- ])?([$#])?(0)?(\d+)?(,)?(\.-?\d+)?([a-z%])?/i;var w=hn.map({b:function(d3){return d3.toString(2)},c:function(d3){return String.fromCharCode(d3)},o:function(d3){return d3.toString(8)},x:function(d3){return d3.toString(16)},X:function(d3){return d3.toString(16).toUpperCase()},g:function(d3,ib){return d3.toPrecision(ib)},e:function(d3,ib){return d3.toExponential(ib)},f:function(d3,ib){return d3.toFixed(ib)},r:function(d3,ib){return(d3=hn.round(d3,ef(d3,ib))).toFixed(Math.max(0,Math.min(20,ef(d3*(1+1e-15),ib))))}});function bn(d3){return d3+""}var fF=hn.time={},hr=Date;function cl(){this._=new Date(arguments.length>1?Date.UTC.apply(this,arguments):arguments[0])}cl.prototype={getDate:function(){return this._.getUTCDate()},getDay:function(){return this._.getUTCDay()},getFullYear:function(){return this._.getUTCFullYear()},getHours:function(){return this._.getUTCHours()},getMilliseconds:function(){return this._.getUTCMilliseconds()},getMinutes:function(){return this._.getUTCMinutes()},getMonth:function(){return this._.getUTCMonth()},getSeconds:function(){return this._.getUTCSeconds()},getTime:function(){return this._.getTime()},getTimezoneOffset:function(){return 0},valueOf:function(){return this._.valueOf()},setDate:function(){f0.setUTCDate.apply(this._,arguments)},setDay:function(){f0.setUTCDay.apply(this._,arguments)},setFullYear:function(){f0.setUTCFullYear.apply(this._,arguments)},setHours:function(){f0.setUTCHours.apply(this._,arguments)},setMilliseconds:function(){f0.setUTCMilliseconds.apply(this._,arguments)},setMinutes:function(){f0.setUTCMinutes.apply(this._,arguments)},setMonth:function(){f0.setUTCMonth.apply(this._,arguments)},setSeconds:function(){f0.setUTCSeconds.apply(this._,arguments)},setTime:function(){f0.setTime.apply(this._,arguments)}};var f0=Date.prototype;function c0(ig,d3,ib){function ij(ik){var im=ig(ik),il=id(im,1);return ik-im<il-ik?im:il}function ii(ik){d3(ik=ig(new hr(ik-1)),1);return ik}function id(il,ik){d3(il=new hr(+il),ik);return il}function ie(im,il,ik){var io=ii(im),ip=[];if(ik>1){while(io<il){if(!(ib(io)%ik)){ip.push(new Date(+io))}d3(io,1)}}else{while(io<il){ip.push(new Date(+io)),d3(io,1)}}return ip}function ic(io,im,il){try{hr=cl;var ik=new cl();ik._=io;return ie(ik,im,il)}finally{hr=Date}}ig.floor=ig;ig.round=ij;ig.ceil=ii;ig.offset=id;ig.range=ie;var ih=ig.utc=dS(ig);ih.floor=ih;ih.round=dS(ij);ih.ceil=dS(ii);ih.offset=dS(id);ih.range=ic;return ig}function dS(d3){return function(ic,ib){try{hr=cl;var id=new cl();id._=ic;return d3(id,ib)._}finally{hr=Date}}}fF.year=c0(function(d3){d3=fF.day(d3);d3.setMonth(0,1);return d3},function(d3,ib){d3.setFullYear(d3.getFullYear()+ib)},function(d3){return d3.getFullYear()});fF.years=fF.year.range;fF.years.utc=fF.year.utc.range;fF.day=c0(function(ib){var d3=new hr(2000,0);d3.setFullYear(ib.getFullYear(),ib.getMonth(),ib.getDate());return d3},function(d3,ib){d3.setDate(d3.getDate()+ib)},function(d3){return d3.getDate()-1});fF.days=fF.day.range;fF.days.utc=fF.day.utc.range;fF.dayOfYear=function(d3){var ib=fF.year(d3);return Math.floor((d3-ib-(d3.getTimezoneOffset()-ib.getTimezoneOffset())*60000)/86400000)};["sunday","monday","tuesday","wednesday","thursday","friday","saturday"].forEach(function(ib,ic){ic=7-ic;var d3=fF[ib]=c0(function(id){(id=fF.day(id)).setDate(id.getDate()-(id.getDay()+ic)%7);return id},function(id,ie){id.setDate(id.getDate()+Math.floor(ie)*7)},function(ie){var id=fF.year(ie).getDay();return Math.floor((fF.dayOfYear(ie)+(id+ic)%7)/7)-(id!==ic)});fF[ib+"s"]=d3.range;fF[ib+"s"].utc=d3.utc.range;fF[ib+"OfYear"]=function(ie){var id=fF.year(ie).getDay();return Math.floor((fF.dayOfYear(ie)+(id+ic)%7)/7)}});fF.week=fF.sunday;fF.weeks=fF.sunday.range;fF.weeks.utc=fF.sunday.utc.range;fF.weekOfYear=fF.sundayOfYear;function ap(iv){var iA=iv.dateTime,ip=iv.date,ib=iv.time,ij=iv.periods,d3=iv.days,ik=iv.shortDays,io=iv.months,ie=iv.shortMonths;function iz(iH){var iJ=iH.length;function iI(iM){var iL=[],iN=-1,iK=0,iQ,iP,iO;while(++iN<iJ){if(iH.charCodeAt(iN)===37){iL.push(iH.slice(iK,iN));if((iP=aN[iQ=iH.charAt(++iN)])!=null){iQ=iH.charAt(++iN)}if(iO=ix[iQ]){iQ=iO(iM,iP==null?iQ==="e"?" ":"0":iP)}iL.push(iQ);iK=iN+1}}iL.push(iH.slice(iK,iN));return iL.join("")}iI.parse=function(iM){var iO={y:1900,m:0,d:1,H:0,M:0,S:0,L:0,Z:null},iN=it(iO,iH,iM,0);if(iN!=iM.length){return null}if("p" in iO){iO.H=iO.H%12+iO.p*12}var iK=iO.Z!=null&&hr!==cl,iL=new (iK?cl:hr)();if("j" in iO){iL.setFullYear(iO.y,0,iO.j)}else{if("W" in iO||"U" in iO){if(!("w" in iO)){iO.w="W" in iO?1:0}iL.setFullYear(iO.y,0,1);iL.setFullYear(iO.y,0,"W" in iO?(iO.w+6)%7+iO.W*7-(iL.getDay()+5)%7:iO.w+iO.U*7-(iL.getDay()+6)%7)}else{iL.setFullYear(iO.y,iO.m,iO.d)}}iL.setHours(iO.H+(iO.Z/100|0),iO.M+iO.Z%100,iO.S,iO.L);return iK?iL._:iL};iI.toString=function(){return iH};return iI}function it(iK,iP,iN,iL){var iO,iH,iQ,iM=0,iI=iP.length,iJ=iN.length;while(iM<iI){if(iL>=iJ){return -1}iO=iP.charCodeAt(iM++);if(iO===37){iQ=iP.charAt(iM++);iH=iw[iQ in aN?iP.charAt(iM++):iQ];if(!iH||(iL=iH(iK,iN,iL))<0){return -1}}else{if(iO!=iN.charCodeAt(iL++)){return -1}}}return iL}iz.utc=function(iI){var iH=iz(iI);function iJ(iK){try{hr=cl;var iL=new hr();iL._=iK;return iH(iL)}finally{hr=Date}}iJ.parse=function(iL){try{hr=cl;var iK=iH.parse(iL);return iK&&iK._}finally{hr=Date}};iJ.toString=iH.toString;return iJ};iz.multi=iz.utc.multi=go;var iq=hn.map(),iD=cK(d3),iE=gT(d3),iC=cK(ik),ig=gT(ik),iF=cK(io),iG=gT(io),il=cK(ie),id=gT(ie);ij.forEach(function(iI,iH){iq.set(iI.toLowerCase(),iH)});var ix={a:function(iH){return ik[iH.getDay()]},A:function(iH){return d3[iH.getDay()]},b:function(iH){return ie[iH.getMonth()]},B:function(iH){return io[iH.getMonth()]},c:iz(iA),d:function(iI,iH){return dy(iI.getDate(),iH,2)},e:function(iI,iH){return dy(iI.getDate(),iH,2)},H:function(iI,iH){return dy(iI.getHours(),iH,2)},I:function(iI,iH){return dy(iI.getHours()%12||12,iH,2)},j:function(iI,iH){return dy(1+fF.dayOfYear(iI),iH,3)},L:function(iI,iH){return dy(iI.getMilliseconds(),iH,3)},m:function(iI,iH){return dy(iI.getMonth()+1,iH,2)},M:function(iI,iH){return dy(iI.getMinutes(),iH,2)},p:function(iH){return ij[+(iH.getHours()>=12)]},S:function(iI,iH){return dy(iI.getSeconds(),iH,2)},U:function(iI,iH){return dy(fF.sundayOfYear(iI),iH,2)},w:function(iH){return iH.getDay()},W:function(iI,iH){return dy(fF.mondayOfYear(iI),iH,2)},x:iz(ip),X:iz(ib),y:function(iI,iH){return dy(iI.getFullYear()%100,iH,2)},Y:function(iI,iH){return dy(iI.getFullYear()%10000,iH,4)},Z:fV,"%":function(){return"%"}};var iw={a:im,A:ic,b:iB,B:iu,c:ii,d:b3,e:b3,H:aP,I:aP,j:E,L:gW,m:gI,M:cV,p:ir,S:dX,U:bt,w:dU,W:dH,x:iy,X:ih,y:N,Y:bA,Z:a4,"%":fs};function im(iI,iH,iJ){iC.lastIndex=0;var iK=iC.exec(iH.slice(iJ));return iK?(iI.w=ig.get(iK[0].toLowerCase()),iJ+iK[0].length):-1}function ic(iI,iH,iJ){iD.lastIndex=0;var iK=iD.exec(iH.slice(iJ));return iK?(iI.w=iE.get(iK[0].toLowerCase()),iJ+iK[0].length):-1}function iB(iI,iH,iJ){il.lastIndex=0;var iK=il.exec(iH.slice(iJ));return iK?(iI.m=id.get(iK[0].toLowerCase()),iJ+iK[0].length):-1}function iu(iI,iH,iJ){iF.lastIndex=0;var iK=iF.exec(iH.slice(iJ));return iK?(iI.m=iG.get(iK[0].toLowerCase()),iJ+iK[0].length):-1}function ii(iI,iH,iJ){return it(iI,ix.c.toString(),iH,iJ)}function iy(iI,iH,iJ){return it(iI,ix.x.toString(),iH,iJ)}function ih(iI,iH,iJ){return it(iI,ix.X.toString(),iH,iJ)}function ir(iI,iH,iJ){var iK=iq.get(iH.slice(iJ,iJ+=2).toLowerCase());return iK==null?-1:(iI.p=iK,iJ)}return iz}var aN={"-":"",_:" ","0":"0"},f5=/^\s*\d+/,e7=/^%/;function dy(ie,ig,ic){var d3=ie<0?"-":"",ib=(d3?-ie:ie)+"",id=ib.length;return d3+(id<ic?new Array(ic-id+1).join(ig)+ib:ib)}function cK(d3){return new RegExp("^(?:"+d3.map(hn.requote).join("|")+")","i")}function gT(ic){var ib=new aH(),d3=-1,id=ic.length;while(++d3<id){ib.set(ic[d3].toLowerCase(),d3)}return ib}function dU(ib,d3,ic){f5.lastIndex=0;var id=f5.exec(d3.slice(ic,ic+1));return id?(ib.w=+id[0],ic+id[0].length):-1}function bt(ib,d3,ic){f5.lastIndex=0;var id=f5.exec(d3.slice(ic));return id?(ib.U=+id[0],ic+id[0].length):-1}function dH(ib,d3,ic){f5.lastIndex=0;var id=f5.exec(d3.slice(ic));return id?(ib.W=+id[0],ic+id[0].length):-1}function bA(ib,d3,ic){f5.lastIndex=0;var id=f5.exec(d3.slice(ic,ic+4));return id?(ib.y=+id[0],ic+id[0].length):-1}function N(ib,d3,ic){f5.lastIndex=0;var id=f5.exec(d3.slice(ic,ic+2));return id?(ib.y=c2(+id[0]),ic+id[0].length):-1}function a4(ib,d3,ic){return/^[+-]\d{4}$/.test(d3=d3.slice(ic,ic+5))?(ib.Z=-d3,ic+5):-1}function c2(d3){return d3+(d3>68?1900:2000)}function gI(ib,d3,ic){f5.lastIndex=0;var id=f5.exec(d3.slice(ic,ic+2));return id?(ib.m=id[0]-1,ic+id[0].length):-1}function b3(ib,d3,ic){f5.lastIndex=0;var id=f5.exec(d3.slice(ic,ic+2));return id?(ib.d=+id[0],ic+id[0].length):-1}function E(ib,d3,ic){f5.lastIndex=0;var id=f5.exec(d3.slice(ic,ic+3));return id?(ib.j=+id[0],ic+id[0].length):-1}function aP(ib,d3,ic){f5.lastIndex=0;var id=f5.exec(d3.slice(ic,ic+2));return id?(ib.H=+id[0],ic+id[0].length):-1}function cV(ib,d3,ic){f5.lastIndex=0;var id=f5.exec(d3.slice(ic,ic+2));return id?(ib.M=+id[0],ic+id[0].length):-1}function dX(ib,d3,ic){f5.lastIndex=0;var id=f5.exec(d3.slice(ic,ic+2));return id?(ib.S=+id[0],ic+id[0].length):-1}function gW(ib,d3,ic){f5.lastIndex=0;var id=f5.exec(d3.slice(ic,ic+3));return id?(ib.L=+id[0],ic+id[0].length):-1}function fV(ie){var id=ie.getTimezoneOffset(),ic=id>0?"-":"+",ib=cG(id)/60|0,d3=cG(id)%60;return ic+dy(ib,"0",2)+dy(d3,"0",2)}function fs(ib,d3,ic){e7.lastIndex=0;var id=e7.exec(d3.slice(ic,ic+1));return id?ic+id[0].length:-1}function go(d3){var ic=d3.length,ib=-1;while(++ib<ic){d3[ib][0]=this(d3[ib][0])}return function(id){var ie=0,ig=d3[ie];while(!ig[1](id)){ig=d3[++ie]}return ig[0](id)}}hn.locale=function(d3){return{numberFormat:bo(d3),timeFormat:ap(d3)}};var dh=hn.locale({decimal:".",thousands:",",grouping:[3],currency:["$",""],dateTime:"%a %b %e %X %Y",date:"%m/%d/%Y",time:"%H:%M:%S",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});hn.format=dh.numberFormat;hn.geo={};function fb(){}fb.prototype={s:0,t:0,add:function(d3){dp(d3,this.t,hO);dp(hO.s,this.s,this);if(this.s){this.t+=hO.t}else{this.s=hO.t}},reset:function(){this.s=this.t=0},valueOf:function(){return this.s}};var hO=new fb();function dp(id,ic,ig){var ib=ig.s=id+ic,d3=ib-id,ie=ib-d3;ig.t=id-ie+(ic-d3)}hn.geo.stream=function(d3,ib){if(d3&&z.hasOwnProperty(d3.type)){z[d3.type](d3,ib)}else{aO(d3,ib)}};function aO(ib,d3){if(ib&&eR.hasOwnProperty(ib.type)){eR[ib.type](ib,d3)}}var z={Feature:function(d3,ib){aO(d3.geometry,ib)},FeatureCollection:function(d3,id){var ic=d3.features,ib=-1,ie=ic.length;while(++ib<ie){aO(ic[ib].geometry,id)}}};var eR={Sphere:function(d3,ib){ib.sphere()},Point:function(d3,ib){d3=d3.coordinates;ib.point(d3[0],d3[1],d3[2])},MultiPoint:function(d3,ic){var id=d3.coordinates,ib=-1,ie=id.length;while(++ib<ie){d3=id[ib],ic.point(d3[0],d3[1],d3[2])}},LineString:function(d3,ib){co(d3.coordinates,ib,0)},MultiLineString:function(d3,ic){var id=d3.coordinates,ib=-1,ie=id.length;while(++ib<ie){co(id[ib],ic,0)}},Polygon:function(d3,ib){he(d3.coordinates,ib)},MultiPolygon:function(d3,ic){var id=d3.coordinates,ib=-1,ie=id.length;while(++ib<ie){he(id[ib],ic)}},GeometryCollection:function(d3,id){var ic=d3.geometries,ib=-1,ie=ic.length;while(++ib<ie){aO(ic[ib],id)}}};function co(id,ic,d3){var ib=-1,ig=id.length-d3,ie;ic.lineStart();while(++ib<ig){ie=id[ib],ic.point(ie[0],ie[1],ie[2])}ic.lineEnd()}function he(ic,ib){var d3=-1,id=ic.length;ib.polygonStart();while(++d3<id){co(ic[d3],ib,1)}ib.polygonEnd()}hn.geo.area=function(d3){a9=0;hn.geo.stream(d3,hk);return a9};var a9,fO=new fb();var hk={sphere:function(){a9+=4*gd},point:aG,lineStart:aG,lineEnd:aG,polygonStart:function(){fO.reset();hk.lineStart=b6},polygonEnd:function(){var d3=2*fO;a9+=d3<0?4*gd+d3:d3;hk.lineStart=hk.lineEnd=hk.point=aG}};function b6(){var ib,d3,id,ic,ie;hk.point=function(ii,ih){hk.point=ig;id=(ib=ii)*I,ic=Math.cos(ih=(d3=ih)*I/2+gd/4),ie=Math.sin(ih)};function ig(ij,ir){ij*=I;ir=ir*I/2+gd/4;var im=ij-id,il=im>=0?1:-1,io=il*im,ih=Math.cos(ir),ik=Math.sin(ir),ii=ie*ik,iq=ic*ih+ii*Math.cos(io),ip=ii*il*Math.sin(io);fO.add(Math.atan2(ip,iq));id=ij,ic=ih,ie=ik}hk.lineEnd=function(){ig(ib,d3)}}function au(d3){var ic=d3[0],ib=d3[1],id=Math.cos(ib);return[id*Math.cos(ic),id*Math.sin(ic),Math.sin(ib)]}function ax(ib,d3){return ib[0]*d3[0]+ib[1]*d3[1]+ib[2]*d3[2]}function cY(ib,d3){return[ib[1]*d3[2]-ib[2]*d3[1],ib[2]*d3[0]-ib[0]*d3[2],ib[0]*d3[1]-ib[1]*d3[0]]}function cB(ib,d3){ib[0]+=d3[0];ib[1]+=d3[1];ib[2]+=d3[2]}function ge(d3,ib){return[d3[0]*ib,d3[1]*ib,d3[2]*ib]}function fj(ib){var d3=Math.sqrt(ib[0]*ib[0]+ib[1]*ib[1]+ib[2]*ib[2]);ib[0]/=d3;ib[1]/=d3;ib[2]/=d3}function h7(d3){return[Math.atan2(d3[1],d3[0]),cf(d3[2])]}function eS(ib,d3){return cG(ib[0]-d3[0])<gm&&cG(ib[1]-d3[1])<gm}hn.geo.bounds=function(){var id,iw,ib,iu,ie,im,ip,ig,ij,ih,ik;var d3={point:iq,lineStart:il,lineEnd:it,polygonStart:function(){d3.point=ir;d3.lineStart=ii;d3.lineEnd=io;ij=0;hk.polygonStart()},polygonEnd:function(){hk.polygonEnd();d3.point=iq;d3.lineStart=il;d3.lineEnd=it;if(fO<0){id=-(ib=180),iw=-(iu=90)}else{if(ij>gm){iu=90}else{if(ij<-gm){iw=-90}}}ik[0]=id,ik[1]=ib}};function iq(iA,iz){ih.push(ik=[id=iA,ib=iA]);if(iz<iw){iw=iz}if(iz>iu){iu=iz}}function ic(iD,iJ){var iz=au([iD*I,iJ*I]);if(ig){var iF=cY(ig,iz),iG=[iF[1],-iF[0],0],iE=cY(iG,iF);fj(iE);iE=h7(iE);var iH=iD-ie,iI=iH>0?1:-1,iA=iE[0]*hE*iI,iC=cG(iH)>180;if(iC^(iI*ie<iA&&iA<iI*iD)){var iB=iE[1]*hE;if(iB>iu){iu=iB}}else{if(iA=(iA+360)%360-180,iC^(iI*ie<iA&&iA<iI*iD)){var iB=-iE[1]*hE;if(iB<iw){iw=iB}}else{if(iJ<iw){iw=iJ}if(iJ>iu){iu=iJ}}}if(iC){if(iD<ie){if(iv(id,iD)>iv(id,ib)){ib=iD}}else{if(iv(iD,ib)>iv(id,ib)){id=iD}}}else{if(ib>=id){if(iD<id){id=iD}if(iD>ib){ib=iD}}else{if(iD>ie){if(iv(id,iD)>iv(id,ib)){ib=iD}}else{if(iv(iD,ib)>iv(id,ib)){id=iD}}}}}else{iq(iD,iJ)}ig=iz,ie=iD}function il(){d3.point=ic}function it(){ik[0]=id,ik[1]=ib;d3.point=iq;ig=null}function ir(iA,iz){if(ig){var iB=iA-ie;ij+=cG(iB)>180?iB+(iB>0?360:-360):iB}else{im=iA,ip=iz}hk.point(iA,iz);ic(iA,iz)}function ii(){hk.lineStart()}function io(){ir(im,ip);hk.lineEnd();if(cG(ij)>gm){id=-(ib=180)}ik[0]=id,ik[1]=ib;ig=null}function iv(iA,iz){return(iz-=iA)<0?iz+360:iz}function iy(iA,iz){return iA[0]-iz[0]}function ix(iz,iA){return iA[0]<=iA[1]?iA[0]<=iz&&iz<=iA[1]:iz<iA[0]||iA[1]<iz}return function(iE){iu=ib=-(id=iw=Infinity);ih=[];hn.geo.stream(iE,d3);var iG=ih.length;if(iG){ih.sort(iy);for(var iD=1,iB=ih[0],iA,iz=[iB];iD<iG;++iD){iA=ih[iD];if(ix(iA[0],iB)||ix(iA[1],iB)){if(iv(iB[0],iA[1])>iv(iB[0],iB[1])){iB[1]=iA[1]}if(iv(iA[0],iB[1])>iv(iB[0],iB[1])){iB[0]=iA[0]}}else{iz.push(iB=iA)}}var iF=-Infinity,iC;for(var iG=iz.length-1,iD=0,iB=iz[iG],iA;iD<=iG;iB=iA,++iD){iA=iz[iD];if((iC=iv(iB[1],iA[0]))>iF){iF=iC,id=iA[0],ib=iB[1]}}}ih=ik=null;return id===Infinity||iw===Infinity?[[NaN,NaN],[NaN,NaN]]:[[id,iw],[ib,iu]]}}();hn.geo.centroid=function(ic){eb=d9=dK=dl=c6=dJ=dk=c4=dI=dj=c3=0;hn.geo.stream(ic,gg);var ib=dI,ie=dj,id=c3,d3=ib*ib+ie*ie+id*id;if(d3<eD){ib=dJ,ie=dk,id=c4;if(d9<gm){ib=dK,ie=dl,id=c6}d3=ib*ib+ie*ie+id*id;if(d3<eD){return[NaN,NaN]}}return[Math.atan2(ie,ib)*hE,cf(id/Math.sqrt(d3))*hE]};var eb,d9,dK,dl,c6,dJ,dk,c4,dI,dj,c3;var gg={sphere:aG,point:ca,lineStart:fi,lineEnd:aE,polygonStart:function(){gg.lineStart=br},polygonEnd:function(){gg.lineStart=fi}};function ca(ib,d3){ib*=I;var ic=Math.cos(d3*=I);gs(ic*Math.cos(ib),ic*Math.sin(ib),Math.sin(d3))}function gs(d3,ic,ib){++eb;dK+=(d3-dK)/eb;dl+=(ic-dl)/eb;c6+=(ib-c6)/eb}function fi(){var d3,ib,id;gg.point=function(ig,ie){ig*=I;var ih=Math.cos(ie*=I);d3=ih*Math.cos(ig);ib=ih*Math.sin(ig);id=Math.sin(ie);gg.point=ic;gs(d3,ib,id)};function ic(ii,ih){ii*=I;var ij=Math.cos(ih*=I),ie=ij*Math.cos(ii),il=ij*Math.sin(ii),ik=Math.sin(ih),ig=Math.atan2(Math.sqrt((ig=ib*ik-id*il)*ig+(ig=id*ie-d3*ik)*ig+(ig=d3*il-ib*ie)*ig),d3*ie+ib*il+id*ik);d9+=ig;dJ+=ig*(d3+(d3=ie));dk+=ig*(ib+(ib=il));c4+=ig*(id+(id=ik));gs(d3,ib,id)}}function aE(){gg.point=ca}function br(){var ib,d3,ic,id,ig;gg.point=function(ii,ih){ib=ii,d3=ih;gg.point=ie;ii*=I;var ij=Math.cos(ih*=I);ic=ij*Math.cos(ii);id=ij*Math.sin(ii);ig=Math.sin(ih);gs(ic,id,ig)};gg.lineEnd=function(){ie(ib,d3);gg.lineEnd=aE;gg.point=ca};function ie(im,iv){im*=I;var ik=Math.cos(iv*=I),iq=ik*Math.cos(im),ip=ik*Math.sin(im),io=Math.sin(iv),il=id*io-ig*ip,ij=ig*iq-ic*io,ii=ic*ip-id*iq,ih=Math.sqrt(il*il+ij*ij+ii*ii),iu=ic*iq+id*ip+ig*io,it=ih&&-ac(iu)/ih,ir=Math.atan2(ih,iu);dI+=it*il;dj+=it*ij;c3+=it*ii;d9+=ir;dJ+=ir*(ic+(ic=iq));dk+=ir*(id+(id=ip));c4+=ir*(ig+(ig=io));gs(ic,id,ig)}}function e5(ib,d3){function ic(id,ie){return id=ib(id,ie),d3(id[0],id[1])}if(ib.invert&&d3.invert){ic.invert=function(id,ie){return id=d3.invert(id,ie),id&&ib.invert(id[0],id[1])}}return ic}function ag(){return true}function cr(ih,ib,il,ij,id){var ik=[],ie=[];ih.forEach(function(iv){if((iy=iv.length-1)<=0){return}var iy,ix=iv[0],iw=iv[iy];if(eS(ix,iw)){id.lineStart();for(var iu=0;iu<iy;++iu){id.point((ix=iv[iu])[0],ix[1])}id.lineEnd();return}var it=new f(ix,iv,null,true),ir=new f(ix,null,it,false);it.o=ir;ik.push(it);ie.push(ir);it=new f(iw,iv,null,false);ir=new f(iw,null,it,true);it.o=ir;ik.push(it);ie.push(ir)});ie.sort(ib);hJ(ik);hJ(ie);if(!ik.length){return}for(var ig=0,io=il,ic=ie.length;ig<ic;++ig){ie[ig].e=io=!io}var d3=ik[0],ip,im;while(1){var ii=d3,iq=true;while(ii.v){if((ii=ii.n)===d3){return}}ip=ii.z;id.lineStart();do{ii.v=ii.o.v=true;if(ii.e){if(iq){for(var ig=0,ic=ip.length;ig<ic;++ig){id.point((im=ip[ig])[0],im[1])}}else{ij(ii.x,ii.n.x,1,id)}ii=ii.n}else{if(iq){ip=ii.p.z;for(var ig=ip.length-1;ig>=0;--ig){id.point((im=ip[ig])[0],im[1])}}else{ij(ii.x,ii.p.x,-1,id)}ii=ii.p}ii=ii.o;ip=ii.z;iq=!iq}while(!ii.v);id.lineEnd()}}function hJ(ie){if(!(id=ie.length)){return}var id,ic=0,ib=ie[0],d3;while(++ic<id){ib.n=d3=ie[ic];d3.p=ib;ib=d3}ib.n=d3=ie[0];d3.p=ib}function f(ib,ic,d3,id){this.x=ib;this.z=ic;this.o=d3;this.e=id;this.v=false;this.n=this.p=null}function eh(d3,id,ib,ic){return function(iw,ij){var io=id(ij),ii=iw.invert(ic[0],ic[1]);var iy={point:it,lineStart:iq,lineEnd:ix,polygonStart:function(){iy.point=ig;iy.lineStart=ik;iy.lineEnd=ir;iu=[];ip=[]},polygonEnd:function(){iy.point=it;iy.lineStart=iq;iy.lineEnd=ix;iu=hn.merge(iu);var iz=fL(ii,ip);if(iu.length){if(!ih){ij.polygonStart(),ih=true}cr(iu,dV,iz,ib,ij)}else{if(iz){if(!ih){ij.polygonStart(),ih=true}ij.lineStart();ib(null,null,1,ij);ij.lineEnd()}}if(ih){ij.polygonEnd(),ih=false}iu=ip=null},sphere:function(){ij.polygonStart();ij.lineStart();ib(null,null,1,ij);ij.lineEnd();ij.polygonEnd()}};function it(iB,iA){var iz=iw(iB,iA);if(d3(iB=iz[0],iA=iz[1])){ij.point(iB,iA)}}function il(iB,iA){var iz=iw(iB,iA);io.point(iz[0],iz[1])}function iq(){iy.point=il;io.lineStart()}function ix(){iy.point=it;io.lineEnd()}var iu;var iv=P(),ie=id(iv),ih=false,ip,im;function ig(iB,iA){im.push([iB,iA]);var iz=iw(iB,iA);ie.point(iz[0],iz[1])}function ik(){ie.lineStart();im=[]}function ir(){ig(im[0][0],im[0][1]);ie.lineEnd();var iB=ie.clean(),iD=iv.buffer(),iC,iE=iD.length;im.pop();ip.push(im);im=null;if(!iE){return}if(iB&1){iC=iD[0];var iE=iC.length-1,iA=-1,iz;if(iE>0){if(!ih){ij.polygonStart(),ih=true}ij.lineStart();while(++iA<iE){ij.point((iz=iC[iA])[0],iz[1])}ij.lineEnd()}return}if(iE>1&&iB&2){iD.push(iD.pop().concat(iD.shift()))}iu.push(iD.filter(eN))}return iy}}function eN(d3){return d3.length>1}function P(){var ib=[],d3;return{lineStart:function(){ib.push(d3=[])},point:function(id,ic){d3.push([id,ic])},lineEnd:aG,buffer:function(){var ic=ib;ib=[];d3=null;return ic},rejoin:function(){if(ib.length>1){ib.push(ib.pop().concat(ib.shift()))}}}}function dV(ib,d3){return((ib=ib.x)[0]<0?ib[1]-ep-gm:ep-ib[1])-((d3=d3.x)[0]<0?d3[1]-ep-gm:ep-d3[1])}var k=eh(ag,eE,dc,[-gd,-gd/2]);function eE(ie){var ib=NaN,d3=NaN,id=NaN,ic;return{lineStart:function(){ie.lineStart();ic=1},point:function(ih,ig){var ij=ih>0?gd:-gd,ii=cG(ih-ib);if(cG(ii-gd)<gm){ie.point(ib,d3=(d3+ig)/2>0?ep:-ep);ie.point(id,d3);ie.lineEnd();ie.lineStart();ie.point(ij,d3);ie.point(ih,d3);ic=0}else{if(id!==ij&&ii>=gd){if(cG(ib-id)<gm){ib-=id*gm}if(cG(ih-ij)<gm){ih-=ij*gm}d3=u(ib,d3,ih,ig);ie.point(id,d3);ie.lineEnd();ie.lineStart();ie.point(ij,d3);ic=0}}ie.point(ib=ih,d3=ig);id=ij},lineEnd:function(){ie.lineEnd();ib=d3=NaN},clean:function(){return 2-ic}}}function u(ig,ie,id,ic){var ib,d3,ih=Math.sin(ig-id);return cG(ih)>gm?Math.atan((Math.sin(ie)*(d3=Math.cos(ic))*Math.sin(id)-Math.sin(ic)*(ib=Math.cos(ie))*Math.sin(ig))/(ib*d3*ih)):(ie+ic)/2}function dc(ig,ie,id,ic){var d3;if(ig==null){d3=id*ep;ic.point(-gd,d3);ic.point(0,d3);ic.point(gd,d3);ic.point(gd,0);ic.point(gd,-d3);ic.point(0,-d3);ic.point(-gd,-d3);ic.point(-gd,0);ic.point(-gd,d3)}else{if(cG(ig[0]-ie[0])>gm){var ib=ig[0]<ie[0]?gd:-gd;d3=id*ib/2;ic.point(-ib,d3);ic.point(0,d3);ic.point(ib,d3)}else{ic.point(ie[0],ie[1])}}}function fL(iw,ir){var iE=iw[0],iF=iw[1],d3=[Math.sin(iE),-Math.cos(iE),0],iq=0,iC=0;fO.reset();for(var iB=0,it=ir.length;iB<it;++iB){var ij=ir[iB],iv=ij.length;if(!iv){continue}var ig=ij[0],ic=ig[0],iD=ig[1]/2+gd/4,ii=Math.sin(iD),ib=Math.cos(iD),iA=1;while(true){if(iA===iv){iA=0}iw=ij[iA];var iu=iw[0],ip=iw[1]/2+gd/4,id=Math.sin(ip),iz=Math.cos(ip),iy=iu-ic,ik=iy>=0?1:-1,im=ik*iy,ie=im>gd,ix=ii*id;fO.add(Math.atan2(ix*ik*Math.sin(im),ib*iz+ix*Math.cos(im)));iq+=ie?iy+ik*f7:iy;if(ie^ic>=iE^iu>=iE){var il=cY(au(ig),au(iw));fj(il);var io=cY(d3,il);fj(io);var ih=(ie^iy>=0?-1:1)*cf(io[2]);if(iF>ih||iF===ih&&(il[0]||il[1])){iC+=ie^iy>=0?1:-1}}if(!iA++){break}ic=iu,ii=id,ib=iz,ig=iw}}return(iq<-gm||iq<gm&&fO<-gm)^iC&1}function aK(ie){var ig=Math.cos(ie),id=ig>0,ih=cG(ig)>gm,ii=b5(ie,6*I);return eh(ic,ij,ii,id?[0,-ie]:[-gd,ie-gd]);function ic(il,ik){return Math.cos(il)*Math.cos(ik)>ig}function ij(iq){var ip,io,ik,im,il;return{lineStart:function(){im=ik=false;il=1},point:function(it,ir){var ix=[it,ir],iw,iu=ic(it,ir),iy=id?iu?0:d3(it,ir):iu?d3(it+(it<0?gd:-gd),ir):0;if(!ip&&(im=ik=iu)){iq.lineStart()}if(iu!==ik){iw=ib(ip,ix);if(eS(ip,iw)||eS(ix,iw)){ix[0]+=gm;ix[1]+=gm;iu=ic(ix[0],ix[1])}}if(iu!==ik){il=0;if(iu){iq.lineStart();iw=ib(ix,ip);iq.point(iw[0],iw[1])}else{iw=ib(ip,ix);iq.point(iw[0],iw[1]);iq.lineEnd()}ip=iw}else{if(ih&&ip&&id^iu){var iv;if(!(iy&io)&&(iv=ib(ix,ip,true))){il=0;if(id){iq.lineStart();iq.point(iv[0][0],iv[0][1]);iq.point(iv[1][0],iv[1][1]);iq.lineEnd()}else{iq.point(iv[1][0],iv[1][1]);iq.lineEnd();iq.lineStart();iq.point(iv[0][0],iv[0][1])}}}}if(iu&&(!ip||!eS(ip,ix))){iq.point(ix[0],ix[1])}ip=ix,ik=iu,io=iy},lineEnd:function(){if(ik){iq.lineEnd()}ip=null},clean:function(){return il|(im&&ik)<<1}}}function ib(iN,iM,ip){var im=au(iN),ik=au(iM);var iv=[1,0,0],ir=cY(im,ik),iy=ax(ir,ir),iL=ir[0],iE=iy-iL*iL;if(!iE){return !ip&&iN}var iH=ig*iy/iE,iG=-ig*iL/iE,iO=cY(iv,ir),iF=ge(iv,iH),iD=ge(ir,iG);cB(iF,iD);var iA=iO,iz=ax(iF,iA),iq=ax(iA,iA),ix=iz*iz-iq*(ax(iF,iF)-1);if(ix<0){return}var iB=Math.sqrt(ix),iC=ge(iA,(-iz-iB)/iq);cB(iC,iF);iC=h7(iC);if(!ip){return iC}var io=iN[0],il=iM[0],iJ=iN[1],iI=iM[1],iu;if(il<io){iu=io,io=il,il=iu}var it=il-io,iP=cG(it-gd)<gm,iK=iP||it<gm;if(!iP&&iI<iJ){iu=iJ,iJ=iI,iI=iu}if(iK?iP?iJ+iI>0^iC[1]<(cG(iC[0]-io)<gm?iJ:iI):iJ<=iC[1]&&iC[1]<=iI:it>gd^(io<=iC[0]&&iC[0]<=il)){var iw=ge(iA,(-iz+iB)/iq);cB(iw,iF);return[iC,h7(iw)]}}function d3(il,ik){var io=id?ie:gd-ie,im=0;if(il<-io){im|=1}else{if(il>io){im|=2}}if(ik<-io){im|=4}else{if(ik>io){im|=8}}return im}}function aj(ib,id,d3,ic){return function(ir){var im=ir.a,il=ir.b,ig=im.x,iq=im.y,ik=il.x,ij=il.y,ii=0,ih=1,ip=ik-ig,io=ij-iq,ie;ie=ib-ig;if(!ip&&ie>0){return}ie/=ip;if(ip<0){if(ie<ii){return}if(ie<ih){ih=ie}}else{if(ip>0){if(ie>ih){return}if(ie>ii){ii=ie}}}ie=d3-ig;if(!ip&&ie<0){return}ie/=ip;if(ip<0){if(ie>ih){return}if(ie>ii){ii=ie}}else{if(ip>0){if(ie<ii){return}if(ie<ih){ih=ie}}}ie=id-iq;if(!io&&ie>0){return}ie/=io;if(io<0){if(ie<ii){return}if(ie<ih){ih=ie}}else{if(io>0){if(ie>ih){return}if(ie>ii){ii=ie}}}ie=ic-iq;if(!io&&ie<0){return}ie/=io;if(io<0){if(ie>ih){return}if(ie>ii){ii=ie}}else{if(io>0){if(ie<ii){return}if(ie<ih){ih=ie}}}if(ii>0){ir.a={x:ig+ii*ip,y:iq+ii*io}}if(ih<1){ir.b={x:ig+ih*ip,y:iq+ih*io}}return ir}}var cJ=1000000000;hn.geo.clipExtent=function(){var ic,ig,ib,id,ih,ie,d3={stream:function(ii){if(ih){ih.valid=false}ih=ie(ii);ih.valid=true;return ih},extent:function(ii){if(!arguments.length){return[[ic,ig],[ib,id]]}ie=ee(ic=+ii[0][0],ig=+ii[0][1],ib=+ii[1][0],id=+ii[1][1]);if(ih){ih.valid=false,ih=null}return d3}};return d3.extent([[0,0],[960,500]])};function ee(ib,ie,d3,ic){return function(io){var ij=io,iu=P(),ik=aj(ib,ie,d3,ic),iC,iv,ir;var iG={point:iB,lineStart:iy,lineEnd:iE,polygonStart:function(){io=iu;iC=[];iv=[];iD=true},polygonEnd:function(){io=ij;iC=hn.merge(iC);var iI=ix([ib,ic]),iH=iD&&iI,iJ=iC.length;if(iH||iJ){io.polygonStart();if(iH){io.lineStart();it(null,null,1,io);io.lineEnd()}if(iJ){cr(iC,ig,iI,it,io)}io.polygonEnd()}iC=iv=ir=null}};function ix(iH){var iP=0,iI=iv.length,iN=iH[1];for(var iL=0;iL<iI;++iL){for(var iK=1,iQ=iv[iL],iJ=iQ.length,iO=iQ[0],iM;iK<iJ;++iK){iM=iQ[iK];if(iO[1]<=iN){if(iM[1]>iN&&eZ(iO,iM,iH)>0){++iP}}else{if(iM[1]<=iN&&eZ(iO,iM,iH)<0){--iP}}iO=iM}}return iP!==0}function it(iM,iL,iK,iJ){var iI=0,iH=0;if(iM==null||(iI=id(iM,iK))!==(iH=id(iL,iK))||ih(iM,iL)<0^iK>0){do{iJ.point(iI===0||iI===3?ib:d3,iI>1?ic:ie)}while((iI=(iI+iK+4)%4)!==iH)}else{iJ.point(iL[0],iL[1])}}function iw(iH,iI){return ib<=iH&&iH<=d3&&ie<=iI&&iI<=ic}function iB(iH,iI){if(iw(iH,iI)){io.point(iH,iI)}}var iA,ip,iz,iF,im,il,iq,iD;function iy(){iG.point=ii;if(iv){iv.push(ir=[])}iq=true;il=false;iF=im=NaN}function iE(){if(iC){ii(iA,ip);if(iz&&il){iu.rejoin()}iC.push(iu.buffer())}iG.point=iB;if(il){io.lineEnd()}}function ii(iH,iK){iH=Math.max(-cJ,Math.min(cJ,iH));iK=Math.max(-cJ,Math.min(cJ,iK));var iJ=iw(iH,iK);if(iv){ir.push([iH,iK])}if(iq){iA=iH,ip=iK,iz=iJ;iq=false;if(iJ){io.lineStart();io.point(iH,iK)}}else{if(iJ&&il){io.point(iH,iK)}else{var iI={a:{x:iF,y:im},b:{x:iH,y:iK}};if(ik(iI)){if(!il){io.lineStart();io.point(iI.a.x,iI.a.y)}io.point(iI.b.x,iI.b.y);if(!iJ){io.lineEnd()}iD=false}else{if(iJ){io.lineStart();io.point(iH,iK);iD=false}}}}iF=iH,im=iK,il=iJ}return iG};function id(ij,ii){return cG(ij[0]-ib)<gm?ii>0?0:3:cG(ij[0]-d3)<gm?ii>0?2:1:cG(ij[1]-ie)<gm?ii>0?1:0:ii>0?3:2}function ig(ij,ii){return ih(ij.x,ii.x)}function ih(il,ij){var ik=id(il,1),ii=id(ij,1);return ik!==ii?ik-ii:ik===0?ij[1]-il[1]:ik===1?il[0]-ij[0]:ik===2?il[1]-ij[1]:ij[0]-il[0]}}function b7(id){var ic=0,ib=gd/3,d3=fg(id),ie=d3(ic,ib);ie.parallels=function(ig){if(!arguments.length){return[ic/gd*180,ib/gd*180]}return d3(ic=ig[0]*gd/180,ib=ig[1]*gd/180)};return ie}function M(ib,d3){var ie=Math.sin(ib),ih=(ie+Math.sin(d3))/2,ig=1+ie*(2*ih-ie),id=Math.sqrt(ig)/ih;function ic(ij,ii){var ik=Math.sqrt(ig-2*ih*Math.sin(ii))/ih;return[ik*Math.sin(ij*=ih),id-ik*Math.cos(ij)]}ic.invert=function(ii,ik){var ij=id-ik;return[Math.atan2(ii,ij)/ih,cf((ig-(ii*ii+ij*ij)*ih*ih)/(2*ih))]};return ic}(hn.geo.conicEqualArea=function(){return b7(M)}).raw=M;hn.geo.albers=function(){return hn.geo.conicEqualArea().rotate([96,0]).center([-0.6,38.7]).parallels([29.5,45.5]).scale(1070)};hn.geo.albersUsa=function(){var ib=hn.geo.albers();var ig=hn.geo.conicEqualArea().rotate([154,0]).center([-2,58.5]).parallels([55,65]);var ic=hn.geo.conicEqualArea().rotate([157,0]).center([-3,19.9]).parallels([8,18]);var ii,d3={point:function(ik,il){ii=[ik,il]}},ie,ih,id;function ij(il){var ik=il[0],im=il[1];ii=null;(ie(ik,im),ii)||(ih(ik,im),ii)||id(ik,im);return ii}ij.invert=function(io){var il=ib.scale(),im=ib.translate(),ik=(io[0]-im[0])/il,ip=(io[1]-im[1])/il;return(ip>=0.12&&ip<0.234&&ik>=-0.425&&ik<-0.214?ig:ip>=0.166&&ip<0.234&&ik>=-0.214&&ik<-0.115?ic:ib).invert(io)};ij.stream=function(im){var il=ib.stream(im),io=ig.stream(im),ik=ic.stream(im);return{point:function(ip,iq){il.point(ip,iq);io.point(ip,iq);ik.point(ip,iq)},sphere:function(){il.sphere();io.sphere();ik.sphere()},lineStart:function(){il.lineStart();io.lineStart();ik.lineStart()},lineEnd:function(){il.lineEnd();io.lineEnd();ik.lineEnd()},polygonStart:function(){il.polygonStart();io.polygonStart();ik.polygonStart()},polygonEnd:function(){il.polygonEnd();io.polygonEnd();ik.polygonEnd()}}};ij.precision=function(ik){if(!arguments.length){return ib.precision()}ib.precision(ik);ig.precision(ik);ic.precision(ik);return ij};ij.scale=function(ik){if(!arguments.length){return ib.scale()}ib.scale(ik);ig.scale(ik*0.35);ic.scale(ik);return ij.translate(ib.translate())};ij.translate=function(im){if(!arguments.length){return ib.translate()}var il=ib.scale(),ik=+im[0],io=+im[1];ie=ib.translate(im).clipExtent([[ik-0.455*il,io-0.238*il],[ik+0.455*il,io+0.238*il]]).stream(d3).point;ih=ig.translate([ik-0.307*il,io+0.201*il]).clipExtent([[ik-0.425*il+gm,io+0.12*il+gm],[ik-0.214*il-gm,io+0.234*il-gm]]).stream(d3).point;id=ic.translate([ik-0.205*il,io+0.212*il]).clipExtent([[ik-0.214*il+gm,io+0.166*il+gm],[ik-0.115*il-gm,io+0.234*il-gm]]).stream(d3).point;return ij};return ij.scale(1070)};var fM,A,dB={point:aG,lineStart:aG,lineEnd:aG,polygonStart:function(){A=0;dB.lineStart=cL},polygonEnd:function(){dB.lineStart=dB.lineEnd=dB.point=aG;fM+=cG(A/2)}};function cL(){var id,d3,ib,ic;dB.point=function(ig,ih){dB.point=ie;id=ib=ig,d3=ic=ih};function ie(ig,ih){A+=ic*ig-ib*ih;ib=ig,ic=ih}dB.lineEnd=function(){ie(id,d3)}}var eL,eo,eJ,en;var aw={point:cT,lineStart:aG,lineEnd:aG,polygonStart:aG,polygonEnd:aG};function cT(d3,ib){if(d3<eL){eL=d3}if(d3>eJ){eJ=d3}if(ib<eo){eo=ib}if(ib>en){en=ib}}function cj(){var ic=g7(4.5),ib=[];var ii={point:d3,lineStart:function(){ii.point=ih},lineEnd:ig,polygonStart:function(){ii.lineEnd=id},polygonEnd:function(){ii.lineEnd=ig;ii.point=d3},pointRadius:function(ij){ic=g7(ij);return ii},result:function(){if(ib.length){var ij=ib.join("");ib=[];return ij}}};function d3(ij,ik){ib.push("M",ij,",",ik,ic)}function ih(ij,ik){ib.push("M",ij,",",ik);ii.point=ie}function ie(ij,ik){ib.push("L",ij,",",ik)}function ig(){ii.point=d3}function id(){ib.push("Z")}return ii}function g7(d3){return"m0,"+d3+"a"+d3+","+d3+" 0 1,1 0,"+-2*d3+"a"+d3+","+d3+" 0 1,1 0,"+2*d3+"z"}var g6={point:cP,lineStart:fR,lineEnd:cO,polygonStart:function(){g6.lineStart=b0},polygonEnd:function(){g6.point=cP;g6.lineStart=fR;g6.lineEnd=cO}};function cP(d3,ib){dK+=d3;dl+=ib;++c6}function fR(){var d3,ib;g6.point=function(id,ie){g6.point=ic;cP(d3=id,ib=ie)};function ic(id,ii){var ig=id-d3,ie=ii-ib,ih=Math.sqrt(ig*ig+ie*ie);dJ+=ih*(d3+id)/2;dk+=ih*(ib+ii)/2;c4+=ih;cP(d3=id,ib=ii)}}function cO(){g6.point=cP}function b0(){var id,d3,ib,ic;g6.point=function(ig,ih){g6.point=ie;cP(id=ib=ig,d3=ic=ih)};function ie(ig,ik){var ii=ig-ib,ih=ik-ic,ij=Math.sqrt(ii*ii+ih*ih);dJ+=ij*(ib+ig)/2;dk+=ij*(ic+ik)/2;c4+=ij;ij=ic*ig-ib*ik;dI+=ij*(ib+ig);dj+=ij*(ic+ik);c3+=ij*3;cP(ib=ig,ic=ik)}g6.lineEnd=function(){ie(id,d3)}}function cE(ib){var ie=4.5;var ii={point:d3,lineStart:function(){ii.point=ih},lineEnd:ig,polygonStart:function(){ii.lineEnd=ic},polygonEnd:function(){ii.lineEnd=ig;ii.point=d3},pointRadius:function(ij){ie=ij;return ii},result:aG};function d3(ij,ik){ib.moveTo(ij+ie,ik);ib.arc(ij,ik,ie,0,f7)}function ih(ij,ik){ib.moveTo(ij,ik);ii.point=id}function id(ij,ik){ib.lineTo(ij,ik)}function ig(){ii.point=d3}function ic(){ib.closePath()}return ii}function fN(ih){var ie=0.5,ig=Math.cos(30*I),ii=16;function ic(ij){return(ii?id:d3)(ij)}function d3(ij){return eG(ij,function(ik,il){ik=ih(ik,il);ij.point(ik[0],ik[1])})}function id(iq){var iw,iC,iB,ir,iF,iu,ik,il,iE,im,iG,it,ix;var io={point:iA,lineStart:iv,lineEnd:iD,polygonStart:function(){iq.polygonStart();io.lineStart=ip},polygonEnd:function(){iq.polygonEnd();io.lineStart=iv}};function iA(iH,iI){iH=ih(iH,iI);iq.point(iH[0],iH[1])}function iv(){iE=NaN;io.point=ij;iq.lineStart()}function ij(iI,iH){var iK=au([iI,iH]),iJ=ih(iI,iH);ib(iE,im,il,iG,it,ix,iE=iJ[0],im=iJ[1],il=iI,iG=iK[0],it=iK[1],ix=iK[2],ii,iq);iq.point(iE,im)}function iD(){io.point=iA;iq.lineEnd()}function ip(){iv();io.point=iz;io.lineEnd=iy}function iz(iI,iH){ij(iw=iI,iC=iH),iB=iE,ir=im,iF=iG,iu=it,ik=ix;io.point=ij}function iy(){ib(iE,im,il,iG,it,ix,iB,ir,iw,iF,iu,ik,ii,iq);io.lineEnd=iD;iD()}return io}function ib(iG,iq,il,iN,iu,iC,iF,ip,ik,iL,it,iA,iK,ir){var iy=iF-iG,ix=ip-iq,iM=iy*iy+ix*ix;if(iM>4*ie&&iK--){var iJ=iN+iL,iI=iu+it,iH=iC+iA,iB=Math.sqrt(iJ*iJ+iI*iI+iH*iH),iE=Math.asin(iH/=iB),ij=cG(cG(iH)-1)<gm||cG(il-ik)<gm?(il+ik)/2:Math.atan2(iI,iJ),iz=ih(ij,iE),iD=iz[0],io=iz[1],im=iD-iG,iw=io-iq,iv=ix*im-iy*iw;if(iv*iv/iM>ie||cG((iy*im+ix*iw)/iM-0.5)>0.3||iN*iL+iu*it+iC*iA<ig){ib(iG,iq,il,iN,iu,iC,iD,io,ij,iJ/=iB,iI/=iB,iH,iK,ir);ir.point(iD,io);ib(iD,io,ij,iJ,iI,iH,iF,ip,ik,iL,it,iA,iK,ir)}}}ic.precision=function(ij){if(!arguments.length){return Math.sqrt(ie)}ii=(ie=ij*ij)>0&&16;return ic};return ic}hn.geo.path=function(){var ih=4.5,ib,id,ie,d3,ic;function ii(ij){if(ij){if(typeof ih==="function"){d3.pointRadius(+ih.apply(this,arguments))}if(!ic||!ic.valid){ic=ie(d3)}hn.geo.stream(ij,ic)}return d3.result()}ii.area=function(ij){fM=0;hn.geo.stream(ij,ie(dB));return fM};ii.centroid=function(ij){dK=dl=c6=dJ=dk=c4=dI=dj=c3=0;hn.geo.stream(ij,ie(g6));return c3?[dI/c3,dj/c3]:c4?[dJ/c4,dk/c4]:c6?[dK/c6,dl/c6]:[NaN,NaN]};ii.bounds=function(ij){eJ=en=-(eL=eo=Infinity);hn.geo.stream(ij,ie(aw));return[[eL,eo],[eJ,en]]};ii.projection=function(ij){if(!arguments.length){return ib}ie=(ib=ij)?ij.stream||hg(ij):gk;return ig()};ii.context=function(ij){if(!arguments.length){return id}d3=(id=ij)==null?new cj():new cE(ij);if(typeof ih!=="function"){d3.pointRadius(ih)}return ig()};ii.pointRadius=function(ij){if(!arguments.length){return ih}ih=typeof ij==="function"?ij:(d3.pointRadius(+ij),+ij);return ii};function ig(){ic=null;return ii}return ii.projection(hn.geo.albersUsa()).context(null)};function hg(ib){var d3=fN(function(ic,id){return ib([ic*hE,id*hE])});return function(ic){return ch(d3(ic))}}hn.geo.transform=function(d3){return{stream:function(id){var ic=new ea(id);for(var ib in d3){ic[ib]=d3[ib]}return ic}}};function ea(d3){this.stream=d3}ea.prototype={point:function(d3,ib){this.stream.point(d3,ib)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};function eG(ib,d3){return{point:d3,sphere:function(){ib.sphere()},lineStart:function(){ib.lineStart()},lineEnd:function(){ib.lineEnd()},polygonStart:function(){ib.polygonStart()},polygonEnd:function(){ib.polygonEnd()}}}hn.geo.projection=fz;hn.geo.projectionMutator=fg;function fz(d3){return fg(function(){return d3})()}function fg(iq){var id,iw,ii,it=fN(function(iB,iC){iB=id(iB,iC);return[iB[0]*iv+ig,ic-iB[1]*iv]}),iv=150,io=480,il=250,iu=0,im=0,ij=0,ie=0,ir=0,ig,ic,iA=k,ix=gk,d3=null,ib=null,ih;function iz(iB){iB=ii(iB[0]*I,iB[1]*I);return[iB[0]*iv+ig,ic-iB[1]*iv]}function ip(iB){iB=ii.invert((iB[0]-ig)/iv,(ic-iB[1])/iv);return iB&&[iB[0]*hE,iB[1]*hE]}iz.stream=function(iB){if(ih){ih.valid=false}ih=ch(iA(iw,it(ix(iB))));ih.valid=true;return ih};iz.clipAngle=function(iB){if(!arguments.length){return d3}iA=iB==null?(d3=iB,k):aK((d3=+iB)*I);return ik()};iz.clipExtent=function(iB){if(!arguments.length){return ib}ib=iB;ix=iB?ee(iB[0][0],iB[0][1],iB[1][0],iB[1][1]):gk;return ik()};iz.scale=function(iB){if(!arguments.length){return iv}iv=+iB;return iy()};iz.translate=function(iB){if(!arguments.length){return[io,il]}io=+iB[0];il=+iB[1];return iy()};iz.center=function(iB){if(!arguments.length){return[iu*hE,im*hE]}iu=iB[0]%360*I;im=iB[1]%360*I;return iy()};iz.rotate=function(iB){if(!arguments.length){return[ij*hE,ie*hE,ir*hE]}ij=iB[0]%360*I;ie=iB[1]%360*I;ir=iB.length>2?iB[2]%360*I:0;return iy()};hn.rebind(iz,it,"precision");function iy(){ii=e5(iw=dG(ij,ie,ir),id);var iB=id(iu,im);ig=io-iB[0]*iv;ic=il+iB[1]*iv;return ik()}function ik(){if(ih){ih.valid=false,ih=null}return iz}return function(){id=iq.apply(this,arguments);iz.invert=id.invert&&ip;return iy()}}function ch(d3){return eG(d3,function(ib,ic){d3.point(ib*I,ic*I)})}function bz(ib,d3){return[ib,d3]}(hn.geo.equirectangular=function(){return fz(bz)}).raw=bz.invert=bz;hn.geo.rotation=function(ib){ib=dG(ib[0]%360*I,ib[1]*I,ib.length>2?ib[2]*I:0);function d3(ic){ic=ib(ic[0]*I,ic[1]*I);return ic[0]*=hE,ic[1]*=hE,ic}d3.invert=function(ic){ic=ib.invert(ic[0]*I,ic[1]*I);return ic[0]*=hE,ic[1]*=hE,ic};return d3};function bI(ib,d3){return[ib>gd?ib-f7:ib<-gd?ib+f7:ib,d3]}bI.invert=bz;function dG(ic,ib,d3){return ic?ib||d3?e5(e0(ic),bU(ib,d3)):e0(ic):ib||d3?bU(ib,d3):bI}function gY(d3){return function(ic,ib){return ic+=d3,[ic>gd?ic-f7:ic<-gd?ic+f7:ic,ib]}}function e0(ib){var d3=gY(ib);d3.invert=gY(-ib);return d3}function bU(ig,ib){var ie=Math.cos(ig),ih=Math.sin(ig),d3=Math.cos(ib),ic=Math.sin(ib);function id(ik,ij){var im=Math.cos(ij),ii=Math.cos(ik)*im,ip=Math.sin(ik)*im,io=Math.sin(ij),il=io*ie+ii*ih;return[Math.atan2(ip*d3-il*ic,ii*ie-io*ih),cf(il*d3+ip*ic)]}id.invert=function(ik,ij){var im=Math.cos(ij),ii=Math.cos(ik)*im,ip=Math.sin(ik)*im,io=Math.sin(ij),il=io*d3-ip*ic;return[Math.atan2(ip*d3+io*ic,ii*ie+il*ih),cf(il*ie-ii*ih)]};return id}hn.geo.circle=function(){var ib=[0,0],ie,d3=6,ic;function id(){var ig=typeof ib==="function"?ib.apply(this,arguments):ib,ii=dG(-ig[0]*I,-ig[1]*I,0).invert,ih=[];ic(null,null,1,{point:function(ij,ik){ih.push(ij=ii(ij,ik));ij[0]*=hE,ij[1]*=hE}});return{type:"Polygon",coordinates:[ih]}}id.origin=function(ig){if(!arguments.length){return ib}ib=ig;return id};id.angle=function(ig){if(!arguments.length){return ie}ic=b5((ie=+ig)*I,d3*I);return id};id.precision=function(ig){if(!arguments.length){return d3}ic=b5(ie*I,(d3=+ig)*I);return id};return id.angle(90)};function b5(d3,ib){var id=Math.cos(d3),ic=Math.sin(d3);return function(il,ik,ij,ii){var ih=ij*ib;if(il!=null){il=hR(id,il);ik=hR(id,ik);if(ij>0?il<ik:il>ik){il+=ij*f7}}else{il=d3+ij*f7;ik=d3-0.5*ih}for(var ie,ig=il;ij>0?ig>ik:ig<ik;ig-=ih){ii.point((ie=h7([id,-ic*Math.cos(ig),-ic*Math.sin(ig)]))[0],ie[1])}}}function hR(ic,d3){var ib=au(d3);ib[0]-=ic;fj(ib);var id=ac(-ib[1]);return((-ib[2]<0?-id:id)+2*Math.PI-gm)%(2*Math.PI)}hn.geo.distance=function(ii,ih){var ij=(ih[0]-ii[0])*I,il=ii[1]*I,ik=ih[1]*I,ie=Math.sin(ij),ib=Math.cos(ij),ig=Math.sin(il),ic=Math.cos(il),id=Math.sin(ik),d3=Math.cos(ik),im;return Math.atan2(Math.sqrt((im=d3*ie)*im+(im=ic*id-ig*d3*ib)*im),ig*id+ic*d3*ib)};hn.geo.graticule=function(){var iq,it,iu,iv,id,ie,ig,ii,io=10,im=io,ij=90,ih=360,il,ik,ic,ib,ip=2.5;function ir(){return{type:"MultiLineString",coordinates:d3()}}function d3(){return hn.range(Math.ceil(iv/ij)*ij,iu,ij).map(ic).concat(hn.range(Math.ceil(ii/ih)*ih,ig,ih).map(ib)).concat(hn.range(Math.ceil(it/io)*io,iq,io).filter(function(iw){return cG(iw%ij)>gm}).map(il)).concat(hn.range(Math.ceil(ie/im)*im,id,im).filter(function(iw){return cG(iw%ih)>gm}).map(ik))}ir.lines=function(){return d3().map(function(iw){return{type:"LineString",coordinates:iw}})};ir.outline=function(){return{type:"Polygon",coordinates:[ic(iv).concat(ib(ig).slice(1),ic(iu).reverse().slice(1),ib(ii).reverse().slice(1))]}};ir.extent=function(iw){if(!arguments.length){return ir.minorExtent()}return ir.majorExtent(iw).minorExtent(iw)};ir.majorExtent=function(iw){if(!arguments.length){return[[iv,ii],[iu,ig]]}iv=+iw[0][0],iu=+iw[1][0];ii=+iw[0][1],ig=+iw[1][1];if(iv>iu){iw=iv,iv=iu,iu=iw}if(ii>ig){iw=ii,ii=ig,ig=iw}return ir.precision(ip)};ir.minorExtent=function(iw){if(!arguments.length){return[[it,ie],[iq,id]]}it=+iw[0][0],iq=+iw[1][0];ie=+iw[0][1],id=+iw[1][1];if(it>iq){iw=it,it=iq,iq=iw}if(ie>id){iw=ie,ie=id,id=iw}return ir.precision(ip)};ir.step=function(iw){if(!arguments.length){return ir.minorStep()}return ir.majorStep(iw).minorStep(iw)};ir.majorStep=function(iw){if(!arguments.length){return[ij,ih]}ij=+iw[0],ih=+iw[1];return ir};ir.minorStep=function(iw){if(!arguments.length){return[io,im]}io=+iw[0],im=+iw[1];return ir};ir.precision=function(iw){if(!arguments.length){return ip}ip=+iw;il=aJ(ie,id,90);ik=aI(it,iq,ip);ic=aJ(ii,ig,90);ib=aI(iv,iu,ip);return ir};return ir.majorExtent([[-180,-90+gm],[180,90-gm]]).minorExtent([[-180,-80-gm],[180,80+gm]])};function aJ(ic,ib,d3){var id=hn.range(ic,ib-gm,d3).concat(ib);return function(ie){return id.map(function(ig){return[ie,ig]})}}function aI(id,ic,ib){var d3=hn.range(id,ic-gm,ib).concat(ic);return function(ie){return d3.map(function(ig){return[ig,ie]})}}function hI(d3){return d3.source}function hP(d3){return d3.target}hn.geo.greatArc=function(){var ic=hI,ib,id=hP,ie;function d3(){return{type:"LineString",coordinates:[ib||ic.apply(this,arguments),ie||id.apply(this,arguments)]}}d3.distance=function(){return hn.geo.distance(ib||ic.apply(this,arguments),ie||id.apply(this,arguments))};d3.source=function(ig){if(!arguments.length){return ic}ic=ig,ib=typeof ig==="function"?null:ig;return d3};d3.target=function(ig){if(!arguments.length){return id}id=ig,ie=typeof ig==="function"?null:ig;return d3};d3.precision=function(){return arguments.length?d3:0};return d3};hn.geo.interpolate=function(d3,ib){return h(d3[0]*I,d3[1]*I,ib[0]*I,ib[1]*I)};function h(id,iq,ic,io){var ih=Math.cos(iq),ip=Math.sin(iq),ie=Math.cos(io),im=Math.sin(io),ij=ih*Math.cos(id),ib=ih*Math.sin(id),ii=ie*Math.cos(ic),d3=ie*Math.sin(ic),il=2*Math.asin(Math.sqrt(aD(io-iq)+ih*ie*aD(ic-id))),ig=1/Math.sin(il);var ik=il?function(iu){var ix=Math.sin(iu*=il)*ig,it=Math.sin(il-iu)*ig,ir=it*ij+ix*ii,iw=it*ib+ix*d3,iv=it*ip+ix*im;return[Math.atan2(iw,ir)*hE,Math.atan2(iv,Math.sqrt(ir*ir+iw*iw))*hE]}:function(){return[id*hE,iq*hE]};ik.distance=il;return ik}hn.geo.length=function(d3){dT=0;hn.geo.stream(d3,fW);return dT};var dT;var fW={sphere:aG,point:aG,lineStart:hL,lineEnd:aG,polygonStart:aG,polygonEnd:aG};function hL(){var ib,ic,d3;fW.point=function(ig,ie){ib=ig*I,ic=Math.sin(ie*=I),d3=Math.cos(ie);fW.point=id};fW.lineEnd=function(){fW.point=fW.lineEnd=aG};function id(ig,ie){var ij=Math.sin(ie*=I),ik=Math.cos(ie),ih=cG((ig*=I)-ib),ii=Math.cos(ih);dT+=Math.atan2(Math.sqrt((ih=ik*Math.sin(ih))*ih+(ih=d3*ij-ic*ik*ii)*ih),ic*ij+d3*ik*ii);ib=ig,ic=ij,d3=ik}}function ey(ic,ib){function d3(ie,id){var ii=Math.cos(ie),ih=Math.cos(id),ig=ic(ii*ih);return[ig*ih*Math.sin(ie),ig*Math.sin(id)]}d3.invert=function(id,ij){var ih=Math.sqrt(id*id+ij*ij),ii=ib(ih),ie=Math.sin(ii),ig=Math.cos(ii);return[Math.atan2(id*ie,ih*ig),Math.asin(ih&&ij*ie/ih)]};return d3}var bv=ey(function(d3){return Math.sqrt(2/(1+d3))},function(d3){return 2*Math.asin(d3/2)});(hn.geo.azimuthalEqualArea=function(){return fz(bv)}).raw=bv;var bH=ey(function(d3){var ib=Math.acos(d3);return ib&&ib/Math.sin(ib)},gk);(hn.geo.azimuthalEquidistant=function(){return fz(bH)}).raw=bH;function fI(ic,ib){var d3=Math.cos(ic),ie=function(ii){return Math.tan(gd/4+ii/2)},ih=ic===ib?Math.sin(ic):Math.log(d3/Math.cos(ib))/Math.log(ie(ib)/ie(ic)),ig=d3*Math.pow(ie(ic),ih)/ih;if(!ih){return aS}function id(ij,ii){if(ig>0){if(ii<-ep+gm){ii=-ep+gm}}else{if(ii>ep-gm){ii=ep-gm}}var ik=ig/Math.pow(ie(ii),ih);return[ik*Math.sin(ih*ij),ig-ik*Math.cos(ih*ij)]}id.invert=function(ii,il){var ik=ig-il,ij=b9(ih)*Math.sqrt(ii*ii+ik*ik);return[Math.atan2(ii,ik)/ih,2*Math.atan(Math.pow(ig/ij,1/ih))-ep]};return id}(hn.geo.conicConformal=function(){return b7(fI)}).raw=fI;function hA(ic,ib){var d3=Math.cos(ic),ig=ic===ib?Math.sin(ic):(d3-Math.cos(ib))/(ib-ic),ie=d3/ig+ic;if(cG(ig)<gm){return bz}function id(ii,ih){var ij=ie-ih;return[ij*Math.sin(ig*ii),ie-ij*Math.cos(ig*ii)]}id.invert=function(ih,ij){var ii=ie-ij;return[Math.atan2(ih,ii)/ig,ie-b9(ig)*Math.sqrt(ih*ih+ii*ii)]};return id}(hn.geo.conicEquidistant=function(){return b7(hA)}).raw=hA;var eF=ey(function(d3){return 1/d3},Math.atan);(hn.geo.gnomonic=function(){return fz(eF)}).raw=eF;function aS(ib,d3){return[ib,Math.log(Math.tan(gd/4+d3/2))]}aS.invert=function(d3,ib){return[d3,2*Math.atan(Math.exp(ib))-ep]};function c5(ig){var d3=fz(ig),ie=d3.scale,id=d3.translate,ib=d3.clipExtent,ic;d3.scale=function(){var ih=ie.apply(d3,arguments);return ih===d3?ic?d3.clipExtent(null):d3:ih};d3.translate=function(){var ih=id.apply(d3,arguments);return ih===d3?ic?d3.clipExtent(null):d3:ih};d3.clipExtent=function(ij){var ii=ib.apply(d3,arguments);if(ii===d3){if(ic=ij==null){var ih=gd*ie(),ik=id();ib([[ik[0]-ih,ik[1]-ih],[ik[0]+ih,ik[1]+ih]])}}else{if(ic){ii=null}}return ii};return d3.clipExtent(null)}(hn.geo.mercator=function(){return c5(aS)}).raw=aS;var fY=ey(function(){return 1},Math.asin);(hn.geo.orthographic=function(){return fz(fY)}).raw=fY;var cd=ey(function(d3){return 1/(1+d3)},function(d3){return 2*Math.atan(d3)});(hn.geo.stereographic=function(){return fz(cd)}).raw=cd;function ai(ib,d3){return[Math.log(Math.tan(gd/4+d3/2)),-ib]}ai.invert=function(d3,ib){return[-ib,2*Math.atan(Math.exp(d3))-ep]};(hn.geo.transverseMercator=function(){var ib=c5(ai),d3=ib.center,ic=ib.rotate;ib.center=function(id){return id?d3([-id[1],id[0]]):(id=d3(),[id[1],-id[0]])};ib.rotate=function(id){return id?ic([id[0],id[1],id.length>2?id[2]+90:90]):(id=ic(),[id[0],id[1],id[2]-90])};return ic([0,0,90])}).raw=ai;hn.geom={};function hU(d3){return d3[0]}function hT(d3){return d3[1]}hn.geom.hull=function(ib){var d3=hU,id=hT;if(arguments.length){return ic(ib)}function ic(il){if(il.length<3){return[]}var ih=Q(d3),ig=Q(id),im,ie=il.length,ip=[],iq=[];for(im=0;im<ie;im++){ip.push([+ih.call(this,il[im],im),+ig.call(this,il[im],im),im])}ip.sort(h2);for(im=0;im<ie;im++){iq.push([ip[im][0],-ip[im][1]])}var ir=bp(ip),ik=bp(iq);var ii=ik[0]===ir[0],ij=ik[ik.length-1]===ir[ir.length-1],io=[];for(im=ir.length-1;im>=0;--im){io.push(il[ip[ir[im]][2]])}for(im=+ii;im<ik.length-ij;++im){io.push(il[ip[ik[im]][2]])}return io}ic.x=function(ie){return arguments.length?(d3=ie,ic):d3};ic.y=function(ie){return arguments.length?(id=ie,ic):id};return ic};function bp(ic){var ie=ic.length,id=[0,1],ib=2;for(var d3=2;d3<ie;d3++){while(ib>1&&eZ(ic[id[ib-2]],ic[id[ib-1]],ic[d3])<=0){--ib}id[ib++]=d3}return id.slice(0,ib)}function h2(ib,d3){return ib[0]-d3[0]||ib[1]-d3[1]}hn.geom.polygon=function(d3){h5(d3,eq);return d3};var eq=hn.geom.polygon.prototype=[];eq.area=function(){var ic=-1,ie=this.length,ib,d3=this[ie-1],id=0;while(++ic<ie){ib=d3;d3=this[ic];id+=ib[1]*d3[0]-ib[0]*d3[1]}return id*0.5};eq.centroid=function(id){var ie=-1,ii=this.length,ib=0,ih=0,ic,d3=this[ii-1],ig;if(!arguments.length){id=-1/(6*this.area())}while(++ie<ii){ic=d3;d3=this[ie];ig=ic[0]*d3[1]-d3[0]*ic[1];ib+=(ic[0]+d3[0])*ig;ih+=(ic[1]+d3[1])*ig}return[ib*id,ih*id]};eq.clip=function(ii){var ik,ie=gS(ii),id=-1,d3=this.length-gS(this),ic,ib,il=this[d3-1],ij,ih,ig;while(++id<d3){ik=ii.slice();ii.length=0;ij=this[id];ih=ik[(ib=ik.length-ie)-1];ic=-1;while(++ic<ib){ig=ik[ic];if(D(ig,il,ij)){if(!D(ih,il,ij)){ii.push(gi(ih,ig,il,ij))}ii.push(ig)}else{if(D(ih,il,ij)){ii.push(gi(ih,ig,il,ij))}}ih=ig}if(ie){ii.push(ii[0])}il=ij}return ii};function D(ic,ib,d3){return(d3[0]-ib[0])*(ic[1]-ib[1])<(d3[1]-ib[1])*(ic[0]-ib[0])}function gi(ih,ie,il,ii){var ic=ih[0],d3=il[0],id=ie[0]-ic,im=ii[0]-d3,ik=ih[1],ig=il[1],ij=ie[1]-ik,io=ii[1]-ig,ib=(im*(ik-ig)-io*(ic-d3))/(io*id-im*ij);return[ic+ib*id,ik+ib*ij]}function gS(ic){var ib=ic[0],d3=ic[ic.length-1];return !(ib[0]-d3[0]||ib[1]-d3[1])}var gO,ew,cR,dd=[],hd,d2,et=[];function gC(){s(this);this.edge=this.site=this.circle=null}function eX(ib){var d3=dd.pop()||new gC();d3.site=ib;return d3}function gB(d3){eM(d3);cR.remove(d3);dd.push(d3);s(d3)}function hp(ib){var d3=ib.circle,ik=d3.x,ih=d3.cy,ie={x:ik,y:ih},ig=ib.P,id=ib.N,ij=[ib];gB(ib);var im=ig;while(im.circle&&cG(ik-im.circle.x)<gm&&cG(ih-im.circle.cy)<gm){ig=im.P;ij.unshift(im);gB(im);im=ig}ij.unshift(im);eM(im);var ic=id;while(ic.circle&&cG(ik-ic.circle.x)<gm&&cG(ih-ic.circle.cy)<gm){id=ic.N;ij.push(ic);gB(ic);ic=id}ij.push(ic);eM(ic);var il=ij.length,ii;for(ii=1;ii<il;++ii){ic=ij[ii];im=ij[ii-1];cp(ic.edge,im.site,ic.site,ie)}im=ij[0];ic=ij[il-1];ic.edge=hj(im.site,ic.site,null,ie);V(im);V(ic)}function du(il){var ij=il.x,io=il.y,iq,im,ix,ir,ip=cR._;while(ip){ix=c7(ip,io)-ij;if(ix>gm){ip=ip.L}else{ir=ij-gc(ip,io);if(ir>gm){if(!ip.R){iq=ip;break}ip=ip.R}else{if(ix>-gm){iq=ip.P;im=ip}else{if(ir>-gm){iq=ip;im=ip.N}else{iq=im=ip}}break}}}var id=eX(il);cR.insert(iq,id);if(!iq&&!im){return}if(iq===im){eM(iq);im=eX(iq.site);cR.insert(id,im);id.edge=im.edge=hj(iq.site,id.site);V(iq);V(im);return}if(!im){id.edge=hj(iq.site,id.site);return}eM(iq);eM(im);var ih=iq.site,ik=ih.x,ii=ih.y,iv=il.x-ik,it=il.y-ii,d3=im.site,ic=d3.x-ik,ib=d3.y-ii,iw=2*(iv*ib-it*ic),ig=iv*iv+it*it,ie=ic*ic+ib*ib,iu={x:(ib*ig-it*ie)/iw+ik,y:(iv*ie-ic*ig)/iw+ii};cp(im.edge,ih,d3,iu);id.edge=hj(ih,il,null,iu);im.edge=hj(il,d3,null,iu);V(iq);V(im)}function c7(id,ie){var d3=id.site,im=d3.x,il=d3.y,ik=il-ie;if(!ik){return im}var io=id.P;if(!io){return -Infinity}d3=io.site;var ih=d3.x,ig=d3.y,ic=ig-ie;if(!ic){return ih}var ib=ih-im,ij=1/ik-1/ic,ii=ib/ic;if(ij){return(-ii+Math.sqrt(ii*ii-2*ij*(ib*ib/(-2*ic)-ig+ic/2+il-ik/2)))/ij+im}return(im+ih)/2}function gc(ib,ic){var id=ib.N;if(id){return c7(id,ic)}var d3=ib.site;return d3.y===ic?d3.x:Infinity}function bY(d3){this.site=d3;this.edges=[]}bY.prototype.prepare=function(){var ic=this.edges,d3=ic.length,ib;while(d3--){ib=ic[d3].edge;if(!ib.b||!ib.a){ic.splice(d3,1)}}ic.sort(t);return ic.length};function by(it){var ih=it[0][0],ig=it[1][0],io=it[0][1],im=it[1][1],id,il,d3,ik,ir=ew,ic=ir.length,iq,ip,ij,ib,ie,ii;while(ic--){iq=ir[ic];if(!iq||!iq.prepare()){continue}ij=iq.edges;ib=ij.length;ip=0;while(ip<ib){ii=ij[ip].end(),d3=ii.x,ik=ii.y;ie=ij[++ip%ib].start(),id=ie.x,il=ie.y;if(cG(d3-id)>gm||cG(ik-il)>gm){ij.splice(ip,0,new h0(g8(iq.site,ii,cG(d3-ih)<gm&&im-ik>gm?{x:ih,y:cG(id-ih)<gm?il:im}:cG(ik-im)<gm&&ig-d3>gm?{x:cG(il-im)<gm?id:ig,y:im}:cG(d3-ig)<gm&&ik-io>gm?{x:ig,y:cG(id-ig)<gm?il:io}:cG(ik-io)<gm&&d3-ih>gm?{x:cG(il-io)<gm?id:ih,y:io}:null),iq.site,null));++ib}}}}function t(ib,d3){return d3.angle-ib.angle}function aV(){s(this);this.x=this.y=this.arc=this.site=this.cy=null}function V(ih){var ir=ih.P,ip=ih.N;if(!ir||!ip){return}var ij=ir.site,iv=ih.site,d3=ip.site;if(ij===d3){return}var iu=iv.x,it=iv.y,im=ij.x-iu,ik=ij.y-it,ic=d3.x-iu,ib=d3.y-it;var iw=2*(im*ib-ik*ic);if(iw>=-eD){return}var ig=im*im+ik*ik,ie=ic*ic+ib*ib,il=(ib*ig-ik*ie)/iw,ii=(im*ie-ic*ig)/iw,ib=ii+it;var id=et.pop()||new aV();id.arc=ih;id.site=iv;id.x=il+iu;id.y=ib+Math.sqrt(il*il+ii*ii);id.cy=ib;ih.circle=id;var io=null,iq=d2._;while(iq){if(id.y<iq.y||id.y===iq.y&&id.x<=iq.x){if(iq.L){iq=iq.L}else{io=iq.P;break}}else{if(iq.R){iq=iq.R}else{io=iq;break}}}d2.insert(io,id);if(!io){hd=id}}function eM(d3){var ib=d3.circle;if(ib){if(!ib.P){hd=ib.N}d2.remove(ib);et.push(ib);s(ib);d3.circle=null}}function hC(ic){var d3=gO,id=aj(ic[0][0],ic[0][1],ic[1][0],ic[1][1]),ib=d3.length,ie;while(ib--){ie=d3[ib];if(!bm(ie,ic)||!id(ie)||cG(ie.a.x-ie.b.x)<gm&&cG(ie.a.y-ie.b.y)<gm){ie.a=ie.b=null;d3.splice(ib,1)}}}function bm(im,iq){var d3=im.b;if(d3){return true}var ib=im.a,iu=iq[0][0],it=iq[1][0],ig=iq[0][1],id=iq[1][1],ip=im.l,ic=im.r,ij=ip.x,ii=ip.y,il=ic.x,ik=ic.y,ih=(ij+il)/2,ie=(ii+ik)/2,io,ir;if(ik===ii){if(ih<iu||ih>=it){return}if(ij>il){if(!ib){ib={x:ih,y:ig}}else{if(ib.y>=id){return}}d3={x:ih,y:id}}else{if(!ib){ib={x:ih,y:id}}else{if(ib.y<ig){return}}d3={x:ih,y:ig}}}else{io=(ij-il)/(ik-ii);ir=ie-io*ih;if(io<-1||io>1){if(ij>il){if(!ib){ib={x:(ig-ir)/io,y:ig}}else{if(ib.y>=id){return}}d3={x:(id-ir)/io,y:id}}else{if(!ib){ib={x:(id-ir)/io,y:id}}else{if(ib.y<ig){return}}d3={x:(ig-ir)/io,y:ig}}}else{if(ii<ik){if(!ib){ib={x:iu,y:io*iu+ir}}else{if(ib.x>=it){return}}d3={x:it,y:io*it+ir}}else{if(!ib){ib={x:it,y:io*it+ir}}else{if(ib.x<iu){return}}d3={x:iu,y:io*iu+ir}}}}im.a=ib;im.b=d3;return true}function F(ib,d3){this.l=ib;this.r=d3;this.a=this.b=null}function hj(ie,d3,id,ib){var ic=new F(ie,d3);gO.push(ic);if(id){cp(ic,ie,d3,id)}if(ib){cp(ic,d3,ie,ib)}ew[ie.i].edges.push(new h0(ic,ie,d3));ew[d3.i].edges.push(new h0(ic,d3,ie));return ic}function g8(id,ic,d3){var ib=new F(id,null);ib.a=ic;ib.b=d3;gO.push(ib);return ib}function cp(ib,id,d3,ic){if(!ib.a&&!ib.b){ib.a=ic;ib.l=id;ib.r=d3}else{if(ib.l===d3){ib.b=ic}else{ib.a=ic}}}function h0(id,ie,d3){var ic=id.a,ib=id.b;this.edge=id;this.site=ie;this.angle=d3?Math.atan2(d3.y-ie.y,d3.x-ie.x):id.l===ie?Math.atan2(ib.x-ic.x,ic.y-ib.y):Math.atan2(ic.x-ib.x,ib.y-ic.y)}h0.prototype={start:function(){return this.edge.l===this.site?this.edge.a:this.edge.b},end:function(){return this.edge.l===this.site?this.edge.b:this.edge.a}};function ba(){this._=null}function s(d3){d3.U=d3.C=d3.L=d3.R=d3.P=d3.N=null}ba.prototype={insert:function(ie,id){var ic,ib,d3;if(ie){id.P=ie;id.N=ie.N;if(ie.N){ie.N.P=id}ie.N=id;if(ie.R){ie=ie.R;while(ie.L){ie=ie.L}ie.L=id}else{ie.R=id}ic=ie}else{if(this._){ie=da(this._);id.P=null;id.N=ie;ie.P=ie.L=id;ic=ie}else{id.P=id.N=null;this._=id;ic=null}}id.L=id.R=null;id.U=ic;id.C=true;ie=id;while(ic&&ic.C){ib=ic.U;if(ic===ib.L){d3=ib.R;if(d3&&d3.C){ic.C=d3.C=false;ib.C=true;ie=ib}else{if(ie===ic.R){ah(this,ic);ie=ic;ic=ie.U}ic.C=false;ib.C=true;eQ(this,ib)}}else{d3=ib.L;if(d3&&d3.C){ic.C=d3.C=false;ib.C=true;ie=ib}else{if(ie===ic.L){eQ(this,ic);ie=ic;ic=ie.U}ic.C=false;ib.C=true;ah(this,ib)}}ic=ie.U}this._.C=false},remove:function(ie){if(ie.N){ie.N.P=ie.P}if(ie.P){ie.P.N=ie.N}ie.N=ie.P=null;var id=ie.U,ic,ih=ie.L,d3=ie.R,ib,ig;if(!ih){ib=d3}else{if(!d3){ib=ih}else{ib=da(d3)}}if(id){if(id.L===ie){id.L=ib}else{id.R=ib}}else{this._=ib}if(ih&&d3){ig=ib.C;ib.C=ie.C;ib.L=ih;ih.U=ib;if(ib!==d3){id=ib.U;ib.U=ie.U;ie=ib.R;id.L=ie;ib.R=d3;d3.U=ib}else{ib.U=id;id=ib;ie=ib.R}}else{ig=ie.C;ie=ib}if(ie){ie.U=id}if(ig){return}if(ie&&ie.C){ie.C=false;return}do{if(ie===this._){break}if(ie===id.L){ic=id.R;if(ic.C){ic.C=false;id.C=true;ah(this,id);ic=id.R}if(ic.L&&ic.L.C||ic.R&&ic.R.C){if(!ic.R||!ic.R.C){ic.L.C=false;ic.C=true;eQ(this,ic);ic=id.R}ic.C=id.C;id.C=ic.R.C=false;ah(this,id);ie=this._;break}}else{ic=id.L;if(ic.C){ic.C=false;id.C=true;eQ(this,id);ic=id.L}if(ic.L&&ic.L.C||ic.R&&ic.R.C){if(!ic.L||!ic.L.C){ic.R.C=false;ic.C=true;ah(this,ic);ic=id.L}ic.C=id.C;id.C=ic.L.C=false;eQ(this,id);ie=this._;break}}ic.C=true;ie=id;id=id.U}while(!ie.C);if(ie){ie.C=false}}};function ah(d3,ic){var ie=ic,id=ic.R,ib=ie.U;if(ib){if(ib.L===ie){ib.L=id}else{ib.R=id}}else{d3._=id}id.U=ib;ie.U=id;ie.R=id.L;if(ie.R){ie.R.U=ie}id.L=ie}function eQ(d3,ic){var ie=ic,id=ic.L,ib=ie.U;if(ib){if(ib.L===ie){ib.L=id}else{ib.R=id}}else{d3._=id}id.U=ib;ie.U=id;ie.L=id.R;if(ie.L){ie.L.U=ie}id.R=ie}function da(d3){while(d3.L){d3=d3.L}return d3}function g1(ig,ih){var ib=ig.sort(bk).pop(),ic,id,ie;gO=[];ew=new Array(ig.length);cR=new ba();d2=new ba();while(true){ie=hd;if(ib&&(!ie||ib.y<ie.y||ib.y===ie.y&&ib.x<ie.x)){if(ib.x!==ic||ib.y!==id){ew[ib.i]=new bY(ib);du(ib);ic=ib.x,id=ib.y}ib=ig.pop()}else{if(ie){hp(ie.arc)}else{break}}}if(ih){hC(ih),by(ih)}var d3={cells:ew,edges:gO};cR=d2=gO=ew=null;return d3}function bk(ib,d3){return d3.y-ib.y||d3.x-ib.x}hn.geom.voronoi=function(id){var d3=hU,ii=hT,ie=d3,ic=ii,ib=hG;if(id){return ih(id)}function ih(ip){var ij=new Array(ip.length),il=ib[0][0],io=ib[0][1],ik=ib[1][0],im=ib[1][1];g1(ig(ip),ib).cells.forEach(function(iq,iv){var ir=iq.edges,it=iq.site,iu=ij[iv]=ir.length?ir.map(function(ix){var iw=ix.start();return[iw.x,iw.y]}):it.x>=il&&it.x<=ik&&it.y>=io&&it.y<=im?[[il,im],[ik,im],[ik,io],[il,io]]:[];iu.point=ip[iv]});return ij}function ig(ij){return ij.map(function(il,ik){return{x:Math.round(ie(il,ik)/gm)*gm,y:Math.round(ic(il,ik)/gm)*gm,i:ik}})}ih.links=function(ij){return g1(ig(ij)).edges.filter(function(ik){return ik.l&&ik.r}).map(function(ik){return{source:ij[ik.l.i],target:ij[ik.r.i]}})};ih.triangles=function(ik){var ij=[];g1(ig(ik)).cells.forEach(function(iv,iq){var il=iv.site,ip=iv.edges.sort(t),io=-1,im=ip.length,it,iw,ir=ip[im-1].edge,iu=ir.l===il?ir.r:ir.l;while(++io<im){it=ir;iw=iu;ir=ip[io].edge;iu=ir.l===il?ir.r:ir.l;if(iq<iw.i&&iq<iu.i&&gA(il,iw,iu)<0){ij.push([ik[iq],ik[iw.i],ik[iu.i]])}}});return ij};ih.x=function(ij){return arguments.length?(ie=Q(d3=ij),ih):d3};ih.y=function(ij){return arguments.length?(ic=Q(ii=ij),ih):ii};ih.clipExtent=function(ij){if(!arguments.length){return ib===hG?null:ib}ib=ij==null?hG:ij;return ih};ih.size=function(ij){if(!arguments.length){return ib===hG?null:ib&&ib[1]}return ih.clipExtent(ij&&[[0,0],ij])};return ih};var hG=[[-1000000,-1000000],[1000000,1000000]];function gA(ib,d3,ic){return(ib.x-ic.x)*(d3.y-ib.y)-(ib.x-d3.x)*(ic.y-ib.y)}hn.geom.delaunay=function(d3){return hn.geom.voronoi().triangles(d3)};hn.geom.quadtree=function(ii,ib,ig,d3,ie){var ih=hU,id=hT,ij;if(ij=arguments.length){ih=f3;id=f1;if(ij===3){ie=ig;d3=ib;ig=ib=0}return ic(ii)}function ic(iE){var iB,ip=Q(ih),im=Q(id),ir,iy,iz,iw,ik,iv,iq,iD;if(ib!=null){ik=ib,iv=ig,iq=d3,iD=ie}else{iq=iD=-(ik=iv=Infinity);ir=[],iy=[];iw=iE.length;if(ij){for(iz=0;iz<iw;++iz){iB=iE[iz];if(iB.x<ik){ik=iB.x}if(iB.y<iv){iv=iB.y}if(iB.x>iq){iq=iB.x}if(iB.y>iD){iD=iB.y}ir.push(iB.x);iy.push(iB.y)}}else{for(iz=0;iz<iw;++iz){var iA=+ip(iB=iE[iz],iz),io=+im(iB,iz);if(iA<ik){ik=iA}if(io<iv){iv=io}if(iA>iq){iq=iA}if(io>iD){iD=io}ir.push(iA);iy.push(io)}}}var iu=iq-ik,it=iD-iv;if(iu>it){iD=iv+iu}else{iq=ik+it}function il(iH,iL,iP,iM,iG,iO,iF,iN){if(isNaN(iP)||isNaN(iM)){return}if(iH.leaf){var iK=iH.x,iJ=iH.y;if(iK!=null){if(cG(iK-iP)+cG(iJ-iM)<0.01){iC(iH,iL,iP,iM,iG,iO,iF,iN)}else{var iI=iH.point;iH.x=iH.y=iH.point=null;iC(iH,iI,iK,iJ,iG,iO,iF,iN);iC(iH,iL,iP,iM,iG,iO,iF,iN)}}else{iH.x=iP,iH.y=iM,iH.point=iL}}else{iC(iH,iL,iP,iM,iG,iO,iF,iN)}}function iC(iI,iL,iP,iM,iG,iO,iF,iN){var iK=(iG+iF)*0.5,iH=(iO+iN)*0.5,iR=iP>=iK,iQ=iM>=iH,iJ=iQ<<1|iR;iI.leaf=false;iI=iI.nodes[iJ]||(iI.nodes[iJ]=fG());if(iR){iG=iK}else{iF=iK}if(iQ){iO=iH}else{iN=iH}il(iI,iL,iP,iM,iG,iO,iF,iN)}var ix=fG();ix.add=function(iF){il(ix,iF,+ip(iF,++iz),+im(iF,iz),ik,iv,iq,iD)};ix.visit=function(iF){cM(iF,ix,ik,iv,iq,iD)};ix.find=function(iF){return ek(ix,iF[0],iF[1],ik,iv,iq,iD)};iz=-1;if(ib==null){while(++iz<iw){il(ix,iE[iz],ir[iz],iy[iz],ik,iv,iq,iD)}--iz}else{iE.forEach(ix.add)}ir=iy=iE=iB=null;return ix}ic.x=function(ik){return arguments.length?(ih=ik,ic):ih};ic.y=function(ik){return arguments.length?(id=ik,ic):id};ic.extent=function(ik){if(!arguments.length){return ib==null?null:[[ib,ig],[d3,ie]]}if(ik==null){ib=ig=d3=ie=null}else{ib=+ik[0][0],ig=+ik[0][1],d3=+ik[1][0],ie=+ik[1][1]}return ic};ic.size=function(ik){if(!arguments.length){return ib==null?null:[d3-ib,ie-ig]}if(ik==null){ib=ig=d3=ie=null}else{ib=ig=0,d3=+ik[0],ie=+ik[1]}return ic};return ic};function f3(d3){return d3.x}function f1(d3){return d3.y}function fG(){return{leaf:true,nodes:[],point:null,x:null,y:null}}function cM(ie,id,ib,ij,d3,ih){if(!ie(id,ib,ij,d3,ih)){var ii=(ib+d3)*0.5,ig=(ij+ih)*0.5,ic=id.nodes;if(ic[0]){cM(ie,ic[0],ib,ij,ii,ig)}if(ic[1]){cM(ie,ic[1],ii,ij,d3,ig)}if(ic[2]){cM(ie,ic[2],ib,ig,ii,ih)}if(ic[3]){cM(ie,ic[3],ii,ig,d3,ih)}}}function ek(ih,ij,ig,ic,ik,d3,ie){var ii=Infinity,ib;(function id(ir,io,iy,im,ix){if(io>d3||iy>ie||im<ic||ix<ik){return}if(iA=ir.point){var iA,iD=ij-ir.x,iC=ig-ir.y,iw=iD*iD+iC*iC;if(iw<ii){var il=Math.sqrt(ii=iw);ic=ij-il,ik=ig-il;d3=ij+il,ie=ig+il;ib=iA}}var iq=ir.nodes,iv=(io+im)*0.5,ip=(iy+ix)*0.5,iB=ij>=iv,iz=ig>=ip;for(var iu=iz<<1|iB,it=iu+4;iu<it;++iu){if(ir=iq[iu&3]){switch(iu&3){case 0:id(ir,io,iy,iv,ip);break;case 1:id(ir,iv,iy,im,ip);break;case 2:id(ir,io,ip,iv,ix);break;case 3:id(ir,iv,ip,im,ix);break}}}})(ih,ic,ik,d3,ie);return ib}hn.interpolateRgb=aM;function aM(ib,d3){ib=hn.rgb(ib);d3=hn.rgb(d3);var id=ib.r,ic=ib.g,ih=ib.b,ig=d3.r-id,ie=d3.g-ic,ii=d3.b-ih;return function(ij){return"#"+cv(Math.round(id+ig*ij))+cv(Math.round(ic+ie*ij))+cv(Math.round(ih+ii*ij))}}hn.interpolateObject=bM;function bM(ib,d3){var id={},ie={},ic;for(ic in ib){if(ic in d3){id[ic]=fB(ib[ic],d3[ic])}else{ie[ic]=ib[ic]}}for(ic in d3){if(!(ic in ib)){ie[ic]=d3[ic]}}return function(ig){for(ic in id){ie[ic]=id[ic](ig)}return ie}}hn.interpolateNumber=bG;function bG(ib,d3){ib=+ib,d3=+d3;return function(ic){return ib*(1-ic)+d3*ic}}hn.interpolateString=b1;function b1(ih,ig){var ic=hB.lastIndex=hz.lastIndex=0,ie,ib,ii,id=-1,ij=[],d3=[];ih=ih+"",ig=ig+"";while((ie=hB.exec(ih))&&(ib=hz.exec(ig))){if((ii=ib.index)>ic){ii=ig.slice(ic,ii);if(ij[id]){ij[id]+=ii}else{ij[++id]=ii}}if((ie=ie[0])===(ib=ib[0])){if(ij[id]){ij[id]+=ib}else{ij[++id]=ib}}else{ij[++id]=null;d3.push({i:id,x:bG(ie,ib)})}ic=hz.lastIndex}if(ic<ig.length){ii=ig.slice(ic);if(ij[id]){ij[id]+=ii}else{ij[++id]=ii}}return ij.length<2?d3[0]?(ig=d3[0].x,function(ik){return ig(ik)+""}):function(){return ig}:(ig=d3.length,function(il){for(var ik=0,im;ik<ig;++ik){ij[(im=d3[ik]).i]=im.x(il)}return ij.join("")})}var hB=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,hz=new RegExp(hB.source,"g");hn.interpolate=fB;function fB(ib,d3){var ic=hn.interpolators.length,id;while(--ic>=0&&!(id=hn.interpolators[ic](ib,d3))){}return id}hn.interpolators=[function(ib,d3){var ic=typeof d3;return(ic==="string"?al.has(d3.toLowerCase())||/^(#|rgb\(|hsl\()/i.test(d3)?aM:b1:d3 instanceof gU?aM:Array.isArray(d3)?eO:ic==="object"&&isNaN(d3)?bM:bG)(ib,d3)}];hn.interpolateArray=eO;function eO(ie,ic){var ib=[],ii=[],id=ie.length,d3=ic.length,ih=Math.min(ie.length,ic.length),ig;for(ig=0;ig<ih;++ig){ib.push(fB(ie[ig],ic[ig]))}for(;ig<id;++ig){ii[ig]=ie[ig]}for(;ig<d3;++ig){ii[ig]=ic[ig]}return function(ij){for(ig=0;ig<ih;++ig){ii[ig]=ib[ig](ij)}return ii}}var hi=function(){return gk};var aa=hn.map({linear:hi,poly:aR,quad:function(){return bZ},cubic:function(){return H},sin:function(){return gb},exp:function(){return ft},circle:function(){return d5},elastic:U,back:gZ,bounce:function(){return ck}});var j=hn.map({"in":gk,out:C,"in-out":a2,"out-in":function(d3){return a2(C(d3))}});hn.ease=function(ib){var id=ib.indexOf("-"),ic=id>=0?ib.slice(0,id):ib,d3=id>=0?ib.slice(id+1):"in";ic=aa.get(ic)||hi;d3=j.get(d3)||gk;return fy(d3(ic.apply(null,bO.call(arguments,1))))};function fy(d3){return function(ib){return ib<=0?0:ib>=1?1:d3(ib)}}function C(d3){return function(ib){return 1-d3(1-ib)}}function a2(d3){return function(ib){return 0.5*(ib<0.5?d3(2*ib):2-d3(2-2*ib))}}function bZ(d3){return d3*d3}function H(d3){return d3*d3*d3}function av(ib){if(ib<=0){return 0}if(ib>=1){return 1}var ic=ib*ib,d3=ic*ib;return 4*(ib<0.5?d3:3*(ib-ic)+d3-0.75)}function aR(d3){return function(ib){return Math.pow(ib,d3)}}function gb(d3){return 1-Math.cos(d3*ep)}function ft(d3){return Math.pow(2,10*(d3-1))}function d5(d3){return 1-Math.sqrt(1-d3*d3)}function U(d3,ic){var ib;if(arguments.length<2){ic=0.45}if(arguments.length){ib=ic/f7*Math.asin(1/d3)}else{d3=1,ib=ic/4}return function(id){return 1+d3*Math.pow(2,-10*id)*Math.sin((id-ib)*f7/ic)}}function gZ(d3){if(!d3){d3=1.70158}return function(ib){return ib*ib*((d3+1)*ib-d3)}}function ck(d3){return d3<1/2.75?7.5625*d3*d3:d3<2/2.75?7.5625*(d3-=1.5/2.75)*d3+0.75:d3<2.5/2.75?7.5625*(d3-=2.25/2.75)*d3+0.9375:7.5625*(d3-=2.625/2.75)*d3+0.984375}hn.interpolateHcl=gR;function gR(ic,d3){ic=hn.hcl(ic);d3=hn.hcl(d3);var ib=ic.h,ie=ic.c,ih=ic.l,id=d3.h-ib,ig=d3.c-ie,ii=d3.l-ih;if(isNaN(ig)){ig=0,ie=isNaN(ie)?d3.c:ie}if(isNaN(id)){id=0,ib=isNaN(ib)?d3.h:ib}else{if(id>180){id-=360}else{if(id<-180){id+=360}}}return function(ij){return bD(ib+id*ij,ie+ig*ij,ih+ii*ij)+""}}hn.interpolateHsl=a3;function a3(id,d3){id=hn.hsl(id);d3=hn.hsl(d3);var ic=id.h,ib=id.s,ih=id.l,ig=d3.h-ic,ie=d3.s-ib,ii=d3.l-ih;if(isNaN(ie)){ie=0,ib=isNaN(ib)?d3.s:ib}if(isNaN(ig)){ig=0,ic=isNaN(ic)?d3.h:ic}else{if(ig>180){ig-=360}else{if(ig<-180){ig+=360}}}return function(ij){return bg(ic+ig*ij,ib+ie*ij,ih+ii*ij)+""}}hn.interpolateLab=hy;function hy(ib,d3){ib=hn.lab(ib);d3=hn.lab(d3);var ie=ib.l,id=ib.a,ic=ib.b,ii=d3.l-ie,ih=d3.a-id,ig=d3.b-ic;return function(ij){return aB(ie+ii*ij,id+ih*ij,ic+ig*ij)+""}}hn.interpolateRound=fw;function fw(ib,d3){d3-=ib;return function(ic){return Math.round(ib+d3*ic)}}hn.transform=function(d3){var ib=bN.createElementNS(hn.ns.prefix.svg,"g");return(hn.transform=function(ic){if(ic!=null){ib.setAttribute("transform",ic);var id=ib.transform.baseVal.consolidate()}return new o(id?id.matrix:f8)})(d3)};function o(d3){var id=[d3.a,d3.b],ib=[d3.c,d3.d],ig=fo(id),ic=eY(id,ib),ie=fo(bS(ib,id,-ic))||0;if(id[0]*ib[1]<ib[0]*id[1]){id[0]*=-1;id[1]*=-1;ig*=-1;ic*=-1}this.rotate=(ig?Math.atan2(id[1],id[0]):Math.atan2(-ib[0],ib[1]))*hE;this.translate=[d3.e,d3.f];this.scale=[ig,ie];this.skew=ie?Math.atan2(ic,ie)*hE:0}o.prototype.toString=function(){return"translate("+this.translate+")rotate("+this.rotate+")skewX("+this.skew+")scale("+this.scale+")"};function eY(ib,d3){return ib[0]*d3[0]+ib[1]*d3[1]}function fo(d3){var ib=Math.sqrt(eY(d3,d3));if(ib){d3[0]/=ib;d3[1]/=ib}return ib}function bS(ib,d3,ic){ib[0]+=ic*d3[0];ib[1]+=ic*d3[1];return ib}var f8={a:1,b:0,c:0,d:1,e:0,f:0};hn.interpolateTransform=eg;function aT(d3){return d3.length?d3.pop()+",":""}function hS(ib,d3,id,ie){if(ib[0]!==d3[0]||ib[1]!==d3[1]){var ic=id.push("translate(",null,",",null,")");ie.push({i:ic-4,x:bG(ib[0],d3[0])},{i:ic-2,x:bG(ib[1],d3[1])})}else{if(d3[0]||d3[1]){id.push("translate("+d3+")")}}}function g3(id,ic,d3,ib){if(id!==ic){if(id-ic>180){ic+=360}else{if(ic-id>180){id+=360}}ib.push({i:d3.push(aT(d3)+"rotate(",null,")")-2,x:bG(id,ic)})}else{if(ic){d3.push(aT(d3)+"rotate("+ic+")")}}}function dm(id,ic,d3,ib){if(id!==ic){ib.push({i:d3.push(aT(d3)+"skewX(",null,")")-2,x:bG(id,ic)})}else{if(ic){d3.push(aT(d3)+"skewX("+ic+")")}}}function gX(id,ic,ib,ie){if(id[0]!==ic[0]||id[1]!==ic[1]){var d3=ib.push(aT(ib)+"scale(",null,",",null,")");ie.push({i:d3-4,x:bG(id[0],ic[0])},{i:d3-2,x:bG(id[1],ic[1])})}else{if(ic[0]!==1||ic[1]!==1){ib.push(aT(ib)+"scale("+ic+")")}}}function eg(ib,d3){var ic=[],id=[];ib=hn.transform(ib),d3=hn.transform(d3);hS(ib.translate,d3.translate,ic,id);g3(ib.rotate,d3.rotate,ic,id);dm(ib.skew,d3.skew,ic,id);gX(ib.scale,d3.scale,ic,id);ib=d3=null;return function(ig){var ie=-1,ii=id.length,ih;while(++ie<ii){ic[(ih=id[ie]).i]=ih.x(ig)}return ic.join("")}}function hv(ib,d3){d3=(d3-=ib=+ib)||1/d3;return function(ic){return(ic-ib)/d3}}function ay(ib,d3){d3=(d3-=ib=+ib)||1/d3;return function(ic){return Math.max(0,Math.min(1,(ic-ib)/d3))}}hn.layout={};hn.layout.bundle=function(){return function(d3){var ic=[],ib=-1,id=d3.length;while(++ib<id){ic.push(eK(d3[ib]))}return ic}};function eK(id){var ig=id.source,d3=id.target,ie=fJ(ig,d3),ic=[ig];while(ig!==ie){ig=ig.parent;ic.push(ig)}var ib=ic.length;while(d3!==ie){ic.splice(ib,0,d3);d3=d3.parent}return ic}function fn(ic){var ib=[],d3=ic.parent;while(d3!=null){ib.push(ic);ic=d3;d3=d3.parent}ib.push(ic);return ib}function fJ(id,ib){if(id===ib){return id}var ic=fn(id),d3=fn(ib),ie=ic.pop(),ig=d3.pop(),ih=null;while(ie===ig){ih=ie;ie=ic.pop();ig=d3.pop()}return ih}hn.layout.chord=function(){var ig={},ih,id,il,ic,ik=0,d3,ib,ie;function ij(){var ir={},iv=[],iD=hn.range(ic),iz=[],it,iB,iq,iw,iu;ih=[];id=[];it=0,iw=-1;while(++iw<ic){iB=0,iu=-1;while(++iu<ic){iB+=il[iw][iu]}iv.push(iB);iz.push(hn.range(ic));it+=iB}if(d3){iD.sort(function(iF,iE){return d3(iv[iF],iv[iE])})}if(ib){iz.forEach(function(iF,iE){iF.sort(function(iH,iG){return ib(il[iE][iH],il[iE][iG])})})}it=(f7-ik*ic)/it;iB=0,iw=-1;while(++iw<ic){iq=iB,iu=-1;while(++iu<ic){var iA=iD[iw],iy=iz[iA][iu],iC=il[iA][iy],ip=iB,io=iB+=iC*it;ir[iA+"-"+iy]={index:iA,subindex:iy,startAngle:ip,endAngle:io,value:iC}}id[iA]={index:iA,startAngle:iq,endAngle:iB,value:iv[iA]};iB+=ik}iw=-1;while(++iw<ic){iu=iw-1;while(++iu<ic){var im=ir[iw+"-"+iu],ix=ir[iu+"-"+iw];if(im.value||ix.value){ih.push(im.value<ix.value?{source:ix,target:im}:{source:im,target:ix})}}}if(ie){ii()}}function ii(){ih.sort(function(io,im){return ie((io.source.value+io.target.value)/2,(im.source.value+im.target.value)/2)})}ig.matrix=function(im){if(!arguments.length){return il}ic=(il=im)&&il.length;ih=id=null;return ig};ig.padding=function(im){if(!arguments.length){return ik}ik=im;ih=id=null;return ig};ig.sortGroups=function(im){if(!arguments.length){return d3}d3=im;ih=id=null;return ig};ig.sortSubgroups=function(im){if(!arguments.length){return ib}ib=im;ih=null;return ig};ig.sortChords=function(im){if(!arguments.length){return ie}ie=im;if(ih){ii()}return ig};ig.chords=function(){if(!ih){ij()}return ih};ig.groups=function(){if(!id){ij()}return id};return ig};hn.layout.force=function(){var ib={},it=hn.dispatch("start","tick","end"),ij,il=[1,1],iv,ie,ii=0.9,iw=fP,id=ct,ir=-30,ip=cb,ig=0.1,im=0.64,iq=[],ic=[],ih,d3,ik;function iu(ix){return function(iE,iA,iD,iz){if(iE.point!==ix){var iG=iE.cx-ix.x,iF=iE.cy-ix.y,iy=iz-iA,iC=iG*iG+iF*iF;if(iy*iy/im<iC){if(iC<ip){var iB=iE.charge/iC;ix.px-=iG*iB;ix.py-=iF*iB}return true}if(iE.point&&iC&&iC<ip){var iB=iE.pointCharge/iC;ix.px-=iG*iB;ix.py-=iF*iB}}return !iE.charge}}ib.tick=function(){if((ie*=0.99)<0.005){ij=null;it.end({type:"end",alpha:ie=0});return true}var iz=iq.length,iA=ic.length,ix,iD,iy,iH,iG,iB,iC,iF,iE;for(iD=0;iD<iA;++iD){iy=ic[iD];iH=iy.source;iG=iy.target;iF=iG.x-iH.x;iE=iG.y-iH.y;if(iB=iF*iF+iE*iE){iB=ie*d3[iD]*((iB=Math.sqrt(iB))-ih[iD])/iB;iF*=iB;iE*=iB;iG.x-=iF*(iC=iH.weight+iG.weight?iH.weight/(iH.weight+iG.weight):0.5);iG.y-=iE*iC;iH.x+=iF*(iC=1-iC);iH.y+=iE*iC}}if(iC=ie*ig){iF=il[0]/2;iE=il[1]/2;iD=-1;if(iC){while(++iD<iz){iy=iq[iD];iy.x+=(iF-iy.x)*iC;iy.y+=(iE-iy.y)*iC}}}if(ir){gz(ix=hn.geom.quadtree(iq),ie,ik);iD=-1;while(++iD<iz){if(!(iy=iq[iD]).fixed){ix.visit(iu(iy))}}}iD=-1;while(++iD<iz){iy=iq[iD];if(iy.fixed){iy.x=iy.px;iy.y=iy.py}else{iy.x-=(iy.px-(iy.px=iy.x))*ii;iy.y-=(iy.py-(iy.py=iy.y))*ii}}it.tick({type:"tick",alpha:ie})};ib.nodes=function(ix){if(!arguments.length){return iq}iq=ix;return ib};ib.links=function(ix){if(!arguments.length){return ic}ic=ix;return ib};ib.size=function(ix){if(!arguments.length){return il}il=ix;return ib};ib.linkDistance=function(ix){if(!arguments.length){return iw}iw=typeof ix==="function"?ix:+ix;return ib};ib.distance=ib.linkDistance;ib.linkStrength=function(ix){if(!arguments.length){return id}id=typeof ix==="function"?ix:+ix;return ib};ib.friction=function(ix){if(!arguments.length){return ii}ii=+ix;return ib};ib.charge=function(ix){if(!arguments.length){return ir}ir=typeof ix==="function"?ix:+ix;return ib};ib.chargeDistance=function(ix){if(!arguments.length){return Math.sqrt(ip)}ip=ix*ix;return ib};ib.gravity=function(ix){if(!arguments.length){return ig}ig=+ix;return ib};ib.theta=function(ix){if(!arguments.length){return Math.sqrt(im)}im=ix*ix;return ib};ib.alpha=function(ix){if(!arguments.length){return ie}ix=+ix;if(ie){if(ix>0){ie=ix}else{ij.c=null,ij.t=NaN,ij=null;it.end({type:"end",alpha:ie=0})}}else{if(ix>0){it.start({type:"start",alpha:ie=ix});ij=g2(ib.tick)}}return ib};ib.start=function(){var iB,iE=iq.length,iy=ic.length,iz=il[0],iC=il[1],iA,iD;for(iB=0;iB<iE;++iB){(iD=iq[iB]).index=iB;iD.weight=0}for(iB=0;iB<iy;++iB){iD=ic[iB];if(typeof iD.source=="number"){iD.source=iq[iD.source]}if(typeof iD.target=="number"){iD.target=iq[iD.target]}++iD.source.weight;++iD.target.weight}for(iB=0;iB<iE;++iB){iD=iq[iB];if(isNaN(iD.x)){iD.x=ix("x",iz)}if(isNaN(iD.y)){iD.y=ix("y",iC)}if(isNaN(iD.px)){iD.px=iD.x}if(isNaN(iD.py)){iD.py=iD.y}}ih=[];if(typeof iw==="function"){for(iB=0;iB<iy;++iB){ih[iB]=+iw.call(this,ic[iB],iB)}}else{for(iB=0;iB<iy;++iB){ih[iB]=iw}}d3=[];if(typeof id==="function"){for(iB=0;iB<iy;++iB){d3[iB]=+id.call(this,ic[iB],iB)}}else{for(iB=0;iB<iy;++iB){d3[iB]=id}}ik=[];if(typeof ir==="function"){for(iB=0;iB<iE;++iB){ik[iB]=+ir.call(this,iq[iB],iB)}}else{for(iB=0;iB<iE;++iB){ik[iB]=ir}}function ix(iK,iI){if(!iA){iA=new Array(iE);for(iH=0;iH<iE;++iH){iA[iH]=[]}for(iH=0;iH<iy;++iH){var iL=ic[iH];iA[iL.source.index].push(iL.target);iA[iL.target.index].push(iL.source)}}var iJ=iA[iB],iH=-1,iG=iJ.length,iF;while(++iH<iG){if(!isNaN(iF=iJ[iH][iK])){return iF}}return Math.random()*iI}return ib.resume()};ib.resume=function(){return ib.alpha(0.1)};ib.stop=function(){return ib.alpha(0)};ib.drag=function(){if(!iv){iv=hn.behavior.drag().origin(gk).on("dragstart.force",q).on("drag.force",io).on("dragend.force",ec)}if(!arguments.length){return iv}this.on("mouseover.force",cw).on("mouseout.force",el).call(iv)};function io(ix){ix.px=hn.event.x,ix.py=hn.event.y;ib.resume()}return hn.rebind(ib,it,"on")};function q(d3){d3.fixed|=2}function ec(d3){d3.fixed&=~6}function cw(d3){d3.fixed|=4;d3.px=d3.x,d3.py=d3.y}function el(d3){d3.fixed&=~4}function gz(ik,ie,ij){var ig=0,ic=0;ik.charge=0;if(!ik.leaf){var d3=ik.nodes,ib=d3.length,ih=-1,ii;while(++ih<ib){ii=d3[ih];if(ii==null){continue}gz(ii,ie,ij);ik.charge+=ii.charge;ig+=ii.charge*ii.cx;ic+=ii.charge*ii.cy}}if(ik.point){if(!ik.leaf){ik.point.x+=Math.random()-0.5;ik.point.y+=Math.random()-0.5}var id=ie*ij[ik.point.index];ik.charge+=ik.pointCharge=id;ig+=id*ik.point.x;ic+=id*ik.point.y}ik.cx=ig/ik.charge;ik.cy=ic/ik.charge}var fP=20,ct=1,cb=Infinity;hn.layout.hierarchy=function(){var ic=dQ,ib=a7,id=hK;function d3(ig){var ie=[ig],ih=[],ii;ig.depth=0;while((ii=ie.pop())!=null){ih.push(ii);if((ij=ib.call(d3,ii,ii.depth))&&(il=ij.length)){var il,ij,ik;while(--il>=0){ie.push(ik=ij[il]);ik.parent=ii;ik.depth=ii.depth+1}if(id){ii.value=0}ii.children=ij}else{if(id){ii.value=+id.call(d3,ii,ii.depth)||0}delete ii.children}}gL(ig,function(io){var ip,im;if(ic&&(ip=io.children)){ip.sort(ic)}if(id&&(im=io.parent)){im.value+=io.value}});return ih}d3.sort=function(ie){if(!arguments.length){return ic}ic=ie;return d3};d3.children=function(ie){if(!arguments.length){return ib}ib=ie;return d3};d3.value=function(ie){if(!arguments.length){return id}id=ie;return d3};d3.revalue=function(ie){if(id){eu(ie,function(ig){if(ig.children){ig.value=0}});gL(ie,function(ih){var ig;if(!ih.children){ih.value=+id.call(d3,ih,ih.depth)||0}if(ig=ih.parent){ig.value+=ih.value}})}return ie};return d3};function gr(ib,d3){hn.rebind(ib,d3,"sort","children","value");ib.nodes=ib;ib.links=gv;return ib}function eu(ic,ie){var d3=[ic];while((ic=d3.pop())!=null){ie(ic);if((ib=ic.children)&&(id=ib.length)){var id,ib;while(--id>=0){d3.push(ib[id])}}}}function gL(ie,ih){var ib=[ie],d3=[];while((ie=ib.pop())!=null){d3.push(ie);if((ic=ie.children)&&(ig=ic.length)){var id=-1,ig,ic;while(++id<ig){ib.push(ic[id])}}}while((ie=d3.pop())!=null){ih(ie)}}function a7(d3){return d3.children}function hK(d3){return d3.value}function dQ(ib,d3){return d3.value-ib.value}function gv(d3){return hn.merge(d3.map(function(ib){return(ib.children||[]).map(function(ic){return{source:ib,target:ic}})}))}hn.layout.partition=function(){var ic=hn.layout.hierarchy(),id=[1,1];function d3(ii,im,ip,io){var ig=ii.children;ii.x=im;ii.y=ii.depth*io;ii.dx=ip;ii.dy=io;if(ig&&(ih=ig.length)){var ij=-1,ih,il,ik;ip=ii.value?ip/ii.value:0;while(++ij<ih){d3(il=ig[ij],im,ik=il.value*ip,io);im+=ik}}}function ie(ii){var ih=ii.children,ij=0;if(ih&&(ik=ih.length)){var ig=-1,ik;while(++ig<ik){ij=Math.max(ij,ie(ih[ig]))}}return 1+ij}function ib(ii,ih){var ig=ic.call(this,ii,ih);d3(ig[0],0,id[0],id[1]/ie(ig[0]));return ig}ib.size=function(ig){if(!arguments.length){return id}id=ig;return ib};return gr(ib,ic)};hn.layout.pie=function(){var ig=Number,id=T,ic=0,ib=f7,ie=0;function d3(il){var ij=il.length,it=il.map(function(iw,iv){return +ig.call(d3,iw,iv)}),ip=+(typeof ic==="function"?ic.apply(this,arguments):ic),iu=(typeof ib==="function"?ib.apply(this,arguments):ib)-ip,ii=Math.min(Math.abs(iu)/ij,+(typeof ie==="function"?ie.apply(this,arguments):ie)),iq=ii*(iu<0?-1:1),io=hn.sum(it),ik=io?(iu-ij*iq)/io:0,im=hn.range(ij),ih=[],ir;if(id!=null){im.sort(id===T?function(iw,iv){return it[iv]-it[iw]}:function(iw,iv){return id(il[iw],il[iv])})}im.forEach(function(iv){ih[iv]={data:il[iv],value:ir=it[iv],startAngle:ip,endAngle:ip+=ir*ik+iq,padAngle:ii}});return ih}d3.value=function(ih){if(!arguments.length){return ig}ig=ih;return d3};d3.sort=function(ih){if(!arguments.length){return id}id=ih;return d3};d3.startAngle=function(ih){if(!arguments.length){return ic}ic=ih;return d3};d3.endAngle=function(ih){if(!arguments.length){return ib}ib=ih;return d3};d3.padAngle=function(ih){if(!arguments.length){return ie}ie=ih;return d3};return d3};var T={};hn.layout.stack=function(){var id=gk,ic=bR,ig=fD,ie=fE,ib=am,ih=ak;function d3(iq,it){if(!(ij=iq.length)){return iq}var ir=iq.map(function(iw,iv){return id.call(d3,iw,iv)});var iu=ir.map(function(iv){return iv.map(function(iw,ix){return[ib.call(d3,iw,ix),ih.call(d3,iw,ix)]})});var im=ic.call(d3,iu,it);ir=hn.permute(ir,im);iu=hn.permute(iu,im);var il=ig.call(d3,iu,it);var ik=ir[0].length,ij,ip,io,ii;for(io=0;io<ik;++io){ie.call(d3,ir[0][io],ii=il[io],iu[0][io][1]);for(ip=1;ip<ij;++ip){ie.call(d3,ir[ip][io],ii+=iu[ip-1][io][1],iu[ip][io][1])}}return iq}d3.values=function(ii){if(!arguments.length){return id}id=ii;return d3};d3.order=function(ii){if(!arguments.length){return ic}ic=typeof ii==="function"?ii:a5.get(ii)||bR;return d3};d3.offset=function(ii){if(!arguments.length){return ig}ig=typeof ii==="function"?ii:af.get(ii)||fD;return d3};d3.x=function(ii){if(!arguments.length){return ib}ib=ii;return d3};d3.y=function(ii){if(!arguments.length){return ih}ih=ii;return d3};d3.out=function(ii){if(!arguments.length){return ie}ie=ii;return d3};return d3};function am(d3){return d3.x}function ak(d3){return d3.y}function fE(ib,d3,ic){ib.y0=d3;ib.y=ic}var a5=hn.map({"inside-out":function(ie){var ic=ie.length,ig,id,ik=ie.map(bX),ih=ie.map(dt),ii=hn.range(ic).sort(function(io,im){return ik[io]-ik[im]}),ij=0,d3=0,il=[],ib=[];for(ig=0;ig<ic;++ig){id=ii[ig];if(ij<d3){ij+=ih[id];il.push(id)}else{d3+=ih[id];ib.push(id)}}return ib.reverse().concat(il)},reverse:function(d3){return hn.range(d3.length).reverse()},"default":bR});var af=hn.map({silhouette:function(ie){var ib=ie.length,ic=ie[0].length,ih=[],ii=0,ig,id,d3,ij=[];for(id=0;id<ic;++id){for(ig=0,d3=0;ig<ib;ig++){d3+=ie[ig][id][1]}if(d3>ii){ii=d3}ih.push(d3)}for(id=0;id<ic;++id){ij[id]=(ii-ih[id])/2}return ij},wiggle:function(ih){var ib=ih.length,ik=ih[0],ic=ik.length,ii,ig,ie,io,im,ij,ip,d3,id,il=[];il[0]=d3=id=0;for(ig=1;ig<ic;++ig){for(ii=0,io=0;ii<ib;++ii){io+=ih[ii][ig][1]}for(ii=0,im=0,ip=ik[ig][0]-ik[ig-1][0];ii<ib;++ii){for(ie=0,ij=(ih[ii][ig][1]-ih[ii][ig-1][1])/(2*ip);ie<ii;++ie){ij+=(ih[ie][ig][1]-ih[ie][ig-1][1])/ip}im+=ij*ih[ii][ig][1]}il[ig]=d3-=io?im/io*ip:0;if(d3<id){id=d3}}for(ig=0;ig<ic;++ig){il[ig]-=id}return il},expand:function(ig){var ii=ig.length,d3=ig[0].length,ib=1/ii,id,ic,ih,ie=[];for(ic=0;ic<d3;++ic){for(id=0,ih=0;id<ii;id++){ih+=ig[id][ic][1]}if(ih){for(id=0;id<ii;id++){ig[id][ic][1]/=ih}}else{for(id=0;id<ii;id++){ig[id][ic][1]=ib}}}for(ic=0;ic<d3;++ic){ie[ic]=0}return ie},zero:fD});function bR(d3){return hn.range(d3.length)}function fD(id){var ib=-1,d3=id[0].length,ic=[];while(++ib<d3){ic[ib]=0}return ic}function bX(ig){var id=1,ic=0,ib=ig[0][1],d3,ie=ig.length;for(;id<ie;++id){if((d3=ig[id][1])>ib){ic=id;ib=d3}}return ic}function dt(d3){return d3.reduce(fC,0)}function fC(d3,ib){return d3+ib[1]}hn.layout.histogram=function(){var ie=true,ib=Number,d3=bj,ic=hw;function id(ij,ik){var iq=[],io=ij.map(ib,this),il=d3.call(this,io,ik),ip=ic.call(this,il,io,ik),ir,ik=-1,ig=io.length,ih=ip.length-1,ii=ie?1:1/ig,im;while(++ik<ih){ir=iq[ik]=[];ir.dx=ip[ik+1]-(ir.x=ip[ik]);ir.y=0}if(ih>0){ik=-1;while(++ik<ig){im=io[ik];if(im>=il[0]&&im<=il[1]){ir=iq[hn.bisect(ip,im,1,ih)-1];ir.y+=ii;ir.push(ij[ik])}}}return iq}id.value=function(ig){if(!arguments.length){return ib}ib=ig;return id};id.range=function(ig){if(!arguments.length){return d3}d3=Q(ig);return id};id.bins=function(ig){if(!arguments.length){return ic}ic=typeof ig==="number"?function(ih){return i(ih,ig)}:Q(ig);return id};id.frequency=function(ig){if(!arguments.length){return ie}ie=!!ig;return id};return id};function hw(ib,d3){return i(ib,Math.ceil(Math.log(d3.length)/Math.LN2+1))}function i(id,ig){var ic=-1,ib=+id[0],d3=(id[1]-ib)/ig,ie=[];while(++ic<=ig){ie[ic]=d3*ic+ib}return ie}function bj(d3){return[hn.min(d3),hn.max(d3)]}hn.layout.pack=function(){var ib=hn.layout.hierarchy().sort(eA),ie=0,id=[1,1],d3;function ic(io,ij){var ii=ib.call(this,io,ij),ih=ii[0],ig=id[0],ik=id[1],il=d3==null?Math.sqrt:typeof d3==="function"?d3:function(){return d3};ih.x=ih.y=0;gL(ih,function(ip){ip.r=+il(ip.value)});gL(ih,S);if(ie){var im=ie*(d3?1:Math.max(2*ih.r/ig,2*ih.r/ik))/2;gL(ih,function(ip){ip.r+=im});gL(ih,S);gL(ih,function(ip){ip.r-=im})}fm(ih,ig/2,ik/2,d3?1:1/Math.max(2*ih.r/ig,2*ih.r/ik));return ii}ic.size=function(ig){if(!arguments.length){return id}id=ig;return ic};ic.radius=function(ig){if(!arguments.length){return d3}d3=ig==null||typeof ig==="function"?ig:+ig;return ic};ic.padding=function(ig){if(!arguments.length){return ie}ie=+ig;return ic};return gr(ic,ib)};function eA(ib,d3){return ib.value-d3.value}function bQ(ib,d3){var ic=ib._pack_next;ib._pack_next=d3;d3._pack_prev=ib;d3._pack_next=ic;ic._pack_prev=d3}function be(ib,d3){ib._pack_next=d3;d3._pack_prev=ib}function em(ic,d3){var id=d3.x-ic.x,ib=d3.y-ic.y,ie=ic.r+d3.r;return 0.999*ie*ie>id*id+ib*ib}function S(im){if(!(il=im.children)||!(ik=il.length)){return}var il,ir=Infinity,iw=-Infinity,d3=Infinity,ie=-Infinity,iv,iu,it,iq,ip,io,ik;function ic(ix){ir=Math.min(ix.x-ix.r,ir);iw=Math.max(ix.x+ix.r,iw);d3=Math.min(ix.y-ix.r,d3);ie=Math.max(ix.y+ix.r,ie)}il.forEach(aQ);iv=il[0];iv.x=-iv.r;iv.y=0;ic(iv);if(ik>1){iu=il[1];iu.x=iu.r;iu.y=0;ic(iu);if(ik>2){it=il[2];bd(iv,iu,it);ic(it);bQ(iv,it);iv._pack_prev=it;bQ(it,iu);iu=iv._pack_next;for(iq=3;iq<ik;iq++){bd(iv,iu,it=il[iq]);var ib=0,ig=1,id=1;for(ip=iu._pack_next;ip!==iu;ip=ip._pack_next,ig++){if(em(ip,it)){ib=1;break}}if(ib==1){for(io=iv._pack_prev;io!==ip._pack_prev;io=io._pack_prev,id++){if(em(io,it)){break}}}if(ib){if(ig<id||ig==id&&iu.r<iv.r){be(iv,iu=ip)}else{be(iv=io,iu)}iq--}else{bQ(iv,it);iu=it;ic(it)}}}}var ii=(ir+iw)/2,ih=(d3+ie)/2,ij=0;for(iq=0;iq<ik;iq++){it=il[iq];it.x-=ii;it.y-=ih;ij=Math.max(ij,it.r+Math.sqrt(it.x*it.x+it.y*it.y))}im.r=ij;il.forEach(eP)}function aQ(d3){d3._pack_next=d3._pack_prev=d3}function eP(d3){delete d3._pack_next;delete d3._pack_prev}function fm(ie,d3,ih,ib){var id=ie.children;ie.x=d3+=ib*ie.x;ie.y=ih+=ib*ie.y;ie.r*=ib;if(id){var ic=-1,ig=id.length;while(++ic<ig){fm(id[ic],d3,ih,ib)}}}function bd(ie,ic,d3){var ih=ie.r+d3.r,ik=ic.x-ie.x,ii=ic.y-ie.y;if(ih&&(ik||ii)){var ij=ic.r+d3.r,ig=ik*ik+ii*ii;ij*=ij;ih*=ih;var id=0.5+(ih-ij)/(2*ig),ib=Math.sqrt(Math.max(0,2*ij*(ih+ig)-(ih-=ig)*ih-ij*ij))/(2*ig);d3.x=ie.x+id*ik+ib*ii;d3.y=ie.y+id*ii-ib*ik}else{d3.x=ie.x+ih;d3.y=ie.y}}hn.layout.tree=function(){var ie=hn.layout.hierarchy().sort(null).value(null),ib=dz,ij=[1,1],ig=null;function ik(iu,iq){var im=ie.call(this,iu,iq),iw=im[0],iv=ii(iw);gL(iv,id),iv.parent.m=-iv.z;eu(iv,ih);if(ig){eu(iw,ic)}else{var io=iw,ix=iw,il=iw;eu(iw,function(iy){if(iy.x<io.x){io=iy}if(iy.x>ix.x){ix=iy}if(iy.depth>il.depth){il=iy}});var ip=ib(io,ix)/2-io.x,it=ij[0]/(ix.x+ib(ix,io)/2+ip),ir=ij[1]/(il.depth||1);eu(iw,function(iy){iy.x=(iy.x+ip)*it;iy.y=iy.depth*ir})}return im}function ii(ip){var im={A:null,children:[ip]},il=[im],io;while((io=il.pop())!=null){for(var ir=io.children,iu,iq=0,it=ir.length;iq<it;++iq){il.push((ir[iq]=iu={_:ir[iq],parent:io,children:(iu=ir[iq].children)&&iu.slice()||[],A:null,a:null,z:0,m:0,c:0,s:0,t:null,i:iq}).a=iu)}}return im.children[0]}function id(im){var ip=im.children,iq=im.parent.children,il=im.i?iq[im.i-1]:null;if(ip.length){dC(im);var io=(ip[0].z+ip[ip.length-1].z)/2;if(il){im.z=il.z+ib(im._,il._);im.m=im.z-io}else{im.z=io}}else{if(il){im.z=il.z+ib(im._,il._)}}im.parent.A=d3(im,il,im.parent.A||iq[0])}function ih(il){il._.x=il.z+il.parent.m;il.m+=il.parent.m}function d3(iy,ix,ir){if(ix){var io=iy,im=iy,iq=ix,ip=io.parent.children[0],iu=io.m,it=im.m,iw=iq.m,iv=ip.m,il;while(iq=aA(iq),io=hX(io),iq&&io){ip=hX(ip);im=aA(im);im.a=iy;il=iq.z+iw-io.z-iu+ib(iq._,io._);if(il>0){hZ(fX(iq,iy,ir),iy,il);iu+=il;it+=il}iw+=iq.m;iu+=io.m;iv+=ip.m;it+=im.m}if(iq&&!aA(im)){im.t=iq;im.m+=iw-it}if(io&&!hX(ip)){ip.t=io;ip.m+=iu-iv;ir=iy}}return ir}function ic(il){il.x*=ij[0];il.y=il.depth*ij[1]}ik.separation=function(il){if(!arguments.length){return ib}ib=il;return ik};ik.size=function(il){if(!arguments.length){return ig?null:ij}ig=(ij=il)==null?ic:null;return ik};ik.nodeSize=function(il){if(!arguments.length){return ig?ij:null}ig=(ij=il)==null?null:ic;return ik};return gr(ik,ie)};function dz(ib,d3){return ib.parent==d3.parent?1:2}function hX(d3){var ib=d3.children;return ib.length?ib[0]:d3.t}function aA(d3){var ib=d3.children,ic;return(ic=ib.length)?ib[ic-1]:d3.t}function hZ(ic,ib,d3){var id=d3/(ib.i-ic.i);ib.c-=id;ib.s+=d3;ic.c+=id;ib.z+=d3;ib.m+=d3}function dC(ic){var ib=0,ig=0,ie=ic.children,id=ie.length,d3;while(--id>=0){d3=ie[id];d3.z+=ib;d3.m+=ib;ib+=d3.s+(ig+=d3.c)}}function fX(ib,d3,ic){return ib.a.parent===d3.parent?ib.a:ic}hn.layout.cluster=function(){var ic=hn.layout.hierarchy().sort(null).value(null),ie=dz,id=[1,1],ib=false;function d3(il,ik){var ig=ic.call(this,il,ik),im=ig[0],io,ip=0;gL(im,function(it){var ir=it.children;if(ir&&ir.length){it.x=bx(ir);it.y=bw(ir)}else{it.x=io?ip+=ie(it,io):0;it.y=0;io=it}});var ij=eC(im),iq=dF(im),ii=ij.x-ie(ij,iq)/2,ih=iq.x+ie(iq,ij)/2;gL(im,ib?function(ir){ir.x=(ir.x-im.x)*id[0];ir.y=(im.y-ir.y)*id[1]}:function(ir){ir.x=(ir.x-ii)/(ih-ii)*id[0];ir.y=(1-(im.y?ir.y/im.y:1))*id[1]});return ig}d3.separation=function(ig){if(!arguments.length){return ie}ie=ig;return d3};d3.size=function(ig){if(!arguments.length){return ib?null:id}ib=(id=ig)==null;return d3};d3.nodeSize=function(ig){if(!arguments.length){return ib?id:null}ib=(id=ig)!=null;return d3};return gr(d3,ic)};function bw(d3){return 1+hn.max(d3,function(ib){return ib.y})}function bx(d3){return d3.reduce(function(ib,ic){return ib+ic.x},0)/d3.length}function eC(ib){var d3=ib.children;return d3&&d3.length?eC(d3[0]):ib}function dF(ib){var d3=ib.children,ic;return d3&&(ic=d3.length)?dF(d3[ic-1]):ib}hn.layout.treemap=function(){var ij=hn.layout.hierarchy(),io=Math.round,iq=[1,1],ik=null,d3=e6,il=false,ih,ig="squarify",ii=0.5*(1+Math.sqrt(5));function ib(iu,ir){var it=-1,ix=iu.length,iw,iv;while(++it<ix){iv=(iw=iu[it]).value*(ir<0?0:ir);iw.area=isNaN(iv)||iv<=0?0:iv}}function id(iw){var it=iw.children;if(it&&it.length){var iz=d3(iw),iB=[],iy=it.slice(),ir,ix=Infinity,iv,iA=ig==="slice"?iz.dx:ig==="dice"?iz.dy:ig==="slice-dice"?iw.depth&1?iz.dy:iz.dx:Math.min(iz.dx,iz.dy),iu;ib(iy,iz.dx*iz.dy/iw.value);iB.area=0;while((iu=iy.length)>0){iB.push(ir=iy[iu-1]);iB.area+=ir.area;if(ig!=="squarify"||(iv=ic(iB,iA))<=ix){iy.pop();ix=iv}else{iB.area-=iB.pop().area;ie(iB,iA,iz,false);iA=Math.min(iz.dx,iz.dy);iB.length=iB.area=0;ix=Infinity}}if(iB.length){ie(iB,iA,iz,true);iB.length=iB.area=0}it.forEach(id)}}function ip(iv){var ir=iv.children;if(ir&&ir.length){var iu=d3(iv),it=ir.slice(),ix,iw=[];ib(it,iu.dx*iu.dy/iv.value);iw.area=0;while(ix=it.pop()){iw.push(ix);iw.area+=ix.area;if(ix.z!=null){ie(iw,ix.z?iu.dx:iu.dy,iu,!it.length);iw.length=iw.area=0}}ir.forEach(ip)}}function ic(ix,it){var iv=ix.area,iw,iz=0,ir=Infinity,iu=-1,iy=ix.length;while(++iu<iy){if(!(iw=ix[iu].area)){continue}if(iw<ir){ir=iw}if(iw>iz){iz=iw}}iv*=iv;it*=it;return iv?Math.max(it*iz*ii/iv,iv/(it*ir*ii)):Infinity}function ie(iB,iA,iw,iz){var iu=-1,it=iB.length,ix=iw.x,iv=iw.y,iy=iA?io(iB.area/iA):0,ir;if(iA==iw.dx){if(iz||iy>iw.dy){iy=iw.dy}while(++iu<it){ir=iB[iu];ir.x=ix;ir.y=iv;ir.dy=iy;ix+=ir.dx=Math.min(iw.x+iw.dx-ix,iy?io(ir.area/iy):0)}ir.z=true;ir.dx+=iw.x+iw.dx-ix;iw.y+=iy;iw.dy-=iy}else{if(iz||iy>iw.dx){iy=iw.dx}while(++iu<it){ir=iB[iu];ir.x=ix;ir.y=iv;ir.dx=iy;iv+=ir.dy=Math.min(iw.y+iw.dy-iv,iy?io(ir.area/iy):0)}ir.z=false;ir.dy+=iw.y+iw.dy-iv;iw.x+=iy;iw.dx-=iy}}function im(iu){var it=ih||ij(iu),ir=it[0];ir.x=ir.y=0;if(ir.value){ir.dx=iq[0],ir.dy=iq[1]}else{ir.dx=ir.dy=0}if(ih){ij.revalue(ir)}ib([ir],ir.dx*ir.dy/ir.value);(ih?ip:id)(ir);if(il){ih=it}return it}im.size=function(ir){if(!arguments.length){return iq}iq=ir;return im};im.padding=function(ir){if(!arguments.length){return ik}function iv(iw){var ix=ir.call(im,iw,iw.depth);return ix==null?e6(iw):aZ(iw,typeof ix==="number"?[ix,ix,ix,ix]:ix)}function iu(iw){return aZ(iw,ir)}var it;d3=(ik=ir)==null?e6:(it=typeof ir)==="function"?iv:it==="number"?(ir=[ir,ir,ir,ir],iu):iu;return im};im.round=function(ir){if(!arguments.length){return io!=Number}io=ir?Math.round:Number;return im};im.sticky=function(ir){if(!arguments.length){return il}il=ir;ih=null;return im};im.ratio=function(ir){if(!arguments.length){return ii}ii=ir;return im};im.mode=function(ir){if(!arguments.length){return ig}ig=ir+"";return im};return gr(im,ij)};function e6(d3){return{x:d3.x,y:d3.y,dx:d3.dx,dy:d3.dy}}function aZ(id,ie){var d3=id.x+ie[3],ig=id.y+ie[0],ic=id.dx-ie[1]-ie[3],ib=id.dy-ie[0]-ie[2];if(ic<0){d3+=ic/2;ic=0}if(ib<0){ig+=ib/2;ib=0}return{x:d3,y:ig,dx:ic,dy:ib}}hn.random={normal:function(ib,d3){var ic=arguments.length;if(ic<2){d3=1}if(ic<1){ib=0}return function(){var id,ig,ie;do{id=Math.random()*2-1;ig=Math.random()*2-1;ie=id*id+ig*ig}while(!ie||ie>1);return ib+d3*id*Math.sqrt(-2*Math.log(ie)/ie)}},logNormal:function(){var d3=hn.random.normal.apply(hn,arguments);return function(){return Math.exp(d3())}},bates:function(d3){var ib=hn.random.irwinHall(d3);return function(){return ib()/d3}},irwinHall:function(d3){return function(){for(var ic=0,ib=0;ib<d3;ib++){ic+=Math.random()}return ic}}};hn.scale={};function es(ib){var ic=ib[0],d3=ib[ib.length-1];return ic<d3?[ic,d3]:[d3,ic]}function aY(d3){return d3.rangeExtent?d3.rangeExtent():es(d3.range())}function aF(ie,d3,ig,ic){var ib=ig(ie[0],ie[1]),id=ic(d3[0],d3[1]);return function(ih){return id(ib(ih))}}function gh(ih,ie){var ig=0,id=ih.length-1,ic=ih[ig],ib=ih[id],d3;if(ib<ic){d3=ig,ig=id,id=d3;d3=ic,ic=ib,ib=d3}ih[ig]=ie.floor(ic);ih[id]=ie.ceil(ib);return ih}function a6(d3){return d3?{floor:function(ib){return Math.floor(ib/d3)*d3},ceil:function(ib){return Math.ceil(ib/d3)*d3}}:eB}var eB={floor:gk,ceil:gk};function L(ih,ib,ii,ie){var id=[],ig=[],ic=0,d3=Math.min(ih.length,ib.length)-1;if(ih[d3]<ih[0]){ih=ih.slice().reverse();ib=ib.slice().reverse()}while(++ic<=d3){id.push(ii(ih[ic-1],ih[ic]));ig.push(ie(ib[ic-1],ib[ic]))}return function(ij){var ik=hn.bisect(ih,ij,1,d3)-1;return ig[ik](id[ik](ij))}}hn.scale.linear=function(){return ei([0,1],[0,1],fB,false)};function ei(ig,id,ie,ii){var ic,ib;function d3(){var ij=Math.min(ig.length,id.length)>2?L:aF,ik=ii?ay:hv;ic=ij(ig,id,ik,ie);ib=ij(id,ig,ik,fB);return ih}function ih(ij){return ic(ij)}ih.invert=function(ij){return ib(ij)};ih.domain=function(ij){if(!arguments.length){return ig}ig=ij.map(Number);return d3()};ih.range=function(ij){if(!arguments.length){return id}id=ij;return d3()};ih.rangeRound=function(ij){return ih.range(ij).interpolate(fw)};ih.clamp=function(ij){if(!arguments.length){return ii}ii=ij;return d3()};ih.interpolate=function(ij){if(!arguments.length){return ie}ie=ij;return d3()};ih.ticks=function(ij){return e1(ig,ij)};ih.tickFormat=function(ij,ik){return e9(ig,ij,ik)};ih.nice=function(ij){aL(ig,ij);return d3()};ih.copy=function(){return ei(ig,id,ie,ii)};return d3()}function f9(ib,d3){return hn.rebind(ib,d3,"range","rangeRound","interpolate","clamp")}function aL(ib,d3){gh(ib,a6(p(ib,d3)[2]));gh(ib,a6(p(ib,d3)[2]));return ib}function p(ig,d3){if(d3==null){d3=10}var ic=es(ig),ib=ic[1]-ic[0],ie=Math.pow(10,Math.floor(Math.log(ib/d3)/Math.LN10)),id=d3/ib*ie;if(id<=0.15){ie*=10}else{if(id<=0.35){ie*=5}else{if(id<=0.75){ie*=2}}}ic[0]=Math.ceil(ic[0]/ie)*ie;ic[1]=Math.floor(ic[1]/ie)*ie+ie*0.5;ic[2]=ie;return ic}function e1(ib,d3){return hn.range.apply(hn,p(ib,d3))}function e9(ie,d3,ig){var ib=p(ie,d3);if(ig){var ic=cz.exec(ig);ic.shift();if(ic[8]==="s"){var id=hn.formatPrefix(Math.max(cG(ib[0]),cG(ib[1])));if(!ic[7]){ic[7]="."+gV(id.scale(ib[2]))}ic[8]="f";ig=hn.format(ic.join(""));return function(ih){return ig(id.scale(ih))+id.symbol}}if(!ic[7]){ic[7]="."+x(ic[8],ib)}ig=ic.join("")}else{ig=",."+gV(ib[2])+"f"}return hn.format(ig)}var hW={s:1,g:1,p:1,r:1,e:1};function gV(d3){return -Math.floor(Math.log(d3)/Math.LN10+0.01)}function x(ib,d3){var ic=gV(d3[2]);return ib in hW?Math.abs(ic-gV(Math.max(cG(d3[0]),cG(d3[1]))))+ +(ib!=="e"):ic-(ib==="%")*2}hn.scale.log=function(){return gF(hn.scale.linear().domain([0,1]),10,true,[1,10])};function gF(ib,ig,d3,ie){function ic(ii){return(d3?Math.log(ii<0?0:ii):-Math.log(ii>0?0:-ii))/Math.log(ig)}function id(ii){return d3?Math.pow(ig,ii):-Math.pow(ig,-ii)}function ih(ii){return ib(ic(ii))}ih.invert=function(ii){return id(ib.invert(ii))};ih.domain=function(ii){if(!arguments.length){return ie}d3=ii[0]>=0;ib.domain((ie=ii.map(Number)).map(ic));return ih};ih.base=function(ii){if(!arguments.length){return ig}ig=+ii;ib.domain(ie.map(ic));return ih};ih.nice=function(){var ii=gh(ie.map(ic),d3?Math:gK);ib.domain(ii);ie=ii.map(id);return ih};ih.ticks=function(){var io=es(ie),ip=[],il=io[0],ij=io[1],im=Math.floor(ic(il)),ik=Math.ceil(ic(ij)),iq=ig%1?2:ig;if(isFinite(ik-im)){if(d3){for(;im<ik;im++){for(var ii=1;ii<iq;ii++){ip.push(id(im)*ii)}}ip.push(id(im))}else{ip.push(id(im));for(;im++<ik;){for(var ii=iq-1;ii>0;ii--){ip.push(id(im)*ii)}}}for(im=0;ip[im]<il;im++){}for(ik=ip.length;ip[ik-1]>ij;ik--){}ip=ip.slice(im,ik)}return ip};ih.tickFormat=function(ik,ij){if(!arguments.length){return ds}if(arguments.length<2){ij=ds}else{if(typeof ij!=="function"){ij=hn.format(ij)}}var ii=Math.max(1,ig*ik/ih.ticks().length);return function(im){var il=im/id(Math.round(ic(im)));if(il*ig<ig-0.5){il*=ig}return il<=ii?ij(im):""}};ih.copy=function(){return gF(ib.copy(),ig,d3,ie)};return f9(ih,ib)}var ds=hn.format(".0e"),gK={floor:function(d3){return -Math.ceil(-d3)},ceil:function(d3){return -Math.floor(-d3)}};hn.scale.pow=function(){return gq(hn.scale.linear(),1,[0,1])};function gq(d3,id,ic){var ib=fS(id),ie=fS(1/id);function ig(ih){return d3(ib(ih))}ig.invert=function(ih){return ie(d3.invert(ih))};ig.domain=function(ih){if(!arguments.length){return ic}d3.domain((ic=ih.map(Number)).map(ib));return ig};ig.ticks=function(ih){return e1(ic,ih)};ig.tickFormat=function(ih,ii){return e9(ic,ih,ii)};ig.nice=function(ih){return ig.domain(aL(ic,ih))};ig.exponent=function(ih){if(!arguments.length){return id}ib=fS(id=ih);ie=fS(1/id);d3.domain(ic.map(ib));return ig};ig.copy=function(){return gq(d3.copy(),id,ic)};return f9(ig,d3)}function fS(d3){return function(ib){return ib<0?-Math.pow(-ib,d3):Math.pow(ib,d3)}}hn.scale.sqrt=function(){return hn.scale.pow().exponent(0.5)};hn.scale.ordinal=function(){return cs([],{t:"range",a:[[]]})};function cs(ig,ic){var ie,ib,id;function ih(ii){return ib[((ie.get(ii)||(ic.t==="range"?ie.set(ii,ig.push(ii)):NaN))-1)%ib.length]}function d3(ij,ii){return hn.range(ig.length).map(function(ik){return ij+ii*ik})}ih.domain=function(ii){if(!arguments.length){return ig}ig=[];ie=new aH();var ik=-1,il=ii.length,ij;while(++ik<il){if(!ie.has(ij=ii[ik])){ie.set(ij,ig.push(ij))}}return ih[ic.t].apply(ih,ic.a)};ih.range=function(ii){if(!arguments.length){return ib}ib=ii;id=0;ic={t:"range",a:arguments};return ih};ih.rangePoints=function(ii,il){if(arguments.length<2){il=0}var im=ii[0],ij=ii[1],ik=ig.length<2?(im=(im+ij)/2,0):(ij-im)/(ig.length-1+il);ib=d3(im+ik*il/2,ik);id=0;ic={t:"rangePoints",a:arguments};return ih};ih.rangeRoundPoints=function(ii,il){if(arguments.length<2){il=0}var im=ii[0],ij=ii[1],ik=ig.length<2?(im=ij=Math.round((im+ij)/2),0):(ij-im)/(ig.length-1+il)|0;ib=d3(im+Math.round(ik*il/2+(ij-im-(ig.length-1+il)*ik)/2),ik);id=0;ic={t:"rangeRoundPoints",a:arguments};return ih};ih.rangeBands=function(ij,io,ii){if(arguments.length<2){io=0}if(arguments.length<3){ii=io}var ik=ij[1]<ij[0],ip=ij[ik-0],il=ij[1-ik],im=(il-ip)/(ig.length-io+2*ii);ib=d3(ip+im*ii,im);if(ik){ib.reverse()}id=im*(1-io);ic={t:"rangeBands",a:arguments};return ih};ih.rangeRoundBands=function(ij,io,ii){if(arguments.length<2){io=0}if(arguments.length<3){ii=io}var ik=ij[1]<ij[0],ip=ij[ik-0],il=ij[1-ik],im=Math.floor((il-ip)/(ig.length-io+2*ii));ib=d3(ip+Math.round((il-ip-(ig.length-io)*im)/2),im);if(ik){ib.reverse()}id=Math.round(im*(1-io));ic={t:"rangeRoundBands",a:arguments};return ih};ih.rangeBand=function(){return id};ih.rangeExtent=function(){return es(ic.a[0])};ih.copy=function(){return cs(ig,ic)};return ih.domain(ig)}hn.scale.category10=function(){return hn.scale.ordinal().range(cA)};hn.scale.category20=function(){return hn.scale.ordinal().range(ci)};hn.scale.category20b=function(){return hn.scale.ordinal().range(hb)};hn.scale.category20c=function(){return hn.scale.ordinal().range(g9)};var cA=[2062260,16744206,2924588,14034728,9725885,9197131,14907330,8355711,12369186,1556175].map(dw);var ci=[2062260,11454440,16744206,16759672,2924588,10018698,14034728,16750742,9725885,12955861,9197131,12885140,14907330,16234194,8355711,13092807,12369186,14408589,1556175,10410725].map(dw);var hb=[3750777,5395619,7040719,10264286,6519097,9216594,11915115,13556636,9202993,12426809,15186514,15190932,8666169,11356490,14049643,15177372,8077683,10834324,13528509,14589654].map(dw);var g9=[3244733,7057110,10406625,13032431,15095053,16616764,16625259,16634018,3253076,7652470,10607003,13101504,7695281,10394312,12369372,14342891,6513507,9868950,12434877,14277081].map(dw);hn.scale.quantile=function(){return B([],[])};function B(ic,ib){var id;function d3(){var ig=0,ih=ib.length;id=[];while(++ig<ih){id[ig-1]=hn.quantile(ic,ig/ih)}return ie}function ie(ig){if(!isNaN(ig=+ig)){return ib[hn.bisect(id,ig)]}}ie.domain=function(ig){if(!arguments.length){return ic}ic=ig.map(hs).filter(bb).sort(fh);return d3()};ie.range=function(ig){if(!arguments.length){return ib}ib=ig;return d3()};ie.quantiles=function(){return id};ie.invertExtent=function(ig){ig=ib.indexOf(ig);return ig<0?[NaN,NaN]:[ig>0?id[ig-1]:ic[0],ig<id.length?id[ig]:ic[ic.length-1]]};ie.copy=function(){return B(ic,ib)};return d3()}hn.scale.quantize=function(){return dE(0,1,[0,1])};function dE(ie,ic,ib){var ig,id;function ih(ii){return ib[Math.max(0,Math.min(id,Math.floor(ig*(ii-ie))))]}function d3(){ig=ib.length/(ic-ie);id=ib.length-1;return ih}ih.domain=function(ii){if(!arguments.length){return[ie,ic]}ie=+ii[0];ic=+ii[ii.length-1];return d3()};ih.range=function(ii){if(!arguments.length){return ib}ib=ii;return d3()};ih.invertExtent=function(ii){ii=ib.indexOf(ii);ii=ii<0?NaN:ii/ig+ie;return[ii,ii+1/ig]};ih.copy=function(){return dE(ie,ic,ib)};return d3()}hn.scale.threshold=function(){return f4([0.5],[0,1])};function f4(ib,d3){function ic(id){if(id<=id){return d3[hn.bisect(ib,id)]}}ic.domain=function(id){if(!arguments.length){return ib}ib=id;return ic};ic.range=function(id){if(!arguments.length){return d3}d3=id;return ic};ic.invertExtent=function(id){id=d3.indexOf(id);return[ib[id-1],ib[id]]};ic.copy=function(){return f4(ib,d3)};return ic}hn.scale.identity=function(){return eT([0,1])};function eT(ib){function d3(ic){return +ic}d3.invert=d3;d3.domain=d3.range=function(ic){if(!arguments.length){return ib}ib=ic.map(d3);return d3};d3.ticks=function(ic){return e1(ib,ic)};d3.tickFormat=function(ic,id){return e9(ib,ic,id)};d3.copy=function(){return eT(ib)};return d3}hn.svg={};function dn(){return 0}hn.svg.arc=function(){var ii=bB,id=cS,ie=dn,ij=fT,ih=gf,ib=an,ic=bL;function d3(){var iv=Math.max(0,+ii.apply(this,arguments)),iu=Math.max(0,+id.apply(this,arguments)),iQ=ih.apply(this,arguments)-ep,iP=ib.apply(this,arguments)-ep,iA=Math.abs(iP-iQ),iD=iQ>iP?0:1;if(iu<iv){iN=iu,iu=iv,iv=iN}if(iA>=gE){return ig(iu,iD)+(iv?ig(iv,1-iD):"")+"Z"}var iN,iE,iH,iq,iS=0,iR=0,iz,ik,iy,iX,ix,iW,iw,iU,iO=[];if(iq=(+ic.apply(this,arguments)||0)/2){iH=ij===fT?Math.sqrt(iv*iv+iu*iu):+ij.apply(this,arguments);if(!iD){iR*=-1}if(iu){iR=cf(iH/iu*Math.sin(iq))}if(iv){iS=cf(iH/iv*Math.sin(iq))}}if(iu){iz=iu*Math.cos(iQ+iR);ik=iu*Math.sin(iQ+iR);iy=iu*Math.cos(iP-iR);iX=iu*Math.sin(iP-iR);var ir=Math.abs(iP-iQ-2*iR)<=gd?0:1;if(iR&&hD(iz,ik,iy,iX)===iD^ir){var iF=(iQ+iP)/2;iz=iu*Math.cos(iF);ik=iu*Math.sin(iF);iy=iX=null}}else{iz=ik=0}if(iv){ix=iv*Math.cos(iP-iS);iW=iv*Math.sin(iP-iS);iw=iv*Math.cos(iQ+iS);iU=iv*Math.sin(iQ+iS);var it=Math.abs(iQ-iP+2*iS)<=gd?0:1;if(iS&&hD(ix,iW,iw,iU)===1-iD^it){var iG=(iQ+iP)/2;ix=iv*Math.cos(iG);iW=iv*Math.sin(iG);iw=iU=null}}else{ix=iW=0}if(iA>gm&&(iN=Math.min(Math.abs(iu-iv)/2,+ie.apply(this,arguments)))>0.001){iE=iv<iu^iD?0:1;var iT=iN,iV=iN;if(iA<gd){var iK=iw==null?[ix,iW]:iy==null?[iz,ik]:gi([iz,ik],[iw,iU],[iy,iX],[ix,iW]),ip=iz-iK[0],io=ik-iK[1],iM=iy-iK[0],iL=iX-iK[1],il=1/Math.sin(Math.acos((ip*iM+io*iL)/(Math.sqrt(ip*ip+io*io)*Math.sqrt(iM*iM+iL*iL)))/2),iI=Math.sqrt(iK[0]*iK[0]+iK[1]*iK[1]);iV=Math.min(iN,(iv-iI)/(il-1));iT=Math.min(iN,(iu-iI)/(il+1))}if(iy!=null){var iC=fd(iw==null?[ix,iW]:[iw,iU],[iz,ik],iu,iT,iD),im=fd([iy,iX],[ix,iW],iu,iT,iD);if(iN===iT){iO.push("M",iC[0],"A",iT,",",iT," 0 0,",iE," ",iC[1],"A",iu,",",iu," 0 ",1-iD^hD(iC[1][0],iC[1][1],im[1][0],im[1][1]),",",iD," ",im[1],"A",iT,",",iT," 0 0,",iE," ",im[0])}else{iO.push("M",iC[0],"A",iT,",",iT," 0 1,",iE," ",im[0])}}else{iO.push("M",iz,",",ik)}if(iw!=null){var iB=fd([iz,ik],[iw,iU],iv,-iV,iD),iJ=fd([ix,iW],iy==null?[iz,ik]:[iy,iX],iv,-iV,iD);if(iN===iV){iO.push("L",iJ[0],"A",iV,",",iV," 0 0,",iE," ",iJ[1],"A",iv,",",iv," 0 ",iD^hD(iJ[1][0],iJ[1][1],iB[1][0],iB[1][1]),",",1-iD," ",iB[1],"A",iV,",",iV," 0 0,",iE," ",iB[0])}else{iO.push("L",iJ[0],"A",iV,",",iV," 0 0,",iE," ",iB[0])}}else{iO.push("L",ix,",",iW)}}else{iO.push("M",iz,",",ik);if(iy!=null){iO.push("A",iu,",",iu," 0 ",ir,",",iD," ",iy,",",iX)}iO.push("L",ix,",",iW);if(iw!=null){iO.push("A",iv,",",iv," 0 ",it,",",1-iD," ",iw,",",iU)}}iO.push("Z");return iO.join("")}function ig(il,ik){return"M0,"+il+"A"+il+","+il+" 0 1,"+ik+" 0,"+-il+"A"+il+","+il+" 0 1,"+ik+" 0,"+il}d3.innerRadius=function(ik){if(!arguments.length){return ii}ii=Q(ik);return d3};d3.outerRadius=function(ik){if(!arguments.length){return id}id=Q(ik);return d3};d3.cornerRadius=function(ik){if(!arguments.length){return ie}ie=Q(ik);return d3};d3.padRadius=function(ik){if(!arguments.length){return ij}ij=ik==fT?fT:Q(ik);return d3};d3.startAngle=function(ik){if(!arguments.length){return ih}ih=Q(ik);return d3};d3.endAngle=function(ik){if(!arguments.length){return ib}ib=Q(ik);return d3};d3.padAngle=function(ik){if(!arguments.length){return ic}ic=Q(ik);return d3};d3.centroid=function(){var il=(+ii.apply(this,arguments)+ +id.apply(this,arguments))/2,ik=(+ih.apply(this,arguments)+ +ib.apply(this,arguments))/2-ep;return[Math.cos(ik)*il,Math.sin(ik)*il]};return d3};var fT="auto";function bB(d3){return d3.innerRadius}function cS(d3){return d3.outerRadius}function gf(d3){return d3.startAngle}function an(d3){return d3.endAngle}function bL(d3){return d3&&d3.padAngle}function hD(ib,id,d3,ic){return(ib-d3)*id-(id-ic)*ib>0?0:1}function fd(ib,d3,iz,iy,ii){var ix=ib[0]-d3[0],ik=ib[1]-d3[1],im=(ii?iy:-iy)/Math.sqrt(ix*ix+ik*ik),il=im*ik,ij=-im*ix,iC=ib[0]+il,ih=ib[1]+ij,iB=d3[0]+il,ie=d3[1]+ij,iA=(iC+iB)/2,ic=(ih+ie)/2,ir=iB-iC,ip=ie-ih,iG=ir*ir+ip*ip,iv=iz-iy,it=iC*ie-iB*ih,iD=(ip<0?-1:1)*Math.sqrt(Math.max(0,iv*iv*iG-it*it)),iw=(it*ip-ir*iD)/iG,iF=(-it*ir-ip*iD)/iG,iu=(it*ip+ir*iD)/iG,iE=(-it*ir+ip*iD)/iG,ig=iw-iA,iq=iF-ic,id=iu-iA,io=iE-ic;if(ig*ig+iq*iq>id*id+io*io){iw=iu,iF=iE}return[[iw-il,iF-ij],[iw*iz/iv,iF*iz/iv]]}function e8(ib){var d3=hU,ii=hT,ih=ag,id=hQ,ig=id.key,ie=0.7;function ic(im){var ip=[],it=[],io=-1,ij=im.length,ir,il=Q(d3),ik=Q(ii);function iq(){ip.push("M",id(ib(it),ie))}while(++io<ij){if(ih.call(this,ir=im[io],io)){it.push([+il.call(this,ir,io),+ik.call(this,ir,io)])}else{if(it.length){iq();it=[]}}}if(it.length){iq()}return ip.length?ip.join(""):null}ic.x=function(ij){if(!arguments.length){return d3}d3=ij;return ic};ic.y=function(ij){if(!arguments.length){return ii}ii=ij;return ic};ic.defined=function(ij){if(!arguments.length){return ih}ih=ij;return ic};ic.interpolate=function(ij){if(!arguments.length){return ig}if(typeof ij==="function"){ig=id=ij}else{ig=(id=ce.get(ij)||hQ).key}return ic};ic.tension=function(ij){if(!arguments.length){return ie}ie=ij;return ic};return ic}hn.svg.line=function(){return e8(gk)};var ce=hn.map({linear:hQ,"linear-closed":Y,step:c9,"step-before":bl,"step-after":hx,basis:fc,"basis-open":bi,"basis-closed":cN,bundle:cQ,cardinal:dR,"cardinal-open":b4,"cardinal-closed":r,monotone:di});ce.forEach(function(d3,ib){ib.key=d3;ib.closed=/-closed$/.test(d3)});function hQ(d3){return d3.length>1?d3.join("L"):d3+"Z"}function Y(d3){return d3.join("L")+"Z"}function c9(ib){var d3=0,ie=ib.length,id=ib[0],ic=[id[0],",",id[1]];while(++d3<ie){ic.push("H",(id[0]+(id=ib[d3])[0])/2,"V",id[1])}if(ie>1){ic.push("H",id[0])}return ic.join("")}function bl(ib){var d3=0,ie=ib.length,id=ib[0],ic=[id[0],",",id[1]];while(++d3<ie){ic.push("V",(id=ib[d3])[1],"H",id[0])}return ic.join("")}function hx(ib){var d3=0,ie=ib.length,id=ib[0],ic=[id[0],",",id[1]];while(++d3<ie){ic.push("H",(id=ib[d3])[0],"V",id[1])}return ic.join("")}function b4(ib,d3){return ib.length<4?hQ(ib):ib[1]+cX(ib.slice(1,-1),bW(ib,d3))}function r(ib,d3){return ib.length<3?Y(ib):ib[0]+cX((ib.push(ib[0]),ib),bW([ib[ib.length-2]].concat(ib,[ib[1]]),d3))}function dR(ib,d3){return ib.length<3?hQ(ib):ib[0]+cX(ib,bW(ib,d3))}function cX(ih,ig){if(ig.length<1||ih.length!=ig.length&&ih.length!=ig.length+2){return hQ(ih)}var ii=ih.length!=ig.length,il="",ij=ih[0],d3=ih[1],ie=ig[0],ik=ie,ic=1;if(ii){il+="Q"+(d3[0]-ie[0]*2/3)+","+(d3[1]-ie[1]*2/3)+","+d3[0]+","+d3[1];ij=ih[1];ic=2}if(ig.length>1){ik=ig[1];d3=ih[ic];ic++;il+="C"+(ij[0]+ie[0])+","+(ij[1]+ie[1])+","+(d3[0]-ik[0])+","+(d3[1]-ik[1])+","+d3[0]+","+d3[1];for(var ib=2;ib<ig.length;ib++,ic++){d3=ih[ic];ik=ig[ib];il+="S"+(d3[0]-ik[0])+","+(d3[1]-ik[1])+","+d3[0]+","+d3[1]}}if(ii){var id=ih[ic];il+="Q"+(d3[0]+ik[0]*2/3)+","+(d3[1]+ik[1]*2/3)+","+id[0]+","+id[1]}return il}function bW(ih,ie){var ic=[],id=(1-ie)/2,ij,ii=ih[0],ig=ih[1],ib=1,d3=ih.length;while(++ib<d3){ij=ii;ii=ig;ig=ih[ib];ic.push([id*(ig[0]-ij[0]),id*(ig[1]-ij[1])])}return ic}function fc(ii){if(ii.length<3){return hQ(ii)}var ic=1,ib=ii.length,id=ii[0],d3=id[0],ig=id[1],ih=[d3,d3,d3,(id=ii[1])[0]],ie=[ig,ig,ig,id[1]],ij=[d3,",",ig,"L",gl(hm,ih),",",gl(hm,ie)];ii.push(ii[ib-1]);while(++ic<=ib){id=ii[ic];ih.shift();ih.push(id[0]);ie.shift();ie.push(id[1]);bP(ij,ih,ie)}ii.pop();ij.push("L",id);return ij.join("")}function bi(id){if(id.length<4){return hQ(id)}var ig=[],ic=-1,ih=id.length,ie,ib=[0],d3=[0];while(++ic<3){ie=id[ic];ib.push(ie[0]);d3.push(ie[1])}ig.push(gl(hm,ib)+","+gl(hm,d3));--ic;while(++ic<ih){ie=id[ic];ib.shift();ib.push(ie[0]);d3.shift();d3.push(ie[1]);bP(ig,ib,d3)}return ig.join("")}function cN(ie){var ih,id=-1,ii=ie.length,d3=ii+4,ig,ic=[],ib=[];while(++id<4){ig=ie[id%ii];ic.push(ig[0]);ib.push(ig[1])}ih=[gl(hm,ic),",",gl(hm,ib)];--id;while(++id<d3){ig=ie[id%ii];ic.shift();ic.push(ig[0]);ib.shift();ib.push(ig[1]);bP(ih,ic,ib)}return ih.join("")}function cQ(ih,ig){var ic=ih.length-1;if(ic){var ib=ih[0][0],ie=ih[0][1],ik=ih[ic][0]-ib,ij=ih[ic][1]-ie,id=-1,d3,ii;while(++id<=ic){d3=ih[id];ii=id/ic;d3[0]=ig*d3[0]+(1-ig)*(ib+ii*ik);d3[1]=ig*d3[1]+(1-ig)*(ie+ii*ij)}}return fc(ih)}function gl(ib,d3){return ib[0]*d3[0]+ib[1]*d3[1]+ib[2]*d3[2]+ib[3]*d3[3]}var hq=[0,2/3,1/3,0],ho=[0,1/3,2/3,0],hm=[0,1/6,2/3,1/6];function bP(ib,d3,ic){ib.push("C",gl(hq,d3),",",gl(hq,ic),",",gl(ho,d3),",",gl(ho,ic),",",gl(hm,d3),",",gl(hm,ic))}function h4(ib,d3){return(d3[1]-ib[1])/(d3[0]-ib[0])}function d8(id){var ic=0,ib=id.length-1,d3=[],ih=id[0],ig=id[1],ie=d3[0]=h4(ih,ig);while(++ic<ib){d3[ic]=(ie+(ie=h4(ih=ig,ig=id[ic+1])))/2}d3[ic]=ie;return d3}function at(ii){var ie=[],id,ih,ig,ij,d3=d8(ii),ic=-1,ib=ii.length-1;while(++ic<ib){id=h4(ii[ic],ii[ic+1]);if(cG(id)<gm){d3[ic]=d3[ic+1]=0}else{ih=d3[ic]/id;ig=d3[ic+1]/id;ij=ih*ih+ig*ig;if(ij>9){ij=id*3/Math.sqrt(ij);d3[ic]=ij*ih;d3[ic+1]=ij*ig}}}ic=-1;while(++ic<=ib){ij=(ii[Math.min(ib,ic+1)][0]-ii[Math.max(0,ic-1)][0])/(6*(1+d3[ic]*d3[ic]));ie.push([ij||0,d3[ic]*ij||0])}return ie}function di(d3){return d3.length<3?hQ(d3):d3[0]+cX(d3,at(d3))}hn.svg.line.radial=function(){var d3=e8(O);d3.radius=d3.x,delete d3.x;d3.angle=d3.y,delete d3.y;return d3};function O(id){var d3,ic=-1,ig=id.length,ie,ib;while(++ic<ig){d3=id[ic];ie=d3[0];ib=d3[1]-ep;d3[0]=ie*Math.cos(ib);d3[1]=ie*Math.sin(ib)}return id}function h6(ie){var ic=hU,ib=hU,il=0,ij=hT,id=ag,ig=hQ,im=ig.key,ii=ig,ih="L",ik=0.7;function d3(it){var iv=[],io=[],iC=[],iu=-1,ip=it.length,ix,ir=Q(ic),iB=Q(il),iq=ic===ib?function(){return iz}:Q(ib),iA=il===ij?function(){return iy}:Q(ij),iz,iy;function iw(){iv.push("M",ig(ie(iC),ik),ih,ii(ie(io.reverse()),ik),"Z")}while(++iu<ip){if(id.call(this,ix=it[iu],iu)){io.push([iz=+ir.call(this,ix,iu),iy=+iB.call(this,ix,iu)]);iC.push([+iq.call(this,ix,iu),+iA.call(this,ix,iu)])}else{if(io.length){iw();io=[];iC=[]}}}if(io.length){iw()}return iv.length?iv.join(""):null}d3.x=function(io){if(!arguments.length){return ib}ic=ib=io;return d3};d3.x0=function(io){if(!arguments.length){return ic}ic=io;return d3};d3.x1=function(io){if(!arguments.length){return ib}ib=io;return d3};d3.y=function(io){if(!arguments.length){return ij}il=ij=io;return d3};d3.y0=function(io){if(!arguments.length){return il}il=io;return d3};d3.y1=function(io){if(!arguments.length){return ij}ij=io;return d3};d3.defined=function(io){if(!arguments.length){return id}id=io;return d3};d3.interpolate=function(io){if(!arguments.length){return im}if(typeof io==="function"){im=ig=io}else{im=(ig=ce.get(io)||hQ).key}ii=ig.reverse||ig;ih=ig.closed?"M":"L";return d3};d3.tension=function(io){if(!arguments.length){return ik}ik=io;return d3};return d3}bl.reverse=hx;hx.reverse=bl;hn.svg.area=function(){return h6(gk)};hn.svg.area.radial=function(){var d3=h6(O);d3.radius=d3.x,delete d3.x;d3.innerRadius=d3.x0,delete d3.x0;d3.outerRadius=d3.x1,delete d3.x1;d3.angle=d3.y,delete d3.y;d3.startAngle=d3.y0,delete d3.y0;d3.endAngle=d3.y1,delete d3.y1;return d3};hn.svg.chord=function(){var d3=hI,ii=hP,ih=G,ij=gf,ie=an;function ig(ip,im){var io=ik(this,d3,ip,im),il=ik(this,ii,ip,im);return"M"+io.p0+ib(io.r,io.p1,io.a1-io.a0)+(ic(io,il)?id(io.r,io.p1,io.r,io.p0):id(io.r,io.p1,il.r,il.p0)+ib(il.r,il.p1,il.a1-il.a0)+id(il.r,il.p1,io.r,io.p0))+"Z"}function ik(ip,it,iu,iq){var io=it.call(ip,iu,iq),ir=ih.call(ip,io,iq),im=ij.call(ip,io,iq)-ep,il=ie.call(ip,io,iq)-ep;return{r:ir,a0:im,a1:il,p0:[ir*Math.cos(im),ir*Math.sin(im)],p1:[ir*Math.cos(il),ir*Math.sin(il)]}}function ic(im,il){return im.a0==il.a0&&im.a1==il.a1}function ib(im,io,il){return"A"+im+","+im+" 0 "+ +(il>gd)+",1 "+io}function id(im,ip,il,io){return"Q 0,0 "+io}ig.radius=function(il){if(!arguments.length){return ih}ih=Q(il);return ig};ig.source=function(il){if(!arguments.length){return d3}d3=Q(il);return ig};ig.target=function(il){if(!arguments.length){return ii}ii=Q(il);return ig};ig.startAngle=function(il){if(!arguments.length){return ij}ij=Q(il);return ig};ig.endAngle=function(il){if(!arguments.length){return ie}ie=Q(il);return ig};return ig};function G(d3){return d3.radius}hn.svg.diagonal=function(){var ic=hI,id=hP,d3=m;function ib(ij,ig){var ik=ic.call(this,ij,ig),ih=id.call(this,ij,ig),ie=(ik.y+ih.y)/2,ii=[ik,{x:ik.x,y:ie},{x:ih.x,y:ie},ih];ii=ii.map(d3);return"M"+ii[0]+"C"+ii[1]+" "+ii[2]+" "+ii[3]}ib.source=function(ie){if(!arguments.length){return ic}ic=Q(ie);return ib};ib.target=function(ie){if(!arguments.length){return id}id=Q(ie);return ib};ib.projection=function(ie){if(!arguments.length){return d3}d3=ie;return ib};return ib};function m(d3){return[d3.x,d3.y]}hn.svg.diagonal.radial=function(){var ic=hn.svg.diagonal(),d3=m,ib=ic.projection;ic.projection=function(id){return arguments.length?ib(n(d3=id)):d3};return ic};function n(d3){return function(){var id=d3.apply(this,arguments),ic=id[0],ib=id[1]-ep;return[ic*Math.cos(ib),ic*Math.sin(ib)]}}hn.svg.symbol=function(){var ib=aU,d3=e4;function ic(ie,id){return(hN.get(ib.call(this,ie,id))||cg)(d3.call(this,ie,id))}ic.type=function(id){if(!arguments.length){return ib}ib=Q(id);return ic};ic.size=function(id){if(!arguments.length){return d3}d3=Q(id);return ic};return ic};function e4(){return 64}function aU(){return"circle"}function cg(d3){var ib=Math.sqrt(d3/gd);return"M0,"+ib+"A"+ib+","+ib+" 0 1,1 0,"+-ib+"A"+ib+","+ib+" 0 1,1 0,"+ib+"Z"}var hN=hn.map({circle:cg,cross:function(d3){var ib=Math.sqrt(d3/5)/2;return"M"+-3*ib+","+-ib+"H"+-ib+"V"+-3*ib+"H"+ib+"V"+-ib+"H"+3*ib+"V"+ib+"H"+ib+"V"+3*ib+"H"+-ib+"V"+ib+"H"+-3*ib+"Z"},diamond:function(d3){var ib=Math.sqrt(d3/(2*cm)),ic=ib*cm;return"M0,"+-ib+"L"+ic+",0 0,"+ib+" "+-ic+",0Z"},square:function(d3){var ib=Math.sqrt(d3)/2;return"M"+-ib+","+-ib+"L"+ib+","+-ib+" "+ib+","+ib+" "+-ib+","+ib+"Z"},"triangle-down":function(d3){var ic=Math.sqrt(d3/b8),ib=ic*b8/2;return"M0,"+ib+"L"+ic+","+-ib+" "+-ic+","+-ib+"Z"},"triangle-up":function(d3){var ic=Math.sqrt(d3/b8),ib=ic*b8/2;return"M0,"+-ib+"L"+ic+","+ib+" "+-ic+","+ib+"Z"}});hn.svg.symbolTypes=hN.keys();var b8=Math.sqrt(3),cm=Math.tan(30*I);dY.transition=function(d3){var ib=aq||++ha,il=gy(d3),ie=[],io,ih,ik=d4||{time:Date.now(),ease:av,delay:0,duration:250};for(var ii=-1,ig=this.length;++ii<ig;){ie.push(io=[]);for(var im=this[ii],ij=-1,ic=im.length;++ij<ic;){if(ih=im[ij]){fA(ih,ij,il,ib,ik)}io.push(ih)}}return gQ(ie,il,ib)};dY.interrupt=function(d3){return this.each(d3==null?cU:dv(gy(d3)))};var cU=dv(gy());function dv(d3){return function(){var ic,ib,id;if((ic=this[d3])&&(id=ic[ib=ic.active])){id.timer.c=null;id.timer.t=NaN;if(--ic.count){delete ic[ib]}else{delete this[d3]}ic.active+=0.5;id.event&&id.event.interrupt.call(this,this.__data__,id.index)}}}function gQ(d3,ib,ic){h5(d3,ev);d3.namespace=ib;d3.id=ic;return d3}var ev=[],ha=0,aq,d4;ev.call=dY.call;ev.empty=dY.empty;ev.node=dY.node;ev.size=dY.size;hn.transition=function(ib,d3){return ib&&ib.transition?aq?ib.transition(d3):ib:hn.selection().transition(ib)};hn.transition.prototype=ev;ev.select=function(ii){var d3=this.id,il=this.namespace,ie=[],io,ib,ih;ii=y(ii);for(var ij=-1,ig=this.length;++ij<ig;){ie.push(io=[]);for(var im=this[ij],ik=-1,ic=im.length;++ik<ic;){if((ih=im[ik])&&(ib=ii.call(ih,ih.__data__,ik,ij))){if("__data__" in ih){ib.__data__=ih.__data__}fA(ib,ik,il,d3,ih[il][d3]);io.push(ib)}else{io.push(null)}}}return gQ(ie,il,d3)};ev.selectAll=function(ik){var ib=this.id,iq=this.namespace,ih=[],it,d3,ij,ic,ip;ik=c1(ik);for(var im=-1,ii=this.length;++im<ii;){for(var ir=this[im],io=-1,ig=ir.length;++io<ig;){if(ij=ir[io]){ip=ij[iq][ib];d3=ik.call(ij,ij.__data__,io,im);ih.push(it=[]);for(var il=-1,ie=d3.length;++il<ie;){if(ic=d3[il]){fA(ic,il,iq,ib,ip)}it.push(ic)}}}}return gQ(ih,iq,ib)};ev.filter=function(d3){var ic=[],ij,ii,id;if(typeof d3!=="function"){d3=a8(d3)}for(var ig=0,ie=this.length;ig<ie;ig++){ic.push(ij=[]);for(var ii=this[ig],ih=0,ib=ii.length;ih<ib;ih++){if((id=ii[ih])&&d3.call(id,id.__data__,ih,ig)){ij.push(id)}}}return gQ(ic,this.namespace,this.id)};ev.tween=function(d3,ib){var ie=this.id,ic=this.namespace;if(arguments.length<2){return this.node()[ic][ie].tween.get(d3)}return cI(this,ib==null?function(id){id[ic][ie].tween.remove(d3)}:function(id){id[ic][ie].tween.set(d3,ib)})};function hM(d3,ib,ig,ic){var ih=d3.id,ie=d3.namespace;return cI(d3,typeof ig==="function"?function(ij,ii,id){ij[ie][ih].tween.set(ib,ic(ig.call(ij,ij.__data__,ii,id)))}:(ig=ic(ig),function(id){id[ie][ih].tween.set(ib,ig)}))}ev.attr=function(d3,ig){if(arguments.length<2){for(ig in d3){this.attr(ig,d3[ig])}return this}var id=d3=="transform"?eg:fB,ic=hn.ns.qualify(d3);function ib(){this.removeAttribute(ic)}function ii(){this.removeAttributeNS(ic.space,ic.local)}function ie(ij){return ij==null?ib:(ij+="",function(){var ik=this.getAttribute(ic),il;return ik!==ij&&(il=id(ik,ij),function(im){this.setAttribute(ic,il(im))})})}function ih(ij){return ij==null?ii:(ij+="",function(){var ik=this.getAttributeNS(ic.space,ic.local),il;return ik!==ij&&(il=id(ik,ij),function(im){this.setAttributeNS(ic.space,ic.local,il(im))})})}return hM(this,"attr."+d3,ig,ic.local?ih:ie)};ev.attrTween=function(d3,ic){var ib=hn.ns.qualify(d3);function id(ii,ig){var ih=ic.call(this,ii,ig,this.getAttribute(ib));return ih&&function(ij){this.setAttribute(ib,ih(ij))}}function ie(ii,ig){var ih=ic.call(this,ii,ig,this.getAttributeNS(ib.space,ib.local));return ih&&function(ij){this.setAttributeNS(ib.space,ib.local,ih(ij))}}return this.tween("attr."+d3,ib.local?ie:id)};ev.style=function(ic,ie,id){var ig=arguments.length;if(ig<3){if(typeof ic!=="string"){if(ig<2){ie=""}for(id in ic){this.style(id,ic[id],ie)}return this}id=""}function ib(){this.style.removeProperty(ic)}function d3(ih){return ih==null?ib:(ih+="",function(){var ii=fx(this).getComputedStyle(this,null).getPropertyValue(ic),ij;return ii!==ih&&(ij=fB(ii,ih),function(ik){this.style.setProperty(ic,ij(ik),id)})})}return hM(this,"style."+ic,ie,d3)};ev.styleTween=function(d3,ic,ib){if(arguments.length<3){ib=""}function id(ih,ie){var ig=ic.call(this,ih,ie,fx(this).getComputedStyle(this,null).getPropertyValue(d3));return ig&&function(ii){this.style.setProperty(d3,ig(ii),ib)}}return this.tween("style."+d3,id)};ev.text=function(d3){return hM(this,"text",d3,ia)};function ia(d3){if(d3==null){d3=""}return function(){this.textContent=d3}}ev.remove=function(){var d3=this.namespace;return this.each("end.transition",function(){var ib;if(this[d3].count<2&&(ib=this.parentNode)){ib.removeChild(this)}})};ev.ease=function(ib){var ic=this.id,d3=this.namespace;if(arguments.length<1){return this.node()[d3][ic].ease}if(typeof ib!=="function"){ib=hn.ease.apply(hn,arguments)}return cI(this,function(id){id[d3][ic].ease=ib})};ev.delay=function(ib){var ic=this.id,d3=this.namespace;if(arguments.length<1){return this.node()[d3][ic].delay}return cI(this,typeof ib==="function"?function(ig,ie,id){ig[d3][ic].delay=+ib.call(ig,ig.__data__,ie,id)}:(ib=+ib,function(id){id[d3][ic].delay=ib}))};ev.duration=function(ib){var ic=this.id,d3=this.namespace;if(arguments.length<1){return this.node()[d3][ic].duration}return cI(this,typeof ib==="function"?function(ig,ie,id){ig[d3][ic].duration=Math.max(1,ib.call(ig,ig.__data__,ie,id))}:(ib=Math.max(1,ib),function(id){id[d3][ic].duration=ib}))};ev.each=function(ic,ie){var ih=this.id,ib=this.namespace;if(arguments.length<2){var d3=d4,ig=aq;try{aq=ih;cI(this,function(ij,ii,id){d4=ij[ib][ih];ic.call(ij,ij.__data__,ii,id)})}finally{d4=d3;aq=ig}}else{cI(this,function(id){var ii=id[ib][ih];(ii.event||(ii.event=hn.dispatch("start","end","interrupt"))).on(ic,ie)})}return this};ev.transition=function(){var im=this.id,il=++ha,ii=this.namespace,ib=[],ik,ij,id,ih;for(var ie=0,ic=this.length;ie<ic;ie++){ib.push(ik=[]);for(var ij=this[ie],ig=0,d3=ij.length;ig<d3;ig++){if(id=ij[ig]){ih=id[ii][im];fA(id,ig,ii,il,{time:ih.time,ease:ih.ease,delay:ih.delay+ih.duration,duration:ih.duration})}ik.push(id)}}return gQ(ib,ii,il)};function gy(d3){return d3==null?"__transition__":"__transition_"+d3+"__"}function fA(ig,ij,iq,ic,ik){var ir=ig[iq]||(ig[iq]={active:0,count:0}),ip=ir[ic],ie,ib,ii,ih,io;function im(id){var it=ip.delay;ib.t=it+ie;if(it<=id){return d3(id-it)}ib.c=d3}function d3(id){var it=ir.active,iv=ir[it];if(iv){iv.timer.c=null;iv.timer.t=NaN;--ir.count;delete ir[it];iv.event&&iv.event.interrupt.call(ig,ig.__data__,iv.index)}for(var iw in ir){if(+iw<ic){var iu=ir[iw];iu.timer.c=null;iu.timer.t=NaN;--ir.count;delete ir[iw]}}ib.c=il;g2(function(){if(ib.c&&il(id||1)){ib.c=null;ib.t=NaN}return 1},0,ie);ir.active=ic;ip.event&&ip.event.start.call(ig,ig.__data__,ij);io=[];ip.tween.forEach(function(ix,iy){if(iy=iy.call(ig,ig.__data__,ij)){io.push(iy)}});ih=ip.ease;ii=ip.duration}function il(id){var it=id/ii,iu=ih(it),iv=io.length;while(iv>0){io[--iv].call(ig,iu)}if(it>=1){ip.event&&ip.event.end.call(ig,ig.__data__,ij);if(--ir.count){delete ir[ic]}else{delete ig[iq]}return 1}}if(!ip){ie=ik.time;ib=g2(im,0,ie);ip=ir[ic]={tween:new aH(),time:ie,timer:ib,delay:ik.delay,duration:ik.duration,ease:ik.ease,index:ij};ik=null;++ir.count}}hn.svg.axis=function(){var ic=hn.scale.linear(),ie=hV,d3=6,ig=6,ij=3,ii=[10],id=null,ih;function ib(ik){ik.each(function(){var iI=hn.select(this);var iD=this.__chart__||ic,iC=this.__chart__=ic.copy();var iL=id==null?iC.ticks?iC.ticks.apply(iC,ii):iC.domain():id,iB=ih==null?iC.tickFormat?iC.tickFormat.apply(iC,ii):gk:ih,iF=iI.selectAll(".tick").data(iL,iC),iy=iF.enter().insert("g",".domain").attr("class","tick").style("opacity",gm),iA=hn.transition(iF.exit()).style("opacity",gm).remove(),it=hn.transition(iF.order()).style("opacity",1),il=Math.max(d3,0)+ij,im;var ix=aY(iC),iz=iI.selectAll(".domain").data([0]),iM=(iz.enter().append("path").attr("class","domain"),hn.transition(iz));iy.append("line");iy.append("text");var iq=iy.select("line"),iK=it.select("line"),iw=iF.select("text").text(iB),ir=iy.select("text"),iH=it.select("text"),iJ=ie==="top"||ie==="left"?-1:1,iG,iE,ip,io;if(ie==="bottom"||ie==="top"){im=fl,iG="x",ip="y",iE="x2",io="y2";iw.attr("dy",iJ<0?"0em":".71em").style("text-anchor","middle");iM.attr("d","M"+ix[0]+","+iJ*ig+"V0H"+ix[1]+"V"+iJ*ig)}else{im=fk,iG="y",ip="x",iE="y2",io="x2";iw.attr("dy",".32em").style("text-anchor",iJ<0?"end":"start");iM.attr("d","M"+iJ*ig+","+ix[0]+"H0V"+ix[1]+"H"+iJ*ig)}iq.attr(io,iJ*d3);ir.attr(ip,iJ*il);iK.attr(iE,0).attr(io,iJ*d3);iH.attr(iG,0).attr(ip,iJ*il);if(iC.rangeBand){var iu=iC,iv=iu.rangeBand()/2;iD=iC=function(iN){return iu(iN)+iv}}else{if(iD.rangeBand){iD=iC}else{iA.call(im,iC,iD)}}iy.call(im,iD,iC);it.call(im,iC,iC)})}ib.scale=function(ik){if(!arguments.length){return ic}ic=ik;return ib};ib.orient=function(ik){if(!arguments.length){return ie}ie=ik in e2?ik+"":hV;return ib};ib.ticks=function(){if(!arguments.length){return ii}ii=dO(arguments);return ib};ib.tickValues=function(ik){if(!arguments.length){return id}id=ik;return ib};ib.tickFormat=function(ik){if(!arguments.length){return ih}ih=ik;return ib};ib.tickSize=function(ik){var il=arguments.length;if(!il){return d3}d3=+ik;ig=+arguments[il-1];return ib};ib.innerTickSize=function(ik){if(!arguments.length){return d3}d3=+ik;return ib};ib.outerTickSize=function(ik){if(!arguments.length){return ig}ig=+ik;return ib};ib.tickPadding=function(ik){if(!arguments.length){return ij}ij=+ik;return ib};ib.tickSubdivide=function(){return arguments.length&&ib};return ib};var hV="bottom",e2={top:1,right:1,bottom:1,left:1};function fl(ic,ib,d3){ic.attr("transform",function(ie){var id=ib(ie);return"translate("+(isFinite(id)?id:d3(ie))+",0)"})}function fk(ib,ic,d3){ib.attr("transform",function(ie){var id=ic(ie);return"translate(0,"+(isFinite(id)?id:d3(ie))+")"})}hn.svg.brush=function(){var ib=hh(ij,"brushstart","brush","brushend"),im=null,ik=null,ic=[0,0],ii=[0,0],il,ie,d3=true,ih=true,io=ar[0];function ij(ir){ir.each(function(){var iy=hn.select(this).style("pointer-events","all").style("-webkit-tap-highlight-color","rgba(0,0,0,0)").on("mousedown.brush",ip).on("touchstart.brush",ip);var ix=iy.selectAll(".background").data([0]);ix.enter().append("rect").attr("class","background").style("visibility","hidden").style("cursor","crosshair");iy.selectAll(".extent").data([0]).enter().append("rect").attr("class","extent").style("cursor","move");var iw=iy.selectAll(".resize").data(io,gk);iw.exit().remove();iw.enter().append("g").attr("class",function(iz){return"resize "+iz}).style("cursor",function(iz){return eV[iz]}).append("rect").attr("x",function(iz){return/[ew]$/.test(iz)?-3:null}).attr("y",function(iz){return/^[ns]/.test(iz)?-3:null}).attr("width",6).attr("height",6).style("visibility","hidden");iw.style("display",ij.empty()?"none":null);var iv=hn.transition(iy),it=hn.transition(ix),iu;if(im){iu=aY(im);it.attr("x",iu[0]).attr("width",iu[1]-iu[0]);ig(iv)}if(ik){iu=aY(ik);it.attr("y",iu[0]).attr("height",iu[1]-iu[0]);id(iv)}iq(iv)})}ij.event=function(ir){ir.each(function(){var it=ib.of(this,arguments),iu={x:ic,y:ii,i:il,j:ie},iv=this.__chart__||iu;this.__chart__=iu;if(aq){hn.select(this).transition().each("start.brush",function(){il=iv.i;ie=iv.j;ic=iv.x;ii=iv.y;it({type:"brushstart"})}).tween("brush:brush",function(){var iw=eO(ic,iu.x),ix=eO(ii,iu.y);il=ie=null;return function(iy){ic=iu.x=iw(iy);ii=iu.y=ix(iy);it({type:"brush",mode:"resize"})}}).each("end.brush",function(){il=iu.i;ie=iu.j;it({type:"brush",mode:"resize"});it({type:"brushend"})})}else{it({type:"brushstart"});it({type:"brush",mode:"resize"});it({type:"brushend"})}})};function iq(ir){ir.selectAll(".resize").attr("transform",function(it){return"translate("+ic[+/e$/.test(it)]+","+ii[+/^s/.test(it)]+")"})}function ig(ir){ir.select(".extent").attr("x",ic[0]);ir.selectAll(".extent,.n>rect,.s>rect").attr("width",ic[1]-ic[0])}function id(ir){ir.select(".extent").attr("y",ii[0]);ir.selectAll(".extent,.e>rect,.w>rect").attr("height",ii[1]-ii[0])}function ip(){var iL=this,it=hn.select(hn.event.target),iA=ib.of(iL,arguments),iG=hn.select(iL),iI=it.datum(),iE=!/^(n|s)$/.test(iI)&&im,iC=!/^(e|w)$/.test(iI)&&ik,iD=it.classed("extent"),iv=bK(iL),iJ,iK=hn.mouse(iL),iu;var iy=hn.select(fx(iL)).on("keydown.brush",iB).on("keyup.brush",ix);if(hn.event.changedTouches){iy.on("touchmove.brush",iz).on("touchend.brush",ir)}else{iy.on("mousemove.brush",iz).on("mouseup.brush",ir)}iG.interrupt().selectAll("*").interrupt();if(iD){iK[0]=ic[0]-iK[0];iK[1]=ii[0]-iK[1]}else{if(iI){var iH=+/w$/.test(iI),iF=+/^n/.test(iI);iu=[ic[1-iH]-iK[0],ii[1-iF]-iK[1]];iK[0]=ic[iH];iK[1]=ii[iF]}else{if(hn.event.altKey){iJ=iK.slice()}}}iG.style("pointer-events","none").selectAll(".resize").style("display",null);hn.select("body").style("cursor",it.style("cursor"));iA({type:"brushstart"});iz();function iB(){if(hn.event.keyCode==32){if(!iD){iJ=null;iK[0]-=ic[1];iK[1]-=ii[1];iD=2}v()}}function ix(){if(hn.event.keyCode==32&&iD==2){iK[0]+=ic[1];iK[1]+=ii[1];iD=0;v()}}function iz(){var iM=hn.mouse(iL),iN=false;if(iu){iM[0]+=iu[0];iM[1]+=iu[1]}if(!iD){if(hn.event.altKey){if(!iJ){iJ=[(ic[0]+ic[1])/2,(ii[0]+ii[1])/2]}iK[0]=ic[+(iM[0]<iJ[0])];iK[1]=ii[+(iM[1]<iJ[1])]}else{iJ=null}}if(iE&&iw(iM,im,0)){ig(iG);iN=true}if(iC&&iw(iM,ik,1)){id(iG);iN=true}if(iN){iq(iG);iA({type:"brush",mode:iD?"move":"resize"})}}function iw(iU,iO,iQ){var iR=aY(iO),iN=iR[0],iM=iR[1],iS=iK[iQ],iV=iQ?ii:ic,iW=iV[1]-iV[0],iP,iT;if(iD){iN-=iS;iM-=iW+iS}iP=(iQ?ih:d3)?Math.max(iN,Math.min(iM,iU[iQ])):iU[iQ];if(iD){iT=(iP+=iS)+iW}else{if(iJ){iS=Math.max(iN,Math.min(iM,2*iJ[iQ]-iP))}if(iS<iP){iT=iP;iP=iS}else{iT=iS}}if(iV[0]!=iP||iV[1]!=iT){if(iQ){ie=null}else{il=null}iV[0]=iP;iV[1]=iT;return true}}function ir(){iz();iG.style("pointer-events","all").selectAll(".resize").style("display",ij.empty()?"none":null);hn.select("body").style("cursor",null);iy.on("mousemove.brush",null).on("mouseup.brush",null).on("touchmove.brush",null).on("touchend.brush",null).on("keydown.brush",null).on("keyup.brush",null);iv();iA({type:"brushend"})}}ij.x=function(ir){if(!arguments.length){return im}im=ir;io=ar[!im<<1|!ik];return ij};ij.y=function(ir){if(!arguments.length){return ik}ik=ir;io=ar[!im<<1|!ik];return ij};ij.clamp=function(ir){if(!arguments.length){return im&&ik?[d3,ih]:im?d3:ik?ih:null}if(im&&ik){d3=!!ir[0],ih=!!ir[1]}else{if(im){d3=!!ir}else{if(ik){ih=!!ir}}}return ij};ij.extent=function(ix){var iu,ir,iw,iv,it;if(!arguments.length){if(im){if(il){iu=il[0],ir=il[1]}else{iu=ic[0],ir=ic[1];if(im.invert){iu=im.invert(iu),ir=im.invert(ir)}if(ir<iu){it=iu,iu=ir,ir=it}}}if(ik){if(ie){iw=ie[0],iv=ie[1]}else{iw=ii[0],iv=ii[1];if(ik.invert){iw=ik.invert(iw),iv=ik.invert(iv)}if(iv<iw){it=iw,iw=iv,iv=it}}}return im&&ik?[[iu,iw],[ir,iv]]:im?[iu,ir]:ik&&[iw,iv]}if(im){iu=ix[0],ir=ix[1];if(ik){iu=iu[0],ir=ir[0]}il=[iu,ir];if(im.invert){iu=im(iu),ir=im(ir)}if(ir<iu){it=iu,iu=ir,ir=it}if(iu!=ic[0]||ir!=ic[1]){ic=[iu,ir]}}if(ik){iw=ix[0],iv=ix[1];if(im){iw=iw[1],iv=iv[1]}ie=[iw,iv];if(ik.invert){iw=ik(iw),iv=ik(iv)}if(iv<iw){it=iw,iw=iv,iv=it}if(iw!=ii[0]||iv!=ii[1]){ii=[iw,iv]}}return ij};ij.clear=function(){if(!ij.empty()){ic=[0,0],ii=[0,0];il=ie=null}return ij};ij.empty=function(){return !!im&&ic[0]==ic[1]||!!ik&&ii[0]==ii[1]};return hn.rebind(ij,ib,"on")};var eV={n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"};var ar=[["n","e","s","w","nw","ne","se","sw"],["e","w"],["n","s"],[]];var h9=fF.format=dh.timeFormat;var df=h9.utc;var dP=df("%Y-%m-%dT%H:%M:%S.%LZ");h9.iso=Date.prototype.toISOString&&+new Date("2000-01-01T00:00:00.000Z")?dx:dP;function dx(d3){return d3.toISOString()}dx.parse=function(ib){var d3=new Date(ib);return isNaN(d3)?null:d3};dx.toString=dP.toString;fF.second=c0(function(d3){return new hr(Math.floor(d3/1000)*1000)},function(d3,ib){d3.setTime(d3.getTime()+Math.floor(ib)*1000)},function(d3){return d3.getSeconds()});fF.seconds=fF.second.range;fF.seconds.utc=fF.second.utc.range;fF.minute=c0(function(d3){return new hr(Math.floor(d3/60000)*60000)},function(d3,ib){d3.setTime(d3.getTime()+Math.floor(ib)*60000)},function(d3){return d3.getMinutes()});fF.minutes=fF.minute.range;fF.minutes.utc=fF.minute.utc.range;fF.hour=c0(function(d3){var ib=d3.getTimezoneOffset()/60;return new hr((Math.floor(d3/3600000-ib)+ib)*3600000)},function(d3,ib){d3.setTime(d3.getTime()+Math.floor(ib)*3600000)},function(d3){return d3.getHours()});fF.hours=fF.hour.range;fF.hours.utc=fF.hour.utc.range;fF.month=c0(function(d3){d3=fF.day(d3);d3.setDate(1);return d3},function(d3,ib){d3.setMonth(d3.getMonth()+ib)},function(d3){return d3.getMonth()});fF.months=fF.month.range;fF.months.utc=fF.month.utc.range;function bq(d3,ib,ic){function id(ig){return d3(ig)}id.invert=function(ig){return fZ(d3.invert(ig))};id.domain=function(ig){if(!arguments.length){return d3.domain().map(fZ)}d3.domain(ig);return id};function ie(ii,ij){var ih=ii[1]-ii[0],ik=ih/ij,ig=hn.bisect(fa,ik);return ig==fa.length?[ib.year,p(ii.map(function(il){return il/31536000000}),ij)[2]]:!ig?[cy,p(ii,ij)[2]]:ib[ik/fa[ig-1]<fa[ig]/ik?ig-1:ig]}id.nice=function(ih,ij){var ik=id.domain(),ii=es(ik),il=ih==null?ie(ii,10):typeof ih==="number"&&ie(ii,ih);if(il){ih=il[0],ij=il[1]}function ig(im){return !isNaN(im)&&!ih.range(im,fZ(+im+1),ij).length}return id.domain(gh(ik,ij>1?{floor:function(im){while(ig(im=ih.floor(im))){im=fZ(im-1)}return im},ceil:function(im){while(ig(im=ih.ceil(im))){im=fZ(+im+1)}return im}}:ih))};id.ticks=function(ig,ii){var ih=es(id.domain()),ij=ig==null?ie(ih,10):typeof ig==="number"?ie(ih,ig):!ig.range&&[{range:ig},ii];if(ij){ig=ij[0],ii=ij[1]}return ig.range(ih[0],fZ(+ih[1]+1),ii<1?1:ii)};id.tickFormat=function(){return ic};id.copy=function(){return bq(d3.copy(),ib,ic)};return f9(id,d3)}function fZ(d3){return new Date(d3)}var fa=[1000,5000,15000,30000,60000,300000,900000,1800000,3600000,10800000,21600000,43200000,86400000,172800000,604800000,2592000000,7776000000,31536000000];var cC=[[fF.second,1],[fF.second,5],[fF.second,15],[fF.second,30],[fF.minute,1],[fF.minute,5],[fF.minute,15],[fF.minute,30],[fF.hour,1],[fF.hour,3],[fF.hour,6],[fF.hour,12],[fF.day,1],[fF.day,2],[fF.week,1],[fF.month,1],[fF.month,3],[fF.year,1]];var R=h9.multi([[".%L",function(d3){return d3.getMilliseconds()}],[":%S",function(d3){return d3.getSeconds()}],["%I:%M",function(d3){return d3.getMinutes()}],["%I %p",function(d3){return d3.getHours()}],["%a %d",function(d3){return d3.getDay()&&d3.getDate()!=1}],["%b %d",function(d3){return d3.getDate()!=1}],["%B",function(d3){return d3.getMonth()}],["%Y",ag]]);var cy={range:function(ic,d3,ib){return hn.range(Math.ceil(ic/ib)*ib,+d3,ib).map(fZ)},floor:gk,ceil:gk};cC.year=fF.year;fF.scale=function(){return bq(hn.scale.linear(),cC,R)};var f2=cC.map(function(d3){return[d3[0].utc,d3[1]]});var fq=df.multi([[".%L",function(d3){return d3.getUTCMilliseconds()}],[":%S",function(d3){return d3.getUTCSeconds()}],["%I:%M",function(d3){return d3.getUTCMinutes()}],["%I %p",function(d3){return d3.getUTCHours()}],["%a %d",function(d3){return d3.getUTCDay()&&d3.getUTCDate()!=1}],["%b %d",function(d3){return d3.getUTCDate()!=1}],["%B",function(d3){return d3.getUTCMonth()}],["%Y",ag]]);f2.year=fF.year.utc;fF.scale.utc=function(){return bq(hn.scale.linear(),f2,fq)};hn.text=W(function(d3){return d3.responseText});hn.json=function(d3,ib){return hY(d3,"application/json",dL,ib)};function dL(d3){return JSON.parse(d3.responseText)}hn.html=function(d3,ib){return hY(d3,"text/html",h8,ib)};function h8(ib){var d3=bN.createRange();d3.selectNode(bN.body);return d3.createContextualFragment(ib.responseText)}hn.xml=W(function(d3){return d3.responseXML});if(typeof define==="function"&&define.amd){this.d3=hn,define(hn)}else{if(typeof c==="object"&&c.exports){c.exports=hn}else{this.d3=hn}}}()},{}]},{},[14]);